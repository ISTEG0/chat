{"mappings":"ImDkBI,EAiEA,EAweA,EAkJA,ElDpqBA,E,S,E,C,E,O,G,E,U,C,E,O,C,C,C,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,C,EEzCJ,EAAiB,IAAA,IAAoB,AAAA,EAAA,SAAA,OAAA,CAA6C,SAAA,YAAA,GAAA,EAAU,QAA5F,G,I,E,C,ECAA,EAAiB,IAAA,IAAoB,AAAA,EAAA,SAAA,OAAA,CAA6C,SAAA,YAAA,GAAA,EAAU,QAA5F,G,I,E,C,ECAA,EAAiB,IAAA,IAAoB,AAAA,EAAA,SAAA,OAAA,CAA6C,SAAA,YAAA,GAAA,EAAU,QAA5F,G,I,E,C,ECAA,EAAiB,IAAA,IAAoB,AAAA,EAAA,SAAA,OAAA,CAA6C,SAAA,YAAA,GAAA,EAAU,QAA5F,G,I,E,C,ECAA,EAAiB,IAAA,IAAoB,AAAA,EAAA,SAAA,OAAA,CAA6C,SAAA,YAAA,GAAA,EAAU,QAA5F,G,I,E,C,ECAA,EAAiB,IAAA,IAAoB,AAAA,EAAA,SAAA,OAAA,CAA6C,SAAA,YAAA,GAAA,EAAU,QAA5F,GNOO,MAAM,EAAK,CACd,KAAM,SAAS,aAAA,CAAc,SAC7B,aAAc,SAAS,aAAA,CAAc,gBACrC,eAAgB,SAAS,aAAA,CAAc,mBACvC,QAAS,SAAS,aAAA,CAAc,aAChC,KAAM,SAAS,aAAA,CAAc,cAC7B,YAAa,SAAS,aAAA,CAAc,iBACpC,WAAY,SAAS,aAAA,CAAc,aACnC,QAAS,SAAS,aAAA,CAAc,oBAChC,SAAU,SAAS,aAAA,CAAc,aACjC,SAAU,SAAS,aAAA,CAAc,cACjC,eAAgB,SAAS,aAAA,CAAc,UACvC,MAAO,SAAS,aAAA,CAAc,eAClC,EAEa,EAAW,CACpB,MAAO,SAAS,aAAA,CAAc,aAC9B,cAAe,S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","sources":["<anon>","src/js/script.js","src/js/modules/variables.mjs","node_modules/@parcel/runtime-js/lib/runtime-f64b37ba9d0524af.js","node_modules/@parcel/runtime-js/lib/runtime-7ddcc9abb842f00c.js","node_modules/@parcel/runtime-js/lib/runtime-78bf8b69d242dbf3.js","node_modules/@parcel/runtime-js/lib/runtime-8f0aa876834ab7df.js","node_modules/@parcel/runtime-js/lib/runtime-e2896f83de883d1f.js","node_modules/@parcel/runtime-js/lib/runtime-4d314dabec15ed5c.js","src/js/modules/cookie.mjs","node_modules/js-cookie/dist/js.cookie.js","src/js/modules/api.mjs","src/js/modules/help-functions.mjs","node_modules/date-fns/esm/format/index.js","node_modules/date-fns/esm/isValid/index.js","node_modules/date-fns/esm/isDate/index.js","node_modules/@babel/runtime/helpers/esm/typeof.js","node_modules/date-fns/esm/_lib/requiredArgs/index.js","node_modules/date-fns/esm/toDate/index.js","node_modules/date-fns/esm/subMilliseconds/index.js","node_modules/date-fns/esm/addMilliseconds/index.js","node_modules/date-fns/esm/_lib/toInteger/index.js","node_modules/date-fns/esm/_lib/format/formatters/index.js","node_modules/date-fns/esm/_lib/getUTCDayOfYear/index.js","node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js","node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js","node_modules/date-fns/esm/_lib/startOfUTCISOWeekYear/index.js","node_modules/date-fns/esm/_lib/getUTCISOWeekYear/index.js","node_modules/date-fns/esm/_lib/getUTCWeek/index.js","node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js","node_modules/date-fns/esm/_lib/defaultOptions/index.js","node_modules/date-fns/esm/_lib/startOfUTCWeekYear/index.js","node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js","node_modules/date-fns/esm/_lib/addLeadingZeros/index.js","node_modules/date-fns/esm/_lib/format/lightFormatters/index.js","node_modules/date-fns/esm/_lib/format/longFormatters/index.js","node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","node_modules/date-fns/esm/_lib/protectedTokens/index.js","node_modules/date-fns/esm/_lib/defaultLocale/index.js","node_modules/date-fns/esm/locale/en-US/index.js","node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js","node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js","node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js","node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js","node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","node_modules/date-fns/esm/locale/en-US/_lib/match/index.js","node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","src/js/modules/modal-functions.mjs","node_modules/emoji-picker-element/index.js","node_modules/emoji-picker-element/picker.js","node_modules/emoji-picker-element/database.js","src/js/modules/storage.mjs","src/js/modules/virtualization.mjs"],"sourcesContent":["function $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequiref756\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequiref756\"] = parcelRequire;\n}\nvar $1a6786126688624c$exports = {};\n\n$1a6786126688624c$exports = new URL((parcelRequire(\"27Lyk\")).resolve(\"dgJAf\"), import.meta.url).toString();\n\n\nvar $64cdc957780bedd4$exports = {};\n\n$64cdc957780bedd4$exports = new URL((parcelRequire(\"27Lyk\")).resolve(\"1VPNH\"), import.meta.url).toString();\n\n\nvar $d99691f014277461$exports = {};\n\n$d99691f014277461$exports = new URL((parcelRequire(\"27Lyk\")).resolve(\"dACyE\"), import.meta.url).toString();\n\n\nvar $fa56304bd2143c42$exports = {};\n\n$fa56304bd2143c42$exports = new URL((parcelRequire(\"27Lyk\")).resolve(\"2Iap4\"), import.meta.url).toString();\n\n\nvar $32e0d53858d16f8d$exports = {};\n\n$32e0d53858d16f8d$exports = new URL((parcelRequire(\"27Lyk\")).resolve(\"25Ney\"), import.meta.url).toString();\n\n\nvar $2976aa61788b069c$exports = {};\n\n$2976aa61788b069c$exports = new URL((parcelRequire(\"27Lyk\")).resolve(\"jv32c\"), import.meta.url).toString();\n\n\nconst $710d9f988580cc01$export$4b08aed5f1ec6952 = {\n    chat: document.querySelector(\".chat\"),\n    dialogWindow: document.querySelector(\".chat-dialog\"),\n    enterFieldChat: document.querySelector(\".chat-form__inp\"),\n    btnSend: document.querySelector(\".btn-send\"),\n    form: document.querySelector(\".chat-form\"),\n    btnSettings: document.querySelector(\".btn-settings\"),\n    btnSignOut: document.querySelector(\".btn-exit\"),\n    preload: document.querySelector(\".preload-wrapper\"),\n    nickname: document.querySelector(\".nickname\"),\n    btnEmoji: document.querySelector(\".btn-emoji\"),\n    emojiContainer: document.querySelector(\".emoji\"),\n    emoji: document.querySelector(\"emoji-picker\")\n};\nconst $710d9f988580cc01$export$c3905cc64f203472 = {\n    modal: document.querySelector(\"#modal-js\"),\n    btnModalClose: document.querySelector(\".modal__btn-close\"),\n    btnGiveCode: document.querySelector(\".btn-give-code\"),\n    btnEnterCode: document.querySelector(\".btn-enter-code\"),\n    btnSingIn: document.querySelector(\".btn-sing-in\"),\n    enterFieldModal: document.querySelector(\".modal-input\"),\n    titleModal: document.querySelector(\".modal__title-text\"),\n    titleInputModal: document.querySelector(\".modal-form__title\"),\n    btnRename: document.querySelector(\".btn-rename\"),\n    btnBack: document.querySelector(\".btn-back\"),\n    notification: document.querySelector(\".notification\"),\n    notificationText: document.querySelector(\".notification__text\"),\n    notificationName: document.querySelector(\".notification__text-name\")\n};\nconst $710d9f988580cc01$export$a0b86ff86acae638 = {\n    authorization: {\n        title: \"Авторизация\",\n        inputTitle: \"Почта:\",\n        placeholder: \"Введите почту...\",\n        notificationOk: \"Код успешно отправлен вам на почту!\",\n        notificationError: \"Произошла ошибка, повторите снова или попозже\"\n    },\n    confirmation: {\n        title: \"Подтверждение\",\n        inputTitle: \"Код:\",\n        placeholder: \"Введите код...\",\n        notificationError: \"Произошла ошибка, повторите снова или попозже\",\n        notificationIncorrectCode: \"Не верный код авторизации\"\n    },\n    settings: {\n        title: \"Настройки\",\n        inputTitle: \"Имя в чате:\",\n        placeholder: \"Введите имя...\",\n        notificationOk: \"Имя успешно изменено на \",\n        notificationError: \"Произошла ошибка, повторите снова или попозже\"\n    }\n};\nconst $710d9f988580cc01$export$fde44257752a9f60 = {\n    srcBtnDisabled: `url(\"${(0, (/*@__PURE__*/$parcel$interopDefault($1a6786126688624c$exports)))}\")`,\n    srcBtnActive: `url(\"${(0, (/*@__PURE__*/$parcel$interopDefault($64cdc957780bedd4$exports)))}\")`,\n    srcBtnRenameActive: `url(\"${(0, (/*@__PURE__*/$parcel$interopDefault($d99691f014277461$exports)))}\")`,\n    srcBtnRenameDisabled: `url(\"${(0, (/*@__PURE__*/$parcel$interopDefault($fa56304bd2143c42$exports)))}\")`,\n    srcBtnEmojiActive: `url(\"${(0, (/*@__PURE__*/$parcel$interopDefault($32e0d53858d16f8d$exports)))}\")`,\n    srcBtnEmojiDisabled: `url(\"${(0, (/*@__PURE__*/$parcel$interopDefault($2976aa61788b069c$exports)))}\")`\n};\nconst $710d9f988580cc01$export$6120d77db9a8f6cb = {\n    sendingMessage: \"sent-message\",\n    inboxMessage: \"in-message\",\n    hideBtn: \"hide-btn\",\n    activeBtn: \"active-btn\",\n    notificationOk: \"show-notification-green\",\n    notificationError: \"show-notification-red\",\n    showEmoji: \"show-emoji\"\n};\nconst $710d9f988580cc01$export$e8ce68e05eb6eb69 = document.querySelector(\"#template\");\nconst $710d9f988580cc01$export$a3574df893ffa88d = document.querySelector(\".chat-form__textarea\");\nconst $710d9f988580cc01$export$b3167c59aca35da5 = {\n    messageTimeTemplate: $710d9f988580cc01$export$e8ce68e05eb6eb69.content.querySelector(\".dialog-info__message-time\"),\n    messageTextTemlate: $710d9f988580cc01$export$e8ce68e05eb6eb69.content.querySelector(\".chat-dialog__message-text\"),\n    messageNicknameTemlate: $710d9f988580cc01$export$e8ce68e05eb6eb69.content.querySelector(\".dialog-info__message-nickname\")\n};\n\n\nvar $666bc8f27f76152a$exports = {};\n(function(global, factory) {\n    $666bc8f27f76152a$exports = factory();\n})($666bc8f27f76152a$exports, function() {\n    \"use strict\";\n    /* eslint-disable no-var */ function assign(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)target[key] = source[key];\n        }\n        return target;\n    }\n    /* eslint-enable no-var */ /* eslint-disable no-var */ var defaultConverter = {\n        read: function(value) {\n            if (value[0] === '\"') value = value.slice(1, -1);\n            return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent);\n        },\n        write: function(value) {\n            return encodeURIComponent(value).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g, decodeURIComponent);\n        }\n    };\n    /* eslint-enable no-var */ /* eslint-disable no-var */ function init(converter, defaultAttributes) {\n        function set(name, value, attributes) {\n            if (typeof document === \"undefined\") return;\n            attributes = assign({}, defaultAttributes, attributes);\n            if (typeof attributes.expires === \"number\") attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n            if (attributes.expires) attributes.expires = attributes.expires.toUTCString();\n            name = encodeURIComponent(name).replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent).replace(/[()]/g, escape);\n            var stringifiedAttributes = \"\";\n            for(var attributeName in attributes){\n                if (!attributes[attributeName]) continue;\n                stringifiedAttributes += \"; \" + attributeName;\n                if (attributes[attributeName] === true) continue;\n                // Considers RFC 6265 section 5.2:\n                // ...\n                // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n                //     character:\n                // Consume the characters of the unparsed-attributes up to,\n                // not including, the first %x3B (\";\") character.\n                // ...\n                stringifiedAttributes += \"=\" + attributes[attributeName].split(\";\")[0];\n            }\n            return document.cookie = name + \"=\" + converter.write(value, name) + stringifiedAttributes;\n        }\n        function get(name) {\n            if (typeof document === \"undefined\" || arguments.length && !name) return;\n            // To prevent the for loop in the first place assign an empty array\n            // in case there are no cookies at all.\n            var cookies = document.cookie ? document.cookie.split(\"; \") : [];\n            var jar = {};\n            for(var i = 0; i < cookies.length; i++){\n                var parts = cookies[i].split(\"=\");\n                var value = parts.slice(1).join(\"=\");\n                try {\n                    var found = decodeURIComponent(parts[0]);\n                    jar[found] = converter.read(value, found);\n                    if (name === found) break;\n                } catch (e) {}\n            }\n            return name ? jar[name] : jar;\n        }\n        return Object.create({\n            set: set,\n            get: get,\n            remove: function(name, attributes) {\n                set(name, \"\", assign({}, attributes, {\n                    expires: -1\n                }));\n            },\n            withAttributes: function(attributes) {\n                return init(this.converter, assign({}, this.attributes, attributes));\n            },\n            withConverter: function(converter) {\n                return init(assign({}, this.converter, converter), this.attributes);\n            }\n        }, {\n            attributes: {\n                value: Object.freeze(defaultAttributes)\n            },\n            converter: {\n                value: Object.freeze(converter)\n            }\n        });\n    }\n    var api = init(defaultConverter, {\n        path: \"/\"\n    });\n    /* eslint-enable no-var */ return api;\n});\n\n\nfunction $de88f8a217b692c9$export$110700823644f4a6(name, value) {\n    (0, (/*@__PURE__*/$parcel$interopDefault($666bc8f27f76152a$exports))).set(name, value);\n}\nfunction $de88f8a217b692c9$export$4be65e66cfa2648a(name) {\n    return (0, (/*@__PURE__*/$parcel$interopDefault($666bc8f27f76152a$exports))).get(name);\n}\nfunction $de88f8a217b692c9$export$6a874b7a74007875(name) {\n    (0, (/*@__PURE__*/$parcel$interopDefault($666bc8f27f76152a$exports))).remove(name);\n}\n\n\n\n\nfunction $b8f57191916382d3$export$2e2bcd8739ae039(obj) {\n    \"@babel/helpers - typeof\";\n    return $b8f57191916382d3$export$2e2bcd8739ae039 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj) {\n        return typeof obj;\n    } : function(obj) {\n        return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, $b8f57191916382d3$export$2e2bcd8739ae039(obj);\n}\n\n\nfunction $377d1ce359384586$export$2e2bcd8739ae039(required, args) {\n    if (args.length < required) throw new TypeError(required + \" argument\" + (required > 1 ? \"s\" : \"\") + \" required, but only \" + args.length + \" present\");\n}\n\n\nfunction $6fd1c9a3eeaafbe4$export$2e2bcd8739ae039(value) {\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(1, arguments);\n    return value instanceof Date || (0, $b8f57191916382d3$export$2e2bcd8739ae039)(value) === \"object\" && Object.prototype.toString.call(value) === \"[object Date]\";\n}\n\n\n\n\nfunction $bce2d00733a79246$export$2e2bcd8739ae039(argument) {\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(1, arguments);\n    var argStr = Object.prototype.toString.call(argument);\n    // Clone the date\n    if (argument instanceof Date || (0, $b8f57191916382d3$export$2e2bcd8739ae039)(argument) === \"object\" && argStr === \"[object Date]\") // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n    else if (typeof argument === \"number\" || argStr === \"[object Number]\") return new Date(argument);\n    else {\n        if ((typeof argument === \"string\" || argStr === \"[object String]\") && typeof console !== \"undefined\") {\n            // eslint-disable-next-line no-console\n            console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n            // eslint-disable-next-line no-console\n            console.warn(new Error().stack);\n        }\n        return new Date(NaN);\n    }\n}\n\n\n\nfunction $93a8d45f3f5c7cb9$export$2e2bcd8739ae039(dirtyDate) {\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(1, arguments);\n    if (!(0, $6fd1c9a3eeaafbe4$export$2e2bcd8739ae039)(dirtyDate) && typeof dirtyDate !== \"number\") return false;\n    var date = (0, $bce2d00733a79246$export$2e2bcd8739ae039)(dirtyDate);\n    return !isNaN(Number(date));\n}\n\n\nfunction $a874c42e2166676d$export$2e2bcd8739ae039(dirtyNumber) {\n    if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) return NaN;\n    var number = Number(dirtyNumber);\n    if (isNaN(number)) return number;\n    return number < 0 ? Math.ceil(number) : Math.floor(number);\n}\n\n\n\n\nfunction $5fd7da45fede2458$export$2e2bcd8739ae039(dirtyDate, dirtyAmount) {\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(2, arguments);\n    var timestamp = (0, $bce2d00733a79246$export$2e2bcd8739ae039)(dirtyDate).getTime();\n    var amount = (0, $a874c42e2166676d$export$2e2bcd8739ae039)(dirtyAmount);\n    return new Date(timestamp + amount);\n}\n\n\n\n\nfunction $6673cc5b62dfa592$export$2e2bcd8739ae039(dirtyDate, dirtyAmount) {\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(2, arguments);\n    var amount = (0, $a874c42e2166676d$export$2e2bcd8739ae039)(dirtyAmount);\n    return (0, $5fd7da45fede2458$export$2e2bcd8739ae039)(dirtyDate, -amount);\n}\n\n\n\n\n\nvar $dbfee7256f9ba04c$var$MILLISECONDS_IN_DAY = 86400000;\nfunction $dbfee7256f9ba04c$export$2e2bcd8739ae039(dirtyDate) {\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(1, arguments);\n    var date = (0, $bce2d00733a79246$export$2e2bcd8739ae039)(dirtyDate);\n    var timestamp = date.getTime();\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n    var startOfYearTimestamp = date.getTime();\n    var difference = timestamp - startOfYearTimestamp;\n    return Math.floor(difference / $dbfee7256f9ba04c$var$MILLISECONDS_IN_DAY) + 1;\n}\n\n\n\n\n\nfunction $8b6bcc549b1c1b29$export$2e2bcd8739ae039(dirtyDate) {\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(1, arguments);\n    var weekStartsOn = 1;\n    var date = (0, $bce2d00733a79246$export$2e2bcd8739ae039)(dirtyDate);\n    var day = date.getUTCDay();\n    var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n    date.setUTCDate(date.getUTCDate() - diff);\n    date.setUTCHours(0, 0, 0, 0);\n    return date;\n}\n\n\n\n\n\nfunction $56d5b29bd1df6af4$export$2e2bcd8739ae039(dirtyDate) {\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(1, arguments);\n    var date = (0, $bce2d00733a79246$export$2e2bcd8739ae039)(dirtyDate);\n    var year = date.getUTCFullYear();\n    var fourthOfJanuaryOfNextYear = new Date(0);\n    fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n    fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n    var startOfNextYear = (0, $8b6bcc549b1c1b29$export$2e2bcd8739ae039)(fourthOfJanuaryOfNextYear);\n    var fourthOfJanuaryOfThisYear = new Date(0);\n    fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n    fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n    var startOfThisYear = (0, $8b6bcc549b1c1b29$export$2e2bcd8739ae039)(fourthOfJanuaryOfThisYear);\n    if (date.getTime() >= startOfNextYear.getTime()) return year + 1;\n    else if (date.getTime() >= startOfThisYear.getTime()) return year;\n    else return year - 1;\n}\n\n\n\n\nfunction $4e98b4d5a2488885$export$2e2bcd8739ae039(dirtyDate) {\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(1, arguments);\n    var year = (0, $56d5b29bd1df6af4$export$2e2bcd8739ae039)(dirtyDate);\n    var fourthOfJanuary = new Date(0);\n    fourthOfJanuary.setUTCFullYear(year, 0, 4);\n    fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n    var date = (0, $8b6bcc549b1c1b29$export$2e2bcd8739ae039)(fourthOfJanuary);\n    return date;\n}\n\n\n\nvar $e2b4503c694c959a$var$MILLISECONDS_IN_WEEK = 604800000;\nfunction $e2b4503c694c959a$export$2e2bcd8739ae039(dirtyDate) {\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(1, arguments);\n    var date = (0, $bce2d00733a79246$export$2e2bcd8739ae039)(dirtyDate);\n    var diff = (0, $8b6bcc549b1c1b29$export$2e2bcd8739ae039)(date).getTime() - (0, $4e98b4d5a2488885$export$2e2bcd8739ae039)(date).getTime();\n    // Round the number of days to the nearest integer\n    // because the number of milliseconds in a week is not constant\n    // (e.g. it's different in the week of the daylight saving time clock shift)\n    return Math.round(diff / $e2b4503c694c959a$var$MILLISECONDS_IN_WEEK) + 1;\n}\n\n\n\n\n\n\n\nvar $1f47e002602f8387$var$defaultOptions = {};\nfunction $1f47e002602f8387$export$430a3269e24b912e() {\n    return $1f47e002602f8387$var$defaultOptions;\n}\nfunction $1f47e002602f8387$export$95365be1b0704abc(newOptions) {\n    $1f47e002602f8387$var$defaultOptions = newOptions;\n}\n\n\nfunction $0dfbcd4e04a34858$export$2e2bcd8739ae039(dirtyDate, options) {\n    var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(1, arguments);\n    var defaultOptions = (0, $1f47e002602f8387$export$430a3269e24b912e)();\n    var weekStartsOn = (0, $a874c42e2166676d$export$2e2bcd8739ae039)((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n    // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n    if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");\n    var date = (0, $bce2d00733a79246$export$2e2bcd8739ae039)(dirtyDate);\n    var day = date.getUTCDay();\n    var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n    date.setUTCDate(date.getUTCDate() - diff);\n    date.setUTCHours(0, 0, 0, 0);\n    return date;\n}\n\n\n\n\n\n\n\nfunction $efe8c2ce4ac4bd36$export$2e2bcd8739ae039(dirtyDate, options) {\n    var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(1, arguments);\n    var date = (0, $bce2d00733a79246$export$2e2bcd8739ae039)(dirtyDate);\n    var year = date.getUTCFullYear();\n    var defaultOptions = (0, $1f47e002602f8387$export$430a3269e24b912e)();\n    var firstWeekContainsDate = (0, $a874c42e2166676d$export$2e2bcd8739ae039)((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n    // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n    if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) throw new RangeError(\"firstWeekContainsDate must be between 1 and 7 inclusively\");\n    var firstWeekOfNextYear = new Date(0);\n    firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n    firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n    var startOfNextYear = (0, $0dfbcd4e04a34858$export$2e2bcd8739ae039)(firstWeekOfNextYear, options);\n    var firstWeekOfThisYear = new Date(0);\n    firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n    firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n    var startOfThisYear = (0, $0dfbcd4e04a34858$export$2e2bcd8739ae039)(firstWeekOfThisYear, options);\n    if (date.getTime() >= startOfNextYear.getTime()) return year + 1;\n    else if (date.getTime() >= startOfThisYear.getTime()) return year;\n    else return year - 1;\n}\n\n\n\n\n\n\nfunction $5b38b39a484f4993$export$2e2bcd8739ae039(dirtyDate, options) {\n    var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(1, arguments);\n    var defaultOptions = (0, $1f47e002602f8387$export$430a3269e24b912e)();\n    var firstWeekContainsDate = (0, $a874c42e2166676d$export$2e2bcd8739ae039)((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n    var year = (0, $efe8c2ce4ac4bd36$export$2e2bcd8739ae039)(dirtyDate, options);\n    var firstWeek = new Date(0);\n    firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n    firstWeek.setUTCHours(0, 0, 0, 0);\n    var date = (0, $0dfbcd4e04a34858$export$2e2bcd8739ae039)(firstWeek, options);\n    return date;\n}\n\n\n\nvar $c4c2445bc457b574$var$MILLISECONDS_IN_WEEK = 604800000;\nfunction $c4c2445bc457b574$export$2e2bcd8739ae039(dirtyDate, options) {\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(1, arguments);\n    var date = (0, $bce2d00733a79246$export$2e2bcd8739ae039)(dirtyDate);\n    var diff = (0, $0dfbcd4e04a34858$export$2e2bcd8739ae039)(date, options).getTime() - (0, $5b38b39a484f4993$export$2e2bcd8739ae039)(date, options).getTime();\n    // Round the number of days to the nearest integer\n    // because the number of milliseconds in a week is not constant\n    // (e.g. it's different in the week of the daylight saving time clock shift)\n    return Math.round(diff / $c4c2445bc457b574$var$MILLISECONDS_IN_WEEK) + 1;\n}\n\n\n\nfunction $88335940ad51fc8f$export$2e2bcd8739ae039(number, targetLength) {\n    var sign = number < 0 ? \"-\" : \"\";\n    var output = Math.abs(number).toString();\n    while(output.length < targetLength)output = \"0\" + output;\n    return sign + output;\n}\n\n\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */ var $8dea7dd01f0b97c2$var$formatters = {\n    // Year\n    y: function y(date, token) {\n        // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n        // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n        // |----------|-------|----|-------|-------|-------|\n        // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n        // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n        // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n        // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n        // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n        var signedYear = date.getUTCFullYear();\n        // Returns 1 for 1 BC (which is year 0 in JavaScript)\n        var year = signedYear > 0 ? signedYear : 1 - signedYear;\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(token === \"yy\" ? year % 100 : year, token.length);\n    },\n    // Month\n    M: function M(date, token) {\n        var month = date.getUTCMonth();\n        return token === \"M\" ? String(month + 1) : (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(month + 1, 2);\n    },\n    // Day of the month\n    d: function d(date, token) {\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(date.getUTCDate(), token.length);\n    },\n    // AM or PM\n    a: function a(date, token) {\n        var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? \"pm\" : \"am\";\n        switch(token){\n            case \"a\":\n            case \"aa\":\n                return dayPeriodEnumValue.toUpperCase();\n            case \"aaa\":\n                return dayPeriodEnumValue;\n            case \"aaaaa\":\n                return dayPeriodEnumValue[0];\n            case \"aaaa\":\n            default:\n                return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n        }\n    },\n    // Hour [1-12]\n    h: function h(date, token) {\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(date.getUTCHours() % 12 || 12, token.length);\n    },\n    // Hour [0-23]\n    H: function H(date, token) {\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(date.getUTCHours(), token.length);\n    },\n    // Minute\n    m: function m(date, token) {\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(date.getUTCMinutes(), token.length);\n    },\n    // Second\n    s: function s(date, token) {\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(date.getUTCSeconds(), token.length);\n    },\n    // Fraction of second\n    S: function S(date, token) {\n        var numberOfDigits = token.length;\n        var milliseconds = date.getUTCMilliseconds();\n        var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(fractionalSeconds, token.length);\n    }\n};\nvar $8dea7dd01f0b97c2$export$2e2bcd8739ae039 = $8dea7dd01f0b97c2$var$formatters;\n\n\nvar $d91e238bf521c720$var$dayPeriodEnum = {\n    am: \"am\",\n    pm: \"pm\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\"\n};\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */ var $d91e238bf521c720$var$formatters = {\n    // Era\n    G: function G(date, token, localize) {\n        var era = date.getUTCFullYear() > 0 ? 1 : 0;\n        switch(token){\n            // AD, BC\n            case \"G\":\n            case \"GG\":\n            case \"GGG\":\n                return localize.era(era, {\n                    width: \"abbreviated\"\n                });\n            // A, B\n            case \"GGGGG\":\n                return localize.era(era, {\n                    width: \"narrow\"\n                });\n            // Anno Domini, Before Christ\n            case \"GGGG\":\n            default:\n                return localize.era(era, {\n                    width: \"wide\"\n                });\n        }\n    },\n    // Year\n    y: function y(date, token, localize) {\n        // Ordinal number\n        if (token === \"yo\") {\n            var signedYear = date.getUTCFullYear();\n            // Returns 1 for 1 BC (which is year 0 in JavaScript)\n            var year = signedYear > 0 ? signedYear : 1 - signedYear;\n            return localize.ordinalNumber(year, {\n                unit: \"year\"\n            });\n        }\n        return (0, $8dea7dd01f0b97c2$export$2e2bcd8739ae039).y(date, token);\n    },\n    // Local week-numbering year\n    Y: function Y(date, token, localize, options) {\n        var signedWeekYear = (0, $efe8c2ce4ac4bd36$export$2e2bcd8739ae039)(date, options);\n        // Returns 1 for 1 BC (which is year 0 in JavaScript)\n        var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n        // Two digit year\n        if (token === \"YY\") {\n            var twoDigitYear = weekYear % 100;\n            return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(twoDigitYear, 2);\n        }\n        // Ordinal number\n        if (token === \"Yo\") return localize.ordinalNumber(weekYear, {\n            unit: \"year\"\n        });\n        // Padding\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(weekYear, token.length);\n    },\n    // ISO week-numbering year\n    R: function R(date, token) {\n        var isoWeekYear = (0, $56d5b29bd1df6af4$export$2e2bcd8739ae039)(date);\n        // Padding\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(isoWeekYear, token.length);\n    },\n    // Extended year. This is a single number designating the year of this calendar system.\n    // The main difference between `y` and `u` localizers are B.C. years:\n    // | Year | `y` | `u` |\n    // |------|-----|-----|\n    // | AC 1 |   1 |   1 |\n    // | BC 1 |   1 |   0 |\n    // | BC 2 |   2 |  -1 |\n    // Also `yy` always returns the last two digits of a year,\n    // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n    u: function u(date, token) {\n        var year = date.getUTCFullYear();\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(year, token.length);\n    },\n    // Quarter\n    Q: function Q(date, token, localize) {\n        var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n        switch(token){\n            // 1, 2, 3, 4\n            case \"Q\":\n                return String(quarter);\n            // 01, 02, 03, 04\n            case \"QQ\":\n                return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(quarter, 2);\n            // 1st, 2nd, 3rd, 4th\n            case \"Qo\":\n                return localize.ordinalNumber(quarter, {\n                    unit: \"quarter\"\n                });\n            // Q1, Q2, Q3, Q4\n            case \"QQQ\":\n                return localize.quarter(quarter, {\n                    width: \"abbreviated\",\n                    context: \"formatting\"\n                });\n            // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n            case \"QQQQQ\":\n                return localize.quarter(quarter, {\n                    width: \"narrow\",\n                    context: \"formatting\"\n                });\n            // 1st quarter, 2nd quarter, ...\n            case \"QQQQ\":\n            default:\n                return localize.quarter(quarter, {\n                    width: \"wide\",\n                    context: \"formatting\"\n                });\n        }\n    },\n    // Stand-alone quarter\n    q: function q(date, token, localize) {\n        var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n        switch(token){\n            // 1, 2, 3, 4\n            case \"q\":\n                return String(quarter);\n            // 01, 02, 03, 04\n            case \"qq\":\n                return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(quarter, 2);\n            // 1st, 2nd, 3rd, 4th\n            case \"qo\":\n                return localize.ordinalNumber(quarter, {\n                    unit: \"quarter\"\n                });\n            // Q1, Q2, Q3, Q4\n            case \"qqq\":\n                return localize.quarter(quarter, {\n                    width: \"abbreviated\",\n                    context: \"standalone\"\n                });\n            // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n            case \"qqqqq\":\n                return localize.quarter(quarter, {\n                    width: \"narrow\",\n                    context: \"standalone\"\n                });\n            // 1st quarter, 2nd quarter, ...\n            case \"qqqq\":\n            default:\n                return localize.quarter(quarter, {\n                    width: \"wide\",\n                    context: \"standalone\"\n                });\n        }\n    },\n    // Month\n    M: function M(date, token, localize) {\n        var month = date.getUTCMonth();\n        switch(token){\n            case \"M\":\n            case \"MM\":\n                return (0, $8dea7dd01f0b97c2$export$2e2bcd8739ae039).M(date, token);\n            // 1st, 2nd, ..., 12th\n            case \"Mo\":\n                return localize.ordinalNumber(month + 1, {\n                    unit: \"month\"\n                });\n            // Jan, Feb, ..., Dec\n            case \"MMM\":\n                return localize.month(month, {\n                    width: \"abbreviated\",\n                    context: \"formatting\"\n                });\n            // J, F, ..., D\n            case \"MMMMM\":\n                return localize.month(month, {\n                    width: \"narrow\",\n                    context: \"formatting\"\n                });\n            // January, February, ..., December\n            case \"MMMM\":\n            default:\n                return localize.month(month, {\n                    width: \"wide\",\n                    context: \"formatting\"\n                });\n        }\n    },\n    // Stand-alone month\n    L: function L(date, token, localize) {\n        var month = date.getUTCMonth();\n        switch(token){\n            // 1, 2, ..., 12\n            case \"L\":\n                return String(month + 1);\n            // 01, 02, ..., 12\n            case \"LL\":\n                return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(month + 1, 2);\n            // 1st, 2nd, ..., 12th\n            case \"Lo\":\n                return localize.ordinalNumber(month + 1, {\n                    unit: \"month\"\n                });\n            // Jan, Feb, ..., Dec\n            case \"LLL\":\n                return localize.month(month, {\n                    width: \"abbreviated\",\n                    context: \"standalone\"\n                });\n            // J, F, ..., D\n            case \"LLLLL\":\n                return localize.month(month, {\n                    width: \"narrow\",\n                    context: \"standalone\"\n                });\n            // January, February, ..., December\n            case \"LLLL\":\n            default:\n                return localize.month(month, {\n                    width: \"wide\",\n                    context: \"standalone\"\n                });\n        }\n    },\n    // Local week of year\n    w: function w(date, token, localize, options) {\n        var week = (0, $c4c2445bc457b574$export$2e2bcd8739ae039)(date, options);\n        if (token === \"wo\") return localize.ordinalNumber(week, {\n            unit: \"week\"\n        });\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(week, token.length);\n    },\n    // ISO week of year\n    I: function I(date, token, localize) {\n        var isoWeek = (0, $e2b4503c694c959a$export$2e2bcd8739ae039)(date);\n        if (token === \"Io\") return localize.ordinalNumber(isoWeek, {\n            unit: \"week\"\n        });\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(isoWeek, token.length);\n    },\n    // Day of the month\n    d: function d(date, token, localize) {\n        if (token === \"do\") return localize.ordinalNumber(date.getUTCDate(), {\n            unit: \"date\"\n        });\n        return (0, $8dea7dd01f0b97c2$export$2e2bcd8739ae039).d(date, token);\n    },\n    // Day of year\n    D: function D(date, token, localize) {\n        var dayOfYear = (0, $dbfee7256f9ba04c$export$2e2bcd8739ae039)(date);\n        if (token === \"Do\") return localize.ordinalNumber(dayOfYear, {\n            unit: \"dayOfYear\"\n        });\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(dayOfYear, token.length);\n    },\n    // Day of week\n    E: function E(date, token, localize) {\n        var dayOfWeek = date.getUTCDay();\n        switch(token){\n            // Tue\n            case \"E\":\n            case \"EE\":\n            case \"EEE\":\n                return localize.day(dayOfWeek, {\n                    width: \"abbreviated\",\n                    context: \"formatting\"\n                });\n            // T\n            case \"EEEEE\":\n                return localize.day(dayOfWeek, {\n                    width: \"narrow\",\n                    context: \"formatting\"\n                });\n            // Tu\n            case \"EEEEEE\":\n                return localize.day(dayOfWeek, {\n                    width: \"short\",\n                    context: \"formatting\"\n                });\n            // Tuesday\n            case \"EEEE\":\n            default:\n                return localize.day(dayOfWeek, {\n                    width: \"wide\",\n                    context: \"formatting\"\n                });\n        }\n    },\n    // Local day of week\n    e: function e(date, token, localize, options) {\n        var dayOfWeek = date.getUTCDay();\n        var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n        switch(token){\n            // Numerical value (Nth day of week with current locale or weekStartsOn)\n            case \"e\":\n                return String(localDayOfWeek);\n            // Padded numerical value\n            case \"ee\":\n                return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(localDayOfWeek, 2);\n            // 1st, 2nd, ..., 7th\n            case \"eo\":\n                return localize.ordinalNumber(localDayOfWeek, {\n                    unit: \"day\"\n                });\n            case \"eee\":\n                return localize.day(dayOfWeek, {\n                    width: \"abbreviated\",\n                    context: \"formatting\"\n                });\n            // T\n            case \"eeeee\":\n                return localize.day(dayOfWeek, {\n                    width: \"narrow\",\n                    context: \"formatting\"\n                });\n            // Tu\n            case \"eeeeee\":\n                return localize.day(dayOfWeek, {\n                    width: \"short\",\n                    context: \"formatting\"\n                });\n            // Tuesday\n            case \"eeee\":\n            default:\n                return localize.day(dayOfWeek, {\n                    width: \"wide\",\n                    context: \"formatting\"\n                });\n        }\n    },\n    // Stand-alone local day of week\n    c: function c(date, token, localize, options) {\n        var dayOfWeek = date.getUTCDay();\n        var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n        switch(token){\n            // Numerical value (same as in `e`)\n            case \"c\":\n                return String(localDayOfWeek);\n            // Padded numerical value\n            case \"cc\":\n                return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(localDayOfWeek, token.length);\n            // 1st, 2nd, ..., 7th\n            case \"co\":\n                return localize.ordinalNumber(localDayOfWeek, {\n                    unit: \"day\"\n                });\n            case \"ccc\":\n                return localize.day(dayOfWeek, {\n                    width: \"abbreviated\",\n                    context: \"standalone\"\n                });\n            // T\n            case \"ccccc\":\n                return localize.day(dayOfWeek, {\n                    width: \"narrow\",\n                    context: \"standalone\"\n                });\n            // Tu\n            case \"cccccc\":\n                return localize.day(dayOfWeek, {\n                    width: \"short\",\n                    context: \"standalone\"\n                });\n            // Tuesday\n            case \"cccc\":\n            default:\n                return localize.day(dayOfWeek, {\n                    width: \"wide\",\n                    context: \"standalone\"\n                });\n        }\n    },\n    // ISO day of week\n    i: function i(date, token, localize) {\n        var dayOfWeek = date.getUTCDay();\n        var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n        switch(token){\n            // 2\n            case \"i\":\n                return String(isoDayOfWeek);\n            // 02\n            case \"ii\":\n                return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(isoDayOfWeek, token.length);\n            // 2nd\n            case \"io\":\n                return localize.ordinalNumber(isoDayOfWeek, {\n                    unit: \"day\"\n                });\n            // Tue\n            case \"iii\":\n                return localize.day(dayOfWeek, {\n                    width: \"abbreviated\",\n                    context: \"formatting\"\n                });\n            // T\n            case \"iiiii\":\n                return localize.day(dayOfWeek, {\n                    width: \"narrow\",\n                    context: \"formatting\"\n                });\n            // Tu\n            case \"iiiiii\":\n                return localize.day(dayOfWeek, {\n                    width: \"short\",\n                    context: \"formatting\"\n                });\n            // Tuesday\n            case \"iiii\":\n            default:\n                return localize.day(dayOfWeek, {\n                    width: \"wide\",\n                    context: \"formatting\"\n                });\n        }\n    },\n    // AM or PM\n    a: function a(date, token, localize) {\n        var hours = date.getUTCHours();\n        var dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n        switch(token){\n            case \"a\":\n            case \"aa\":\n                return localize.dayPeriod(dayPeriodEnumValue, {\n                    width: \"abbreviated\",\n                    context: \"formatting\"\n                });\n            case \"aaa\":\n                return localize.dayPeriod(dayPeriodEnumValue, {\n                    width: \"abbreviated\",\n                    context: \"formatting\"\n                }).toLowerCase();\n            case \"aaaaa\":\n                return localize.dayPeriod(dayPeriodEnumValue, {\n                    width: \"narrow\",\n                    context: \"formatting\"\n                });\n            case \"aaaa\":\n            default:\n                return localize.dayPeriod(dayPeriodEnumValue, {\n                    width: \"wide\",\n                    context: \"formatting\"\n                });\n        }\n    },\n    // AM, PM, midnight, noon\n    b: function b(date, token, localize) {\n        var hours = date.getUTCHours();\n        var dayPeriodEnumValue;\n        if (hours === 12) dayPeriodEnumValue = $d91e238bf521c720$var$dayPeriodEnum.noon;\n        else if (hours === 0) dayPeriodEnumValue = $d91e238bf521c720$var$dayPeriodEnum.midnight;\n        else dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n        switch(token){\n            case \"b\":\n            case \"bb\":\n                return localize.dayPeriod(dayPeriodEnumValue, {\n                    width: \"abbreviated\",\n                    context: \"formatting\"\n                });\n            case \"bbb\":\n                return localize.dayPeriod(dayPeriodEnumValue, {\n                    width: \"abbreviated\",\n                    context: \"formatting\"\n                }).toLowerCase();\n            case \"bbbbb\":\n                return localize.dayPeriod(dayPeriodEnumValue, {\n                    width: \"narrow\",\n                    context: \"formatting\"\n                });\n            case \"bbbb\":\n            default:\n                return localize.dayPeriod(dayPeriodEnumValue, {\n                    width: \"wide\",\n                    context: \"formatting\"\n                });\n        }\n    },\n    // in the morning, in the afternoon, in the evening, at night\n    B: function B(date, token, localize) {\n        var hours = date.getUTCHours();\n        var dayPeriodEnumValue;\n        if (hours >= 17) dayPeriodEnumValue = $d91e238bf521c720$var$dayPeriodEnum.evening;\n        else if (hours >= 12) dayPeriodEnumValue = $d91e238bf521c720$var$dayPeriodEnum.afternoon;\n        else if (hours >= 4) dayPeriodEnumValue = $d91e238bf521c720$var$dayPeriodEnum.morning;\n        else dayPeriodEnumValue = $d91e238bf521c720$var$dayPeriodEnum.night;\n        switch(token){\n            case \"B\":\n            case \"BB\":\n            case \"BBB\":\n                return localize.dayPeriod(dayPeriodEnumValue, {\n                    width: \"abbreviated\",\n                    context: \"formatting\"\n                });\n            case \"BBBBB\":\n                return localize.dayPeriod(dayPeriodEnumValue, {\n                    width: \"narrow\",\n                    context: \"formatting\"\n                });\n            case \"BBBB\":\n            default:\n                return localize.dayPeriod(dayPeriodEnumValue, {\n                    width: \"wide\",\n                    context: \"formatting\"\n                });\n        }\n    },\n    // Hour [1-12]\n    h: function h(date, token, localize) {\n        if (token === \"ho\") {\n            var hours = date.getUTCHours() % 12;\n            if (hours === 0) hours = 12;\n            return localize.ordinalNumber(hours, {\n                unit: \"hour\"\n            });\n        }\n        return (0, $8dea7dd01f0b97c2$export$2e2bcd8739ae039).h(date, token);\n    },\n    // Hour [0-23]\n    H: function H(date, token, localize) {\n        if (token === \"Ho\") return localize.ordinalNumber(date.getUTCHours(), {\n            unit: \"hour\"\n        });\n        return (0, $8dea7dd01f0b97c2$export$2e2bcd8739ae039).H(date, token);\n    },\n    // Hour [0-11]\n    K: function K(date, token, localize) {\n        var hours = date.getUTCHours() % 12;\n        if (token === \"Ko\") return localize.ordinalNumber(hours, {\n            unit: \"hour\"\n        });\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(hours, token.length);\n    },\n    // Hour [1-24]\n    k: function k(date, token, localize) {\n        var hours = date.getUTCHours();\n        if (hours === 0) hours = 24;\n        if (token === \"ko\") return localize.ordinalNumber(hours, {\n            unit: \"hour\"\n        });\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(hours, token.length);\n    },\n    // Minute\n    m: function m(date, token, localize) {\n        if (token === \"mo\") return localize.ordinalNumber(date.getUTCMinutes(), {\n            unit: \"minute\"\n        });\n        return (0, $8dea7dd01f0b97c2$export$2e2bcd8739ae039).m(date, token);\n    },\n    // Second\n    s: function s(date, token, localize) {\n        if (token === \"so\") return localize.ordinalNumber(date.getUTCSeconds(), {\n            unit: \"second\"\n        });\n        return (0, $8dea7dd01f0b97c2$export$2e2bcd8739ae039).s(date, token);\n    },\n    // Fraction of second\n    S: function S(date, token) {\n        return (0, $8dea7dd01f0b97c2$export$2e2bcd8739ae039).S(date, token);\n    },\n    // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n    X: function X(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timezoneOffset = originalDate.getTimezoneOffset();\n        if (timezoneOffset === 0) return \"Z\";\n        switch(token){\n            // Hours and optional minutes\n            case \"X\":\n                return $d91e238bf521c720$var$formatTimezoneWithOptionalMinutes(timezoneOffset);\n            // Hours, minutes and optional seconds without `:` delimiter\n            // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n            // so this token always has the same output as `XX`\n            case \"XXXX\":\n            case \"XX\":\n                // Hours and minutes without `:` delimiter\n                return $d91e238bf521c720$var$formatTimezone(timezoneOffset);\n            // Hours, minutes and optional seconds with `:` delimiter\n            // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n            // so this token always has the same output as `XXX`\n            case \"XXXXX\":\n            case \"XXX\":\n            default:\n                return $d91e238bf521c720$var$formatTimezone(timezoneOffset, \":\");\n        }\n    },\n    // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n    x: function x(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timezoneOffset = originalDate.getTimezoneOffset();\n        switch(token){\n            // Hours and optional minutes\n            case \"x\":\n                return $d91e238bf521c720$var$formatTimezoneWithOptionalMinutes(timezoneOffset);\n            // Hours, minutes and optional seconds without `:` delimiter\n            // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n            // so this token always has the same output as `xx`\n            case \"xxxx\":\n            case \"xx\":\n                // Hours and minutes without `:` delimiter\n                return $d91e238bf521c720$var$formatTimezone(timezoneOffset);\n            // Hours, minutes and optional seconds with `:` delimiter\n            // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n            // so this token always has the same output as `xxx`\n            case \"xxxxx\":\n            case \"xxx\":\n            default:\n                return $d91e238bf521c720$var$formatTimezone(timezoneOffset, \":\");\n        }\n    },\n    // Timezone (GMT)\n    O: function O(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timezoneOffset = originalDate.getTimezoneOffset();\n        switch(token){\n            // Short\n            case \"O\":\n            case \"OO\":\n            case \"OOO\":\n                return \"GMT\" + $d91e238bf521c720$var$formatTimezoneShort(timezoneOffset, \":\");\n            // Long\n            case \"OOOO\":\n            default:\n                return \"GMT\" + $d91e238bf521c720$var$formatTimezone(timezoneOffset, \":\");\n        }\n    },\n    // Timezone (specific non-location)\n    z: function z(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timezoneOffset = originalDate.getTimezoneOffset();\n        switch(token){\n            // Short\n            case \"z\":\n            case \"zz\":\n            case \"zzz\":\n                return \"GMT\" + $d91e238bf521c720$var$formatTimezoneShort(timezoneOffset, \":\");\n            // Long\n            case \"zzzz\":\n            default:\n                return \"GMT\" + $d91e238bf521c720$var$formatTimezone(timezoneOffset, \":\");\n        }\n    },\n    // Seconds timestamp\n    t: function t(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timestamp = Math.floor(originalDate.getTime() / 1000);\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(timestamp, token.length);\n    },\n    // Milliseconds timestamp\n    T: function T(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timestamp = originalDate.getTime();\n        return (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(timestamp, token.length);\n    }\n};\nfunction $d91e238bf521c720$var$formatTimezoneShort(offset, dirtyDelimiter) {\n    var sign = offset > 0 ? \"-\" : \"+\";\n    var absOffset = Math.abs(offset);\n    var hours = Math.floor(absOffset / 60);\n    var minutes = absOffset % 60;\n    if (minutes === 0) return sign + String(hours);\n    var delimiter = dirtyDelimiter || \"\";\n    return sign + String(hours) + delimiter + (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(minutes, 2);\n}\nfunction $d91e238bf521c720$var$formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n    if (offset % 60 === 0) {\n        var sign = offset > 0 ? \"-\" : \"+\";\n        return sign + (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(Math.abs(offset) / 60, 2);\n    }\n    return $d91e238bf521c720$var$formatTimezone(offset, dirtyDelimiter);\n}\nfunction $d91e238bf521c720$var$formatTimezone(offset, dirtyDelimiter) {\n    var delimiter = dirtyDelimiter || \"\";\n    var sign = offset > 0 ? \"-\" : \"+\";\n    var absOffset = Math.abs(offset);\n    var hours = (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(Math.floor(absOffset / 60), 2);\n    var minutes = (0, $88335940ad51fc8f$export$2e2bcd8739ae039)(absOffset % 60, 2);\n    return sign + hours + delimiter + minutes;\n}\nvar $d91e238bf521c720$export$2e2bcd8739ae039 = $d91e238bf521c720$var$formatters;\n\n\nvar $4f085685fa15e740$var$dateLongFormatter = function dateLongFormatter(pattern, formatLong) {\n    switch(pattern){\n        case \"P\":\n            return formatLong.date({\n                width: \"short\"\n            });\n        case \"PP\":\n            return formatLong.date({\n                width: \"medium\"\n            });\n        case \"PPP\":\n            return formatLong.date({\n                width: \"long\"\n            });\n        case \"PPPP\":\n        default:\n            return formatLong.date({\n                width: \"full\"\n            });\n    }\n};\nvar $4f085685fa15e740$var$timeLongFormatter = function timeLongFormatter(pattern, formatLong) {\n    switch(pattern){\n        case \"p\":\n            return formatLong.time({\n                width: \"short\"\n            });\n        case \"pp\":\n            return formatLong.time({\n                width: \"medium\"\n            });\n        case \"ppp\":\n            return formatLong.time({\n                width: \"long\"\n            });\n        case \"pppp\":\n        default:\n            return formatLong.time({\n                width: \"full\"\n            });\n    }\n};\nvar $4f085685fa15e740$var$dateTimeLongFormatter = function dateTimeLongFormatter(pattern, formatLong) {\n    var matchResult = pattern.match(/(P+)(p+)?/) || [];\n    var datePattern = matchResult[1];\n    var timePattern = matchResult[2];\n    if (!timePattern) return $4f085685fa15e740$var$dateLongFormatter(pattern, formatLong);\n    var dateTimeFormat;\n    switch(datePattern){\n        case \"P\":\n            dateTimeFormat = formatLong.dateTime({\n                width: \"short\"\n            });\n            break;\n        case \"PP\":\n            dateTimeFormat = formatLong.dateTime({\n                width: \"medium\"\n            });\n            break;\n        case \"PPP\":\n            dateTimeFormat = formatLong.dateTime({\n                width: \"long\"\n            });\n            break;\n        case \"PPPP\":\n        default:\n            dateTimeFormat = formatLong.dateTime({\n                width: \"full\"\n            });\n            break;\n    }\n    return dateTimeFormat.replace(\"{{date}}\", $4f085685fa15e740$var$dateLongFormatter(datePattern, formatLong)).replace(\"{{time}}\", $4f085685fa15e740$var$timeLongFormatter(timePattern, formatLong));\n};\nvar $4f085685fa15e740$var$longFormatters = {\n    p: $4f085685fa15e740$var$timeLongFormatter,\n    P: $4f085685fa15e740$var$dateTimeLongFormatter\n};\nvar $4f085685fa15e740$export$2e2bcd8739ae039 = $4f085685fa15e740$var$longFormatters;\n\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */ function $6eb366e006a8b659$export$2e2bcd8739ae039(date) {\n    var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n    utcDate.setUTCFullYear(date.getFullYear());\n    return date.getTime() - utcDate.getTime();\n}\n\n\nvar $a5375092e28b891e$var$protectedDayOfYearTokens = [\n    \"D\",\n    \"DD\"\n];\nvar $a5375092e28b891e$var$protectedWeekYearTokens = [\n    \"YY\",\n    \"YYYY\"\n];\nfunction $a5375092e28b891e$export$c6cc36aa33304772(token) {\n    return $a5375092e28b891e$var$protectedDayOfYearTokens.indexOf(token) !== -1;\n}\nfunction $a5375092e28b891e$export$c6b49d6dceb604a1(token) {\n    return $a5375092e28b891e$var$protectedWeekYearTokens.indexOf(token) !== -1;\n}\nfunction $a5375092e28b891e$export$8073c1ae88f0e727(token, format, input) {\n    if (token === \"YYYY\") throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n    else if (token === \"YY\") throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n    else if (token === \"D\") throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n    else if (token === \"DD\") throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n}\n\n\n\n\n\nvar $1c4e78b8ee7f66d8$var$formatDistanceLocale = {\n    lessThanXSeconds: {\n        one: \"less than a second\",\n        other: \"less than {{count}} seconds\"\n    },\n    xSeconds: {\n        one: \"1 second\",\n        other: \"{{count}} seconds\"\n    },\n    halfAMinute: \"half a minute\",\n    lessThanXMinutes: {\n        one: \"less than a minute\",\n        other: \"less than {{count}} minutes\"\n    },\n    xMinutes: {\n        one: \"1 minute\",\n        other: \"{{count}} minutes\"\n    },\n    aboutXHours: {\n        one: \"about 1 hour\",\n        other: \"about {{count}} hours\"\n    },\n    xHours: {\n        one: \"1 hour\",\n        other: \"{{count}} hours\"\n    },\n    xDays: {\n        one: \"1 day\",\n        other: \"{{count}} days\"\n    },\n    aboutXWeeks: {\n        one: \"about 1 week\",\n        other: \"about {{count}} weeks\"\n    },\n    xWeeks: {\n        one: \"1 week\",\n        other: \"{{count}} weeks\"\n    },\n    aboutXMonths: {\n        one: \"about 1 month\",\n        other: \"about {{count}} months\"\n    },\n    xMonths: {\n        one: \"1 month\",\n        other: \"{{count}} months\"\n    },\n    aboutXYears: {\n        one: \"about 1 year\",\n        other: \"about {{count}} years\"\n    },\n    xYears: {\n        one: \"1 year\",\n        other: \"{{count}} years\"\n    },\n    overXYears: {\n        one: \"over 1 year\",\n        other: \"over {{count}} years\"\n    },\n    almostXYears: {\n        one: \"almost 1 year\",\n        other: \"almost {{count}} years\"\n    }\n};\nvar $1c4e78b8ee7f66d8$var$formatDistance = function formatDistance(token, count, options) {\n    var result;\n    var tokenValue = $1c4e78b8ee7f66d8$var$formatDistanceLocale[token];\n    if (typeof tokenValue === \"string\") result = tokenValue;\n    else if (count === 1) result = tokenValue.one;\n    else result = tokenValue.other.replace(\"{{count}}\", count.toString());\n    if (options !== null && options !== void 0 && options.addSuffix) {\n        if (options.comparison && options.comparison > 0) return \"in \" + result;\n        else return result + \" ago\";\n    }\n    return result;\n};\nvar $1c4e78b8ee7f66d8$export$2e2bcd8739ae039 = $1c4e78b8ee7f66d8$var$formatDistance;\n\n\nfunction $05b7040d79e43f9d$export$2e2bcd8739ae039(args) {\n    return function() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // TODO: Remove String()\n        var width = options.width ? String(options.width) : args.defaultWidth;\n        var format = args.formats[width] || args.formats[args.defaultWidth];\n        return format;\n    };\n}\n\n\nvar $b99de2b03d4f39be$var$dateFormats = {\n    full: \"EEEE, MMMM do, y\",\n    long: \"MMMM do, y\",\n    medium: \"MMM d, y\",\n    short: \"MM/dd/yyyy\"\n};\nvar $b99de2b03d4f39be$var$timeFormats = {\n    full: \"h:mm:ss a zzzz\",\n    long: \"h:mm:ss a z\",\n    medium: \"h:mm:ss a\",\n    short: \"h:mm a\"\n};\nvar $b99de2b03d4f39be$var$dateTimeFormats = {\n    full: \"{{date}} 'at' {{time}}\",\n    long: \"{{date}} 'at' {{time}}\",\n    medium: \"{{date}}, {{time}}\",\n    short: \"{{date}}, {{time}}\"\n};\nvar $b99de2b03d4f39be$var$formatLong = {\n    date: (0, $05b7040d79e43f9d$export$2e2bcd8739ae039)({\n        formats: $b99de2b03d4f39be$var$dateFormats,\n        defaultWidth: \"full\"\n    }),\n    time: (0, $05b7040d79e43f9d$export$2e2bcd8739ae039)({\n        formats: $b99de2b03d4f39be$var$timeFormats,\n        defaultWidth: \"full\"\n    }),\n    dateTime: (0, $05b7040d79e43f9d$export$2e2bcd8739ae039)({\n        formats: $b99de2b03d4f39be$var$dateTimeFormats,\n        defaultWidth: \"full\"\n    })\n};\nvar $b99de2b03d4f39be$export$2e2bcd8739ae039 = $b99de2b03d4f39be$var$formatLong;\n\n\nvar $117705cf2af2348d$var$formatRelativeLocale = {\n    lastWeek: \"'last' eeee 'at' p\",\n    yesterday: \"'yesterday at' p\",\n    today: \"'today at' p\",\n    tomorrow: \"'tomorrow at' p\",\n    nextWeek: \"eeee 'at' p\",\n    other: \"P\"\n};\nvar $117705cf2af2348d$var$formatRelative = function formatRelative(token, _date, _baseDate, _options) {\n    return $117705cf2af2348d$var$formatRelativeLocale[token];\n};\nvar $117705cf2af2348d$export$2e2bcd8739ae039 = $117705cf2af2348d$var$formatRelative;\n\n\nfunction $eda89c8f88184c82$export$2e2bcd8739ae039(args) {\n    return function(dirtyIndex, options) {\n        var context = options !== null && options !== void 0 && options.context ? String(options.context) : \"standalone\";\n        var valuesArray;\n        if (context === \"formatting\" && args.formattingValues) {\n            var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n            var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;\n            valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n        } else {\n            var _defaultWidth = args.defaultWidth;\n            var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;\n            valuesArray = args.values[_width] || args.values[_defaultWidth];\n        }\n        var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n        // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n        return valuesArray[index];\n    };\n}\n\n\nvar $9567ced935a3b497$var$eraValues = {\n    narrow: [\n        \"B\",\n        \"A\"\n    ],\n    abbreviated: [\n        \"BC\",\n        \"AD\"\n    ],\n    wide: [\n        \"Before Christ\",\n        \"Anno Domini\"\n    ]\n};\nvar $9567ced935a3b497$var$quarterValues = {\n    narrow: [\n        \"1\",\n        \"2\",\n        \"3\",\n        \"4\"\n    ],\n    abbreviated: [\n        \"Q1\",\n        \"Q2\",\n        \"Q3\",\n        \"Q4\"\n    ],\n    wide: [\n        \"1st quarter\",\n        \"2nd quarter\",\n        \"3rd quarter\",\n        \"4th quarter\"\n    ]\n};\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nvar $9567ced935a3b497$var$monthValues = {\n    narrow: [\n        \"J\",\n        \"F\",\n        \"M\",\n        \"A\",\n        \"M\",\n        \"J\",\n        \"J\",\n        \"A\",\n        \"S\",\n        \"O\",\n        \"N\",\n        \"D\"\n    ],\n    abbreviated: [\n        \"Jan\",\n        \"Feb\",\n        \"Mar\",\n        \"Apr\",\n        \"May\",\n        \"Jun\",\n        \"Jul\",\n        \"Aug\",\n        \"Sep\",\n        \"Oct\",\n        \"Nov\",\n        \"Dec\"\n    ],\n    wide: [\n        \"January\",\n        \"February\",\n        \"March\",\n        \"April\",\n        \"May\",\n        \"June\",\n        \"July\",\n        \"August\",\n        \"September\",\n        \"October\",\n        \"November\",\n        \"December\"\n    ]\n};\nvar $9567ced935a3b497$var$dayValues = {\n    narrow: [\n        \"S\",\n        \"M\",\n        \"T\",\n        \"W\",\n        \"T\",\n        \"F\",\n        \"S\"\n    ],\n    short: [\n        \"Su\",\n        \"Mo\",\n        \"Tu\",\n        \"We\",\n        \"Th\",\n        \"Fr\",\n        \"Sa\"\n    ],\n    abbreviated: [\n        \"Sun\",\n        \"Mon\",\n        \"Tue\",\n        \"Wed\",\n        \"Thu\",\n        \"Fri\",\n        \"Sat\"\n    ],\n    wide: [\n        \"Sunday\",\n        \"Monday\",\n        \"Tuesday\",\n        \"Wednesday\",\n        \"Thursday\",\n        \"Friday\",\n        \"Saturday\"\n    ]\n};\nvar $9567ced935a3b497$var$dayPeriodValues = {\n    narrow: {\n        am: \"a\",\n        pm: \"p\",\n        midnight: \"mi\",\n        noon: \"n\",\n        morning: \"morning\",\n        afternoon: \"afternoon\",\n        evening: \"evening\",\n        night: \"night\"\n    },\n    abbreviated: {\n        am: \"AM\",\n        pm: \"PM\",\n        midnight: \"midnight\",\n        noon: \"noon\",\n        morning: \"morning\",\n        afternoon: \"afternoon\",\n        evening: \"evening\",\n        night: \"night\"\n    },\n    wide: {\n        am: \"a.m.\",\n        pm: \"p.m.\",\n        midnight: \"midnight\",\n        noon: \"noon\",\n        morning: \"morning\",\n        afternoon: \"afternoon\",\n        evening: \"evening\",\n        night: \"night\"\n    }\n};\nvar $9567ced935a3b497$var$formattingDayPeriodValues = {\n    narrow: {\n        am: \"a\",\n        pm: \"p\",\n        midnight: \"mi\",\n        noon: \"n\",\n        morning: \"in the morning\",\n        afternoon: \"in the afternoon\",\n        evening: \"in the evening\",\n        night: \"at night\"\n    },\n    abbreviated: {\n        am: \"AM\",\n        pm: \"PM\",\n        midnight: \"midnight\",\n        noon: \"noon\",\n        morning: \"in the morning\",\n        afternoon: \"in the afternoon\",\n        evening: \"in the evening\",\n        night: \"at night\"\n    },\n    wide: {\n        am: \"a.m.\",\n        pm: \"p.m.\",\n        midnight: \"midnight\",\n        noon: \"noon\",\n        morning: \"in the morning\",\n        afternoon: \"in the afternoon\",\n        evening: \"in the evening\",\n        night: \"at night\"\n    }\n};\nvar $9567ced935a3b497$var$ordinalNumber = function ordinalNumber(dirtyNumber, _options) {\n    var number = Number(dirtyNumber);\n    // If ordinal numbers depend on context, for example,\n    // if they are different for different grammatical genders,\n    // use `options.unit`.\n    //\n    // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n    // 'day', 'hour', 'minute', 'second'.\n    var rem100 = number % 100;\n    if (rem100 > 20 || rem100 < 10) switch(rem100 % 10){\n        case 1:\n            return number + \"st\";\n        case 2:\n            return number + \"nd\";\n        case 3:\n            return number + \"rd\";\n    }\n    return number + \"th\";\n};\nvar $9567ced935a3b497$var$localize = {\n    ordinalNumber: $9567ced935a3b497$var$ordinalNumber,\n    era: (0, $eda89c8f88184c82$export$2e2bcd8739ae039)({\n        values: $9567ced935a3b497$var$eraValues,\n        defaultWidth: \"wide\"\n    }),\n    quarter: (0, $eda89c8f88184c82$export$2e2bcd8739ae039)({\n        values: $9567ced935a3b497$var$quarterValues,\n        defaultWidth: \"wide\",\n        argumentCallback: function argumentCallback(quarter) {\n            return quarter - 1;\n        }\n    }),\n    month: (0, $eda89c8f88184c82$export$2e2bcd8739ae039)({\n        values: $9567ced935a3b497$var$monthValues,\n        defaultWidth: \"wide\"\n    }),\n    day: (0, $eda89c8f88184c82$export$2e2bcd8739ae039)({\n        values: $9567ced935a3b497$var$dayValues,\n        defaultWidth: \"wide\"\n    }),\n    dayPeriod: (0, $eda89c8f88184c82$export$2e2bcd8739ae039)({\n        values: $9567ced935a3b497$var$dayPeriodValues,\n        defaultWidth: \"wide\",\n        formattingValues: $9567ced935a3b497$var$formattingDayPeriodValues,\n        defaultFormattingWidth: \"wide\"\n    })\n};\nvar $9567ced935a3b497$export$2e2bcd8739ae039 = $9567ced935a3b497$var$localize;\n\n\nfunction $c309fdccb9ef673a$export$2e2bcd8739ae039(args) {\n    return function(string) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var width = options.width;\n        var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n        var matchResult = string.match(matchPattern);\n        if (!matchResult) return null;\n        var matchedString = matchResult[0];\n        var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n        var key = Array.isArray(parsePatterns) ? $c309fdccb9ef673a$var$findIndex(parsePatterns, function(pattern) {\n            return pattern.test(matchedString);\n        }) : $c309fdccb9ef673a$var$findKey(parsePatterns, function(pattern) {\n            return pattern.test(matchedString);\n        });\n        var value;\n        value = args.valueCallback ? args.valueCallback(key) : key;\n        value = options.valueCallback ? options.valueCallback(value) : value;\n        var rest = string.slice(matchedString.length);\n        return {\n            value: value,\n            rest: rest\n        };\n    };\n}\nfunction $c309fdccb9ef673a$var$findKey(object, predicate) {\n    for(var key in object){\n        if (object.hasOwnProperty(key) && predicate(object[key])) return key;\n    }\n    return undefined;\n}\nfunction $c309fdccb9ef673a$var$findIndex(array, predicate) {\n    for(var key = 0; key < array.length; key++){\n        if (predicate(array[key])) return key;\n    }\n    return undefined;\n}\n\n\nfunction $56621c36efca199b$export$2e2bcd8739ae039(args) {\n    return function(string) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var matchResult = string.match(args.matchPattern);\n        if (!matchResult) return null;\n        var matchedString = matchResult[0];\n        var parseResult = string.match(args.parsePattern);\n        if (!parseResult) return null;\n        var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n        value = options.valueCallback ? options.valueCallback(value) : value;\n        var rest = string.slice(matchedString.length);\n        return {\n            value: value,\n            rest: rest\n        };\n    };\n}\n\n\nvar $219397ebd8b56b11$var$matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar $219397ebd8b56b11$var$parseOrdinalNumberPattern = /\\d+/i;\nvar $219397ebd8b56b11$var$matchEraPatterns = {\n    narrow: /^(b|a)/i,\n    abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n    wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar $219397ebd8b56b11$var$parseEraPatterns = {\n    any: [\n        /^b/i,\n        /^(a|c)/i\n    ]\n};\nvar $219397ebd8b56b11$var$matchQuarterPatterns = {\n    narrow: /^[1234]/i,\n    abbreviated: /^q[1234]/i,\n    wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar $219397ebd8b56b11$var$parseQuarterPatterns = {\n    any: [\n        /1/i,\n        /2/i,\n        /3/i,\n        /4/i\n    ]\n};\nvar $219397ebd8b56b11$var$matchMonthPatterns = {\n    narrow: /^[jfmasond]/i,\n    abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n    wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar $219397ebd8b56b11$var$parseMonthPatterns = {\n    narrow: [\n        /^j/i,\n        /^f/i,\n        /^m/i,\n        /^a/i,\n        /^m/i,\n        /^j/i,\n        /^j/i,\n        /^a/i,\n        /^s/i,\n        /^o/i,\n        /^n/i,\n        /^d/i\n    ],\n    any: [\n        /^ja/i,\n        /^f/i,\n        /^mar/i,\n        /^ap/i,\n        /^may/i,\n        /^jun/i,\n        /^jul/i,\n        /^au/i,\n        /^s/i,\n        /^o/i,\n        /^n/i,\n        /^d/i\n    ]\n};\nvar $219397ebd8b56b11$var$matchDayPatterns = {\n    narrow: /^[smtwf]/i,\n    short: /^(su|mo|tu|we|th|fr|sa)/i,\n    abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n    wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar $219397ebd8b56b11$var$parseDayPatterns = {\n    narrow: [\n        /^s/i,\n        /^m/i,\n        /^t/i,\n        /^w/i,\n        /^t/i,\n        /^f/i,\n        /^s/i\n    ],\n    any: [\n        /^su/i,\n        /^m/i,\n        /^tu/i,\n        /^w/i,\n        /^th/i,\n        /^f/i,\n        /^sa/i\n    ]\n};\nvar $219397ebd8b56b11$var$matchDayPeriodPatterns = {\n    narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n    any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar $219397ebd8b56b11$var$parseDayPeriodPatterns = {\n    any: {\n        am: /^a/i,\n        pm: /^p/i,\n        midnight: /^mi/i,\n        noon: /^no/i,\n        morning: /morning/i,\n        afternoon: /afternoon/i,\n        evening: /evening/i,\n        night: /night/i\n    }\n};\nvar $219397ebd8b56b11$var$match = {\n    ordinalNumber: (0, $56621c36efca199b$export$2e2bcd8739ae039)({\n        matchPattern: $219397ebd8b56b11$var$matchOrdinalNumberPattern,\n        parsePattern: $219397ebd8b56b11$var$parseOrdinalNumberPattern,\n        valueCallback: function valueCallback(value) {\n            return parseInt(value, 10);\n        }\n    }),\n    era: (0, $c309fdccb9ef673a$export$2e2bcd8739ae039)({\n        matchPatterns: $219397ebd8b56b11$var$matchEraPatterns,\n        defaultMatchWidth: \"wide\",\n        parsePatterns: $219397ebd8b56b11$var$parseEraPatterns,\n        defaultParseWidth: \"any\"\n    }),\n    quarter: (0, $c309fdccb9ef673a$export$2e2bcd8739ae039)({\n        matchPatterns: $219397ebd8b56b11$var$matchQuarterPatterns,\n        defaultMatchWidth: \"wide\",\n        parsePatterns: $219397ebd8b56b11$var$parseQuarterPatterns,\n        defaultParseWidth: \"any\",\n        valueCallback: function valueCallback(index) {\n            return index + 1;\n        }\n    }),\n    month: (0, $c309fdccb9ef673a$export$2e2bcd8739ae039)({\n        matchPatterns: $219397ebd8b56b11$var$matchMonthPatterns,\n        defaultMatchWidth: \"wide\",\n        parsePatterns: $219397ebd8b56b11$var$parseMonthPatterns,\n        defaultParseWidth: \"any\"\n    }),\n    day: (0, $c309fdccb9ef673a$export$2e2bcd8739ae039)({\n        matchPatterns: $219397ebd8b56b11$var$matchDayPatterns,\n        defaultMatchWidth: \"wide\",\n        parsePatterns: $219397ebd8b56b11$var$parseDayPatterns,\n        defaultParseWidth: \"any\"\n    }),\n    dayPeriod: (0, $c309fdccb9ef673a$export$2e2bcd8739ae039)({\n        matchPatterns: $219397ebd8b56b11$var$matchDayPeriodPatterns,\n        defaultMatchWidth: \"any\",\n        parsePatterns: $219397ebd8b56b11$var$parseDayPeriodPatterns,\n        defaultParseWidth: \"any\"\n    })\n};\nvar $219397ebd8b56b11$export$2e2bcd8739ae039 = $219397ebd8b56b11$var$match;\n\n\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */ var $0ca880ce53ce49f9$var$locale = {\n    code: \"en-US\",\n    formatDistance: (0, $1c4e78b8ee7f66d8$export$2e2bcd8739ae039),\n    formatLong: (0, $b99de2b03d4f39be$export$2e2bcd8739ae039),\n    formatRelative: (0, $117705cf2af2348d$export$2e2bcd8739ae039),\n    localize: (0, $9567ced935a3b497$export$2e2bcd8739ae039),\n    match: (0, $219397ebd8b56b11$export$2e2bcd8739ae039),\n    options: {\n        weekStartsOn: 0 /* Sunday */ ,\n        firstWeekContainsDate: 1\n    }\n};\nvar $0ca880ce53ce49f9$export$2e2bcd8739ae039 = $0ca880ce53ce49f9$var$locale;\n\n\nvar $98e3d5324cb7d94c$export$2e2bcd8739ae039 = (0, $0ca880ce53ce49f9$export$2e2bcd8739ae039);\n\n\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nvar $4e349bc0dbb08c36$var$formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nvar $4e349bc0dbb08c36$var$longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar $4e349bc0dbb08c36$var$escapedStringRegExp = /^'([^]*?)'?$/;\nvar $4e349bc0dbb08c36$var$doubleQuoteRegExp = /''/g;\nvar $4e349bc0dbb08c36$var$unescapedLatinCharacterRegExp = /[a-zA-Z]/;\nfunction $4e349bc0dbb08c36$export$2e2bcd8739ae039(dirtyDate, dirtyFormatStr, options) {\n    var _ref, _options$locale, _ref2, _ref3, _ref4, _options$firstWeekCon, _options$locale2, _options$locale2$opti, _defaultOptions$local, _defaultOptions$local2, _ref5, _ref6, _ref7, _options$weekStartsOn, _options$locale3, _options$locale3$opti, _defaultOptions$local3, _defaultOptions$local4;\n    (0, $377d1ce359384586$export$2e2bcd8739ae039)(2, arguments);\n    var formatStr = String(dirtyFormatStr);\n    var defaultOptions = (0, $1f47e002602f8387$export$430a3269e24b912e)();\n    var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : (0, $98e3d5324cb7d94c$export$2e2bcd8739ae039);\n    var firstWeekContainsDate = (0, $a874c42e2166676d$export$2e2bcd8739ae039)((_ref2 = (_ref3 = (_ref4 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale2 = options.locale) === null || _options$locale2 === void 0 ? void 0 : (_options$locale2$opti = _options$locale2.options) === null || _options$locale2$opti === void 0 ? void 0 : _options$locale2$opti.firstWeekContainsDate) !== null && _ref4 !== void 0 ? _ref4 : defaultOptions.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : 1);\n    // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n    if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) throw new RangeError(\"firstWeekContainsDate must be between 1 and 7 inclusively\");\n    var weekStartsOn = (0, $a874c42e2166676d$export$2e2bcd8739ae039)((_ref5 = (_ref6 = (_ref7 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale3 = options.locale) === null || _options$locale3 === void 0 ? void 0 : (_options$locale3$opti = _options$locale3.options) === null || _options$locale3$opti === void 0 ? void 0 : _options$locale3$opti.weekStartsOn) !== null && _ref7 !== void 0 ? _ref7 : defaultOptions.weekStartsOn) !== null && _ref6 !== void 0 ? _ref6 : (_defaultOptions$local3 = defaultOptions.locale) === null || _defaultOptions$local3 === void 0 ? void 0 : (_defaultOptions$local4 = _defaultOptions$local3.options) === null || _defaultOptions$local4 === void 0 ? void 0 : _defaultOptions$local4.weekStartsOn) !== null && _ref5 !== void 0 ? _ref5 : 0);\n    // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n    if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");\n    if (!locale.localize) throw new RangeError(\"locale must contain localize property\");\n    if (!locale.formatLong) throw new RangeError(\"locale must contain formatLong property\");\n    var originalDate = (0, $bce2d00733a79246$export$2e2bcd8739ae039)(dirtyDate);\n    if (!(0, $93a8d45f3f5c7cb9$export$2e2bcd8739ae039)(originalDate)) throw new RangeError(\"Invalid time value\");\n    // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n    // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n    // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n    var timezoneOffset = (0, $6eb366e006a8b659$export$2e2bcd8739ae039)(originalDate);\n    var utcDate = (0, $6673cc5b62dfa592$export$2e2bcd8739ae039)(originalDate, timezoneOffset);\n    var formatterOptions = {\n        firstWeekContainsDate: firstWeekContainsDate,\n        weekStartsOn: weekStartsOn,\n        locale: locale,\n        _originalDate: originalDate\n    };\n    var result = formatStr.match($4e349bc0dbb08c36$var$longFormattingTokensRegExp).map(function(substring) {\n        var firstCharacter = substring[0];\n        if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n            var longFormatter = (0, $4f085685fa15e740$export$2e2bcd8739ae039)[firstCharacter];\n            return longFormatter(substring, locale.formatLong);\n        }\n        return substring;\n    }).join(\"\").match($4e349bc0dbb08c36$var$formattingTokensRegExp).map(function(substring) {\n        // Replace two single quote characters with one single quote character\n        if (substring === \"''\") return \"'\";\n        var firstCharacter = substring[0];\n        if (firstCharacter === \"'\") return $4e349bc0dbb08c36$var$cleanEscapedString(substring);\n        var formatter = (0, $d91e238bf521c720$export$2e2bcd8739ae039)[firstCharacter];\n        if (formatter) {\n            if (!(options !== null && options !== void 0 && options.useAdditionalWeekYearTokens) && (0, $a5375092e28b891e$export$c6b49d6dceb604a1)(substring)) (0, $a5375092e28b891e$export$8073c1ae88f0e727)(substring, dirtyFormatStr, String(dirtyDate));\n            if (!(options !== null && options !== void 0 && options.useAdditionalDayOfYearTokens) && (0, $a5375092e28b891e$export$c6cc36aa33304772)(substring)) (0, $a5375092e28b891e$export$8073c1ae88f0e727)(substring, dirtyFormatStr, String(dirtyDate));\n            return formatter(utcDate, substring, locale.localize, formatterOptions);\n        }\n        if (firstCharacter.match($4e349bc0dbb08c36$var$unescapedLatinCharacterRegExp)) throw new RangeError(\"Format string contains an unescaped latin alphabet character `\" + firstCharacter + \"`\");\n        return substring;\n    }).join(\"\");\n    return result;\n}\nfunction $4e349bc0dbb08c36$var$cleanEscapedString(input) {\n    var matched = input.match($4e349bc0dbb08c36$var$escapedStringRegExp);\n    if (!matched) return input;\n    return matched[1].replace($4e349bc0dbb08c36$var$doubleQuoteRegExp, \"'\");\n}\n\n\n\n// Добавление сообщения\nfunction $b5c6963edcfcb4e9$export$16fdb433d434f08(message, methodPast) {\n    const leftRight = $b5c6963edcfcb4e9$var$leftRightMessages(message);\n    (0, $710d9f988580cc01$export$b3167c59aca35da5).messageTextTemlate.textContent = message.text;\n    (0, $710d9f988580cc01$export$b3167c59aca35da5).messageTimeTemplate.textContent = $b5c6963edcfcb4e9$export$7cff9fecb045698e(message.createdAt);\n    (0, $710d9f988580cc01$export$b3167c59aca35da5).messageNicknameTemlate.textContent = message.user.name;\n    let messageUi = (0, $710d9f988580cc01$export$e8ce68e05eb6eb69).content.cloneNode(true);\n    const massageContainerTemp = messageUi.querySelector(\".chat-dialog__message\");\n    massageContainerTemp.classList.add(leftRight === \"rigth\" ? (0, $710d9f988580cc01$export$6120d77db9a8f6cb).sendingMessage : (0, $710d9f988580cc01$export$6120d77db9a8f6cb).inboxMessage);\n    if (methodPast === \"append\") (0, $710d9f988580cc01$export$4b08aed5f1ec6952).dialogWindow.append(messageUi);\n    else if (methodPast === \"prepend\") (0, $710d9f988580cc01$export$4b08aed5f1ec6952).dialogWindow.prepend(messageUi);\n}\n// Распределение сообщений входящее или исходящее\nfunction $b5c6963edcfcb4e9$var$leftRightMessages(message) {\n    if (message.user.email === (0, $de88f8a217b692c9$export$4be65e66cfa2648a)(\"email\")) return \"rigth\";\n    else return \"left\";\n}\n// Очистка окна с сообщениями\nfunction $b5c6963edcfcb4e9$export$eaaea95aa0b1ae68() {\n    const messages = (0, $710d9f988580cc01$export$4b08aed5f1ec6952).dialogWindow.querySelectorAll(\".chat-dialog__message\");\n    messages.forEach((message)=>message.remove());\n}\n// Показать/Скрыть preload\nfunction $b5c6963edcfcb4e9$export$842a2c6e548c1a51(display) {\n    (0, $710d9f988580cc01$export$4b08aed5f1ec6952).preload.style.display = display;\n}\n// Рендер Имени в чате\nfunction $b5c6963edcfcb4e9$export$bbbb45d5eb700a7f(nickname) {\n    (0, $710d9f988580cc01$export$4b08aed5f1ec6952).nickname.textContent = nickname;\n}\n// Скролл всегда вниз при запуске\nfunction $b5c6963edcfcb4e9$export$1f118464b19479f() {\n    (0, $710d9f988580cc01$export$4b08aed5f1ec6952).dialogWindow.scrollTop = (0, $710d9f988580cc01$export$4b08aed5f1ec6952).dialogWindow.scrollHeight;\n}\n// ПОКАЗАТЬ/СКРЫТЬ КНОПКУ\nfunction $b5c6963edcfcb4e9$export$cb41e6503c45b8bc(btn, action) {\n    if (action === \"hide\") btn.classList.add((0, $710d9f988580cc01$export$6120d77db9a8f6cb).hideBtn);\n    if (action === \"show\") btn.classList.remove((0, $710d9f988580cc01$export$6120d77db9a8f6cb).hideBtn);\n}\n// Диактивация кнопки\nfunction $b5c6963edcfcb4e9$export$d906d495cca8f9a6(btn, btnStatus) {\n    btn.disabled = btnStatus;\n}\n// Проверка поля на ссылки ПОКА НЕ ИСПОЛЬЗУЕТСЯ\n// function containsLinks(text) {\n//     const pattern = /(http:|https:)([^\\s]+)/gi;\n//     return pattern.test(text);\n// }\n// Проверка корректности email\nfunction $b5c6963edcfcb4e9$export$18148d12c805c5b0(email) {\n    const pattern = /\\S+@\\S+\\.\\S+/;\n    return pattern.test(email);\n}\n// Активировать или диактивировать кнопку\nfunction $b5c6963edcfcb4e9$export$ab66e971ce242cbb(btn, action) {\n    if (action === \"active\") {\n        btn.classList.add((0, $710d9f988580cc01$export$6120d77db9a8f6cb).activeBtn);\n        btn.disabled = \"\";\n    } else if (action === \"disabled\") {\n        btn.classList.remove((0, $710d9f988580cc01$export$6120d77db9a8f6cb).activeBtn);\n        btn.disabled = \"false\";\n    }\n}\n// Очистка поля ввода input/pre\nfunction $b5c6963edcfcb4e9$export$46ddbcfb297b2ac1(field) {\n    if (field.tagName.toLowerCase() === \"input\") field.value = \"\";\n    else field.textContent = \"\";\n}\n// Получить значение поля input/pre\nfunction $b5c6963edcfcb4e9$export$9290f16dbdfc1540(field) {\n    if (field.tagName.toLowerCase() === \"input\") return field.value.trim();\n    else return field.textContent.trim();\n}\n// Проверка на пустоту поля input/pre\nfunction $b5c6963edcfcb4e9$export$e8526dd1ace08941(field) {\n    const valueField = $b5c6963edcfcb4e9$export$9290f16dbdfc1540(field);\n    if (valueField === \"\") return true;\n    if (valueField) return false;\n}\n// Фрматирование даты в корректную\nfunction $b5c6963edcfcb4e9$export$7cff9fecb045698e(date) {\n    return (0, $4e349bc0dbb08c36$export$2e2bcd8739ae039)(new Date(date), \"HH:mm dd.LL.yy \");\n}\n// Смена иконок у кнопок при вводе в поле\nfunction $b5c6963edcfcb4e9$export$e567f31d54438c5d(field, btn, srcIconActive, scrIconDisabled) {\n    if ($b5c6963edcfcb4e9$export$e8526dd1ace08941(field)) {\n        $b5c6963edcfcb4e9$export$d906d495cca8f9a6(btn, true);\n        btn.style.backgroundImage = scrIconDisabled;\n    } else {\n        $b5c6963edcfcb4e9$export$d906d495cca8f9a6(btn, false);\n        btn.style.backgroundImage = srcIconActive;\n    }\n}\n// Уведомления для модалки\nfunction $b5c6963edcfcb4e9$export$4ee5d0f98c2d1c9e(modalTitle = \"\", status = \"\") {\n    (0, $710d9f988580cc01$export$c3905cc64f203472).notification.classList.remove((0, $710d9f988580cc01$export$6120d77db9a8f6cb).notificationOk);\n    (0, $710d9f988580cc01$export$c3905cc64f203472).notification.classList.remove((0, $710d9f988580cc01$export$6120d77db9a8f6cb).notificationError);\n    // Авторизация\n    if (modalTitle === (0, $710d9f988580cc01$export$a0b86ff86acae638).authorization.title && status === \"ok\") {\n        (0, $710d9f988580cc01$export$c3905cc64f203472).notificationText.textContent = (0, $710d9f988580cc01$export$a0b86ff86acae638).authorization.notificationOk;\n        (0, $710d9f988580cc01$export$c3905cc64f203472).notification.classList.add((0, $710d9f988580cc01$export$6120d77db9a8f6cb).notificationOk);\n    } else if (modalTitle === (0, $710d9f988580cc01$export$a0b86ff86acae638).authorization.title && status === \"error\") {\n        (0, $710d9f988580cc01$export$c3905cc64f203472).notificationText.textContent = (0, $710d9f988580cc01$export$a0b86ff86acae638).authorization.notificationError;\n        (0, $710d9f988580cc01$export$c3905cc64f203472).notification.classList.add((0, $710d9f988580cc01$export$6120d77db9a8f6cb).notificationError);\n    }\n    // Войти\n    if (modalTitle === (0, $710d9f988580cc01$export$a0b86ff86acae638).confirmation.title && status === \"errorCode\") {\n        (0, $710d9f988580cc01$export$c3905cc64f203472).notificationText.textContent = (0, $710d9f988580cc01$export$a0b86ff86acae638).confirmation.notificationIncorrectCode;\n        (0, $710d9f988580cc01$export$c3905cc64f203472).notification.classList.add((0, $710d9f988580cc01$export$6120d77db9a8f6cb).notificationError);\n    } else if (modalTitle === (0, $710d9f988580cc01$export$a0b86ff86acae638).confirmation.title && status === \"error\") {\n        (0, $710d9f988580cc01$export$c3905cc64f203472).notificationText.textContent = (0, $710d9f988580cc01$export$a0b86ff86acae638).authorization.notificationError;\n        (0, $710d9f988580cc01$export$c3905cc64f203472).notification.classList.add((0, $710d9f988580cc01$export$6120d77db9a8f6cb).notificationError);\n    }\n    // Настройки\n    if (modalTitle === (0, $710d9f988580cc01$export$a0b86ff86acae638).settings.title && status === \"ok\") {\n        (0, $710d9f988580cc01$export$c3905cc64f203472).notificationText.textContent = (0, $710d9f988580cc01$export$a0b86ff86acae638).settings.notificationOk;\n        (0, $710d9f988580cc01$export$c3905cc64f203472).notification.classList.add((0, $710d9f988580cc01$export$6120d77db9a8f6cb).notificationOk);\n    } else if (modalTitle === (0, $710d9f988580cc01$export$a0b86ff86acae638).settings.title && status === \"error\") {\n        (0, $710d9f988580cc01$export$c3905cc64f203472).notificationText.textContent = (0, $710d9f988580cc01$export$a0b86ff86acae638).settings.notificationError;\n        (0, $710d9f988580cc01$export$c3905cc64f203472).notification.classList.add((0, $710d9f988580cc01$export$6120d77db9a8f6cb).notificationError);\n    }\n}\n// Проверка на кириллицу\nfunction $b5c6963edcfcb4e9$export$a1c0bdd34d25acfd(text) {\n    const cyrillicRegex = /[\\u0400-\\u04FF]/;\n    return cyrillicRegex.test(text);\n}\n\n\nconst $5cff75d90e5947a4$var$URL_BASE = \"https://edu.strada.one\";\nconst $5cff75d90e5947a4$export$61abde59b50deb8e = {\n    urlToken: `${$5cff75d90e5947a4$var$URL_BASE}/api/user`,\n    urlDataProfile: `${$5cff75d90e5947a4$var$URL_BASE}/api/user/me`,\n    urlHistoryMessages: `${$5cff75d90e5947a4$var$URL_BASE}/api/messages/`\n};\nconst $5cff75d90e5947a4$export$6e7a69411e551f0e = {\n    get: \"GET\",\n    post: \"POST\",\n    patch: \"PATCH\"\n};\n// Получить код, смена имени, авторизация\nasync function $5cff75d90e5947a4$export$631adbe1e95fef13(url, method, moreHeader = null, value = null) {\n    try {\n        (0, $b5c6963edcfcb4e9$export$842a2c6e548c1a51)(\"flex\");\n        const response = await fetch(url, {\n            method: method,\n            headers: {\n                \"Content-type\": \"application/json; charset=UTF-8\",\n                Authorization: moreHeader !== null ? `Bearer ${(0, $de88f8a217b692c9$export$4be65e66cfa2648a)(\"token\")}` : null\n            },\n            body: value !== null ? JSON.stringify(value) : null\n        });\n        const answer = await response.json();\n        if (response.status === 200) return {\n            status: \"true\",\n            answer: answer\n        };\n        else {\n            console.log(\"ошибка\", answer);\n            console.log(\"response статус\", response.status);\n            return {\n                status: \"false\",\n                answer: answer\n            };\n        }\n    } catch (error) {\n        console.log(`Error: ошибка ${error.message}`);\n    } finally{\n        (0, $b5c6963edcfcb4e9$export$842a2c6e548c1a51)(\"none\");\n    }\n}\n\n\n\n// Делегирование модалки нажатие на КРЕСТИК/ПУСТОЕ ПРОСТРАНСТВО\nfunction $65a319e28abc9d7a$export$180aadb5b333118e(event) {\n    if (event.target === (0, $710d9f988580cc01$export$c3905cc64f203472).btnModalClose || event.target === (0, $710d9f988580cc01$export$c3905cc64f203472).modal) $65a319e28abc9d7a$export$af4939467128bcd0();\n}\nfunction $65a319e28abc9d7a$export$d7e8d4d4450c819c() {\n    (0, $710d9f988580cc01$export$c3905cc64f203472).modal.classList.add(\"show-modal\");\n}\nfunction $65a319e28abc9d7a$export$af4939467128bcd0() {\n    (0, $710d9f988580cc01$export$c3905cc64f203472).modal.classList.remove(\"show-modal\");\n}\n// Рендер модального окна\nfunction $65a319e28abc9d7a$export$69bf191433722f78(titleModal, titleInput, placeholder) {\n    (0, $710d9f988580cc01$export$c3905cc64f203472).titleModal.textContent = titleModal;\n    (0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal.placeholder = placeholder;\n    (0, $710d9f988580cc01$export$c3905cc64f203472).titleInputModal.textContent = titleInput;\n}\n\n\n\nfunction $f19b912d87716459$var$assertNonEmptyString(str) {\n    if (typeof str !== \"string\" || !str) throw new Error(\"expected a non-empty string, got: \" + str);\n}\nfunction $f19b912d87716459$var$assertNumber(number) {\n    if (typeof number !== \"number\") throw new Error(\"expected a number, got: \" + number);\n}\nconst $f19b912d87716459$var$DB_VERSION_CURRENT = 1;\nconst $f19b912d87716459$var$DB_VERSION_INITIAL = 1;\nconst $f19b912d87716459$var$STORE_EMOJI = \"emoji\";\nconst $f19b912d87716459$var$STORE_KEYVALUE = \"keyvalue\";\nconst $f19b912d87716459$var$STORE_FAVORITES = \"favorites\";\nconst $f19b912d87716459$var$FIELD_TOKENS = \"tokens\";\nconst $f19b912d87716459$var$INDEX_TOKENS = \"tokens\";\nconst $f19b912d87716459$var$FIELD_UNICODE = \"unicode\";\nconst $f19b912d87716459$var$INDEX_COUNT = \"count\";\nconst $f19b912d87716459$var$FIELD_GROUP = \"group\";\nconst $f19b912d87716459$var$FIELD_ORDER = \"order\";\nconst $f19b912d87716459$var$INDEX_GROUP_AND_ORDER = \"group-order\";\nconst $f19b912d87716459$var$KEY_ETAG = \"eTag\";\nconst $f19b912d87716459$var$KEY_URL = \"url\";\nconst $f19b912d87716459$var$KEY_PREFERRED_SKINTONE = \"skinTone\";\nconst $f19b912d87716459$var$MODE_READONLY = \"readonly\";\nconst $f19b912d87716459$var$MODE_READWRITE = \"readwrite\";\nconst $f19b912d87716459$var$INDEX_SKIN_UNICODE = \"skinUnicodes\";\nconst $f19b912d87716459$var$FIELD_SKIN_UNICODE = \"skinUnicodes\";\nconst $f19b912d87716459$var$DEFAULT_DATA_SOURCE = \"https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json\";\nconst $f19b912d87716459$var$DEFAULT_LOCALE = \"en\";\n// like lodash's uniqBy but much smaller\nfunction $f19b912d87716459$var$uniqBy(arr, func) {\n    const set = new Set();\n    const res = [];\n    for (const item of arr){\n        const key = func(item);\n        if (!set.has(key)) {\n            set.add(key);\n            res.push(item);\n        }\n    }\n    return res;\n}\nfunction $f19b912d87716459$var$uniqEmoji(emojis) {\n    return $f19b912d87716459$var$uniqBy(emojis, (_)=>_.unicode);\n}\nfunction $f19b912d87716459$var$initialMigration(db) {\n    function createObjectStore(name, keyPath, indexes) {\n        const store = keyPath ? db.createObjectStore(name, {\n            keyPath: keyPath\n        }) : db.createObjectStore(name);\n        if (indexes) for (const [indexName, [keyPath, multiEntry]] of Object.entries(indexes))store.createIndex(indexName, keyPath, {\n            multiEntry: multiEntry\n        });\n        return store;\n    }\n    createObjectStore($f19b912d87716459$var$STORE_KEYVALUE);\n    createObjectStore($f19b912d87716459$var$STORE_EMOJI, /* keyPath */ $f19b912d87716459$var$FIELD_UNICODE, {\n        [$f19b912d87716459$var$INDEX_TOKENS]: [\n            $f19b912d87716459$var$FIELD_TOKENS,\n            /* multiEntry */ true\n        ],\n        [$f19b912d87716459$var$INDEX_GROUP_AND_ORDER]: [\n            [\n                $f19b912d87716459$var$FIELD_GROUP,\n                $f19b912d87716459$var$FIELD_ORDER\n            ]\n        ],\n        [$f19b912d87716459$var$INDEX_SKIN_UNICODE]: [\n            $f19b912d87716459$var$FIELD_SKIN_UNICODE,\n            /* multiEntry */ true\n        ]\n    });\n    createObjectStore($f19b912d87716459$var$STORE_FAVORITES, undefined, {\n        [$f19b912d87716459$var$INDEX_COUNT]: [\n            \"\"\n        ]\n    });\n}\nconst $f19b912d87716459$var$openIndexedDBRequests = {};\nconst $f19b912d87716459$var$databaseCache = {};\nconst $f19b912d87716459$var$onCloseListeners = {};\nfunction $f19b912d87716459$var$handleOpenOrDeleteReq(resolve, reject, req) {\n    // These things are almost impossible to test with fakeIndexedDB sadly\n    /* istanbul ignore next */ req.onerror = ()=>reject(req.error);\n    /* istanbul ignore next */ req.onblocked = ()=>reject(new Error(\"IDB blocked\"));\n    req.onsuccess = ()=>resolve(req.result);\n}\nasync function $f19b912d87716459$var$createDatabase(dbName) {\n    const db = await new Promise((resolve, reject)=>{\n        const req = indexedDB.open(dbName, $f19b912d87716459$var$DB_VERSION_CURRENT);\n        $f19b912d87716459$var$openIndexedDBRequests[dbName] = req;\n        req.onupgradeneeded = (e)=>{\n            // Technically there is only one version, so we don't need this `if` check\n            // But if an old version of the JS is in another browser tab\n            // and it gets upgraded in the future and we have a new DB version, well...\n            // better safe than sorry.\n            /* istanbul ignore else */ if (e.oldVersion < $f19b912d87716459$var$DB_VERSION_INITIAL) $f19b912d87716459$var$initialMigration(req.result);\n        };\n        $f19b912d87716459$var$handleOpenOrDeleteReq(resolve, reject, req);\n    });\n    // Handle abnormal closes, e.g. \"delete database\" in chrome dev tools.\n    // No need for removeEventListener, because once the DB can no longer\n    // fire \"close\" events, it will auto-GC.\n    // Unfortunately cannot test in fakeIndexedDB: https://github.com/dumbmatter/fakeIndexedDB/issues/50\n    /* istanbul ignore next */ db.onclose = ()=>$f19b912d87716459$var$closeDatabase(dbName);\n    return db;\n}\nfunction $f19b912d87716459$var$openDatabase(dbName) {\n    if (!$f19b912d87716459$var$databaseCache[dbName]) $f19b912d87716459$var$databaseCache[dbName] = $f19b912d87716459$var$createDatabase(dbName);\n    return $f19b912d87716459$var$databaseCache[dbName];\n}\nfunction $f19b912d87716459$var$dbPromise(db, storeName, readOnlyOrReadWrite, cb) {\n    return new Promise((resolve, reject)=>{\n        // Use relaxed durability because neither the emoji data nor the favorites/preferred skin tone\n        // are really irreplaceable data. IndexedDB is just a cache in this case.\n        const txn = db.transaction(storeName, readOnlyOrReadWrite, {\n            durability: \"relaxed\"\n        });\n        const store = typeof storeName === \"string\" ? txn.objectStore(storeName) : storeName.map((name)=>txn.objectStore(name));\n        let res;\n        cb(store, txn, (result)=>{\n            res = result;\n        });\n        txn.oncomplete = ()=>resolve(res);\n        /* istanbul ignore next */ txn.onerror = ()=>reject(txn.error);\n    });\n}\nfunction $f19b912d87716459$var$closeDatabase(dbName) {\n    // close any open requests\n    const req = $f19b912d87716459$var$openIndexedDBRequests[dbName];\n    const db = req && req.result;\n    if (db) {\n        db.close();\n        const listeners = $f19b912d87716459$var$onCloseListeners[dbName];\n        /* istanbul ignore else */ if (listeners) for (const listener of listeners)listener();\n    }\n    delete $f19b912d87716459$var$openIndexedDBRequests[dbName];\n    delete $f19b912d87716459$var$databaseCache[dbName];\n    delete $f19b912d87716459$var$onCloseListeners[dbName];\n}\nfunction $f19b912d87716459$var$deleteDatabase(dbName) {\n    return new Promise((resolve, reject)=>{\n        // close any open requests\n        $f19b912d87716459$var$closeDatabase(dbName);\n        const req = indexedDB.deleteDatabase(dbName);\n        $f19b912d87716459$var$handleOpenOrDeleteReq(resolve, reject, req);\n    });\n}\n// The \"close\" event occurs during an abnormal shutdown, e.g. a user clearing their browser data.\n// However, it doesn't occur with the normal \"close\" event, so we handle that separately.\n// https://www.w3.org/TR/IndexedDB/#close-a-database-connection\nfunction $f19b912d87716459$var$addOnCloseListener(dbName, listener) {\n    let listeners = $f19b912d87716459$var$onCloseListeners[dbName];\n    if (!listeners) listeners = $f19b912d87716459$var$onCloseListeners[dbName] = [];\n    listeners.push(listener);\n}\n// list of emoticons that don't match a simple \\W+ regex\n// extracted using:\n// require('emoji-picker-element-data/en/emojibase/data.json').map(_ => _.emoticon).filter(Boolean).filter(_ => !/^\\W+$/.test(_))\nconst $f19b912d87716459$var$irregularEmoticons = new Set([\n    \":D\",\n    \"XD\",\n    \":'D\",\n    \"O:)\",\n    \":X\",\n    \":P\",\n    \";P\",\n    \"XP\",\n    \":L\",\n    \":Z\",\n    \":j\",\n    \"8D\",\n    \"XO\",\n    \"8)\",\n    \":B\",\n    \":O\",\n    \":S\",\n    \":'o\",\n    \"Dx\",\n    \"X(\",\n    \"D:\",\n    \":C\",\n    \">0)\",\n    \":3\",\n    \"</3\",\n    \"<3\",\n    \"\\\\M/\",\n    \":E\",\n    \"8#\"\n]);\nfunction $f19b912d87716459$var$extractTokens(str) {\n    return str.split(/[\\s_]+/).map((word)=>{\n        if (!word.match(/\\w/) || $f19b912d87716459$var$irregularEmoticons.has(word)) // for pure emoticons like :) or :-), just leave them as-is\n        return word.toLowerCase();\n        return word.replace(/[)(:,]/g, \"\").replace(/’/g, \"'\").toLowerCase();\n    }).filter(Boolean);\n}\nconst $f19b912d87716459$var$MIN_SEARCH_TEXT_LENGTH = 2;\n// This is an extra step in addition to extractTokens(). The difference here is that we expect\n// the input to have already been run through extractTokens(). This is useful for cases like\n// emoticons, where we don't want to do any tokenization (because it makes no sense to split up\n// \">:)\" by the colon) but we do want to lowercase it to have consistent search results, so that\n// the user can type ':P' or ':p' and still get the same result.\nfunction $f19b912d87716459$var$normalizeTokens(str) {\n    return str.filter(Boolean).map((_)=>_.toLowerCase()).filter((_)=>_.length >= $f19b912d87716459$var$MIN_SEARCH_TEXT_LENGTH);\n}\n// Transform emoji data for storage in IDB\nfunction $f19b912d87716459$var$transformEmojiData(emojiData) {\n    const res = emojiData.map(({ annotation: annotation, emoticon: emoticon, group: group, order: order, shortcodes: shortcodes, skins: skins, tags: tags, emoji: emoji, version: version })=>{\n        const tokens = [\n            ...new Set($f19b912d87716459$var$normalizeTokens([\n                ...(shortcodes || []).map($f19b912d87716459$var$extractTokens).flat(),\n                ...tags.map($f19b912d87716459$var$extractTokens).flat(),\n                ...$f19b912d87716459$var$extractTokens(annotation),\n                emoticon\n            ]))\n        ].sort();\n        const res = {\n            annotation: annotation,\n            group: group,\n            order: order,\n            tags: tags,\n            tokens: tokens,\n            unicode: emoji,\n            version: version\n        };\n        if (emoticon) res.emoticon = emoticon;\n        if (shortcodes) res.shortcodes = shortcodes;\n        if (skins) {\n            res.skinTones = [];\n            res.skinUnicodes = [];\n            res.skinVersions = [];\n            for (const { tone: tone, emoji: emoji, version: version } of skins){\n                res.skinTones.push(tone);\n                res.skinUnicodes.push(emoji);\n                res.skinVersions.push(version);\n            }\n        }\n        return res;\n    });\n    return res;\n}\n// helper functions that help compress the code better\nfunction $f19b912d87716459$var$callStore(store, method, key, cb) {\n    store[method](key).onsuccess = (e)=>cb && cb(e.target.result);\n}\nfunction $f19b912d87716459$var$getIDB(store, key, cb) {\n    $f19b912d87716459$var$callStore(store, \"get\", key, cb);\n}\nfunction $f19b912d87716459$var$getAllIDB(store, key, cb) {\n    $f19b912d87716459$var$callStore(store, \"getAll\", key, cb);\n}\nfunction $f19b912d87716459$var$commit(txn) {\n    /* istanbul ignore else */ if (txn.commit) txn.commit();\n}\n// like lodash's minBy\nfunction $f19b912d87716459$var$minBy(array, func) {\n    let minItem = array[0];\n    for(let i = 1; i < array.length; i++){\n        const item = array[i];\n        if (func(minItem) > func(item)) minItem = item;\n    }\n    return minItem;\n}\n// return an array of results representing all items that are found in each one of the arrays\n//\nfunction $f19b912d87716459$var$findCommonMembers(arrays, uniqByFunc) {\n    const shortestArray = $f19b912d87716459$var$minBy(arrays, (_)=>_.length);\n    const results = [];\n    for (const item of shortestArray)// if this item is included in every array in the intermediate results, add it to the final results\n    if (!arrays.some((array)=>array.findIndex((_)=>uniqByFunc(_) === uniqByFunc(item)) === -1)) results.push(item);\n    return results;\n}\nasync function $f19b912d87716459$var$isEmpty(db) {\n    return !await $f19b912d87716459$var$get(db, $f19b912d87716459$var$STORE_KEYVALUE, $f19b912d87716459$var$KEY_URL);\n}\nasync function $f19b912d87716459$var$hasData(db, url, eTag) {\n    const [oldETag, oldUrl] = await Promise.all([\n        $f19b912d87716459$var$KEY_ETAG,\n        $f19b912d87716459$var$KEY_URL\n    ].map((key)=>$f19b912d87716459$var$get(db, $f19b912d87716459$var$STORE_KEYVALUE, key)));\n    return oldETag === eTag && oldUrl === url;\n}\nasync function $f19b912d87716459$var$doFullDatabaseScanForSingleResult(db, predicate) {\n    // This batching algorithm is just a perf improvement over a basic\n    // cursor. The BATCH_SIZE is an estimate of what would give the best\n    // perf for doing a full DB scan (worst case).\n    //\n    // Mini-benchmark for determining the best batch size:\n    //\n    // PERF=1 yarn build:rollup && yarn test:adhoc\n    //\n    // (async () => {\n    //   performance.mark('start')\n    //   await $('emoji-picker').database.getEmojiByShortcode('doesnotexist')\n    //   performance.measure('total', 'start')\n    //   console.log(performance.getEntriesByName('total').slice(-1)[0].duration)\n    // })()\n    const BATCH_SIZE = 50; // Typically around 150ms for 6x slowdown in Chrome for above benchmark\n    return $f19b912d87716459$var$dbPromise(db, $f19b912d87716459$var$STORE_EMOJI, $f19b912d87716459$var$MODE_READONLY, (emojiStore, txn, cb)=>{\n        let lastKey;\n        const processNextBatch = ()=>{\n            emojiStore.getAll(lastKey && IDBKeyRange.lowerBound(lastKey, true), BATCH_SIZE).onsuccess = (e)=>{\n                const results = e.target.result;\n                for (const result of results){\n                    lastKey = result.unicode;\n                    if (predicate(result)) return cb(result);\n                }\n                if (results.length < BATCH_SIZE) return cb();\n                processNextBatch();\n            };\n        };\n        processNextBatch();\n    });\n}\nasync function $f19b912d87716459$var$loadData(db, emojiData, url, eTag) {\n    {\n        const transformedData = $f19b912d87716459$var$transformEmojiData(emojiData);\n        await $f19b912d87716459$var$dbPromise(db, [\n            $f19b912d87716459$var$STORE_EMOJI,\n            $f19b912d87716459$var$STORE_KEYVALUE\n        ], $f19b912d87716459$var$MODE_READWRITE, ([emojiStore, metaStore], txn)=>{\n            let oldETag;\n            let oldUrl;\n            let todo = 0;\n            function checkFetched() {\n                if (++todo === 2) onFetched();\n            }\n            function onFetched() {\n                if (oldETag === eTag && oldUrl === url) // check again within the transaction to guard against concurrency, e.g. multiple browser tabs\n                return;\n                // delete old data\n                emojiStore.clear();\n                // insert new data\n                for (const data of transformedData)emojiStore.put(data);\n                metaStore.put(eTag, $f19b912d87716459$var$KEY_ETAG);\n                metaStore.put(url, $f19b912d87716459$var$KEY_URL);\n                $f19b912d87716459$var$commit(txn);\n            }\n            $f19b912d87716459$var$getIDB(metaStore, $f19b912d87716459$var$KEY_ETAG, (result)=>{\n                oldETag = result;\n                checkFetched();\n            });\n            $f19b912d87716459$var$getIDB(metaStore, $f19b912d87716459$var$KEY_URL, (result)=>{\n                oldUrl = result;\n                checkFetched();\n            });\n        });\n    }\n}\nasync function $f19b912d87716459$var$getEmojiByGroup(db, group) {\n    return $f19b912d87716459$var$dbPromise(db, $f19b912d87716459$var$STORE_EMOJI, $f19b912d87716459$var$MODE_READONLY, (emojiStore, txn, cb)=>{\n        const range = IDBKeyRange.bound([\n            group,\n            0\n        ], [\n            group + 1,\n            0\n        ], false, true);\n        $f19b912d87716459$var$getAllIDB(emojiStore.index($f19b912d87716459$var$INDEX_GROUP_AND_ORDER), range, cb);\n    });\n}\nasync function $f19b912d87716459$var$getEmojiBySearchQuery(db, query) {\n    const tokens = $f19b912d87716459$var$normalizeTokens($f19b912d87716459$var$extractTokens(query));\n    if (!tokens.length) return [];\n    return $f19b912d87716459$var$dbPromise(db, $f19b912d87716459$var$STORE_EMOJI, $f19b912d87716459$var$MODE_READONLY, (emojiStore, txn, cb)=>{\n        // get all results that contain all tokens (i.e. an AND query)\n        const intermediateResults = [];\n        const checkDone = ()=>{\n            if (intermediateResults.length === tokens.length) onDone();\n        };\n        const onDone = ()=>{\n            const results = $f19b912d87716459$var$findCommonMembers(intermediateResults, (_)=>_.unicode);\n            cb(results.sort((a, b)=>a.order < b.order ? -1 : 1));\n        };\n        for(let i = 0; i < tokens.length; i++){\n            const token = tokens[i];\n            const range = i === tokens.length - 1 ? IDBKeyRange.bound(token, token + \"￿\", false, true) // treat last token as a prefix search\n             : IDBKeyRange.only(token); // treat all other tokens as an exact match\n            $f19b912d87716459$var$getAllIDB(emojiStore.index($f19b912d87716459$var$INDEX_TOKENS), range, (result)=>{\n                intermediateResults.push(result);\n                checkDone();\n            });\n        }\n    });\n}\n// This could have been implemented as an IDB index on shortcodes, but it seemed wasteful to do that\n// when we can already query by tokens and this will give us what we're looking for 99.9% of the time\nasync function $f19b912d87716459$var$getEmojiByShortcode(db, shortcode) {\n    const emojis = await $f19b912d87716459$var$getEmojiBySearchQuery(db, shortcode);\n    // In very rare cases (e.g. the shortcode \"v\" as in \"v for victory\"), we cannot search because\n    // there are no usable tokens (too short in this case). In that case, we have to do an inefficient\n    // full-database scan, which I believe is an acceptable tradeoff for not having to have an extra\n    // index on shortcodes.\n    if (!emojis.length) {\n        const predicate = (_)=>(_.shortcodes || []).includes(shortcode.toLowerCase());\n        return await $f19b912d87716459$var$doFullDatabaseScanForSingleResult(db, predicate) || null;\n    }\n    return emojis.filter((_)=>{\n        const lowerShortcodes = (_.shortcodes || []).map((_)=>_.toLowerCase());\n        return lowerShortcodes.includes(shortcode.toLowerCase());\n    })[0] || null;\n}\nasync function $f19b912d87716459$var$getEmojiByUnicode(db, unicode) {\n    return $f19b912d87716459$var$dbPromise(db, $f19b912d87716459$var$STORE_EMOJI, $f19b912d87716459$var$MODE_READONLY, (emojiStore, txn, cb)=>$f19b912d87716459$var$getIDB(emojiStore, unicode, (result)=>{\n            if (result) return cb(result);\n            $f19b912d87716459$var$getIDB(emojiStore.index($f19b912d87716459$var$INDEX_SKIN_UNICODE), unicode, (result)=>cb(result || null));\n        }));\n}\nfunction $f19b912d87716459$var$get(db, storeName, key) {\n    return $f19b912d87716459$var$dbPromise(db, storeName, $f19b912d87716459$var$MODE_READONLY, (store, txn, cb)=>$f19b912d87716459$var$getIDB(store, key, cb));\n}\nfunction $f19b912d87716459$var$set(db, storeName, key, value) {\n    return $f19b912d87716459$var$dbPromise(db, storeName, $f19b912d87716459$var$MODE_READWRITE, (store, txn)=>{\n        store.put(value, key);\n        $f19b912d87716459$var$commit(txn);\n    });\n}\nfunction $f19b912d87716459$var$incrementFavoriteEmojiCount(db, unicode) {\n    return $f19b912d87716459$var$dbPromise(db, $f19b912d87716459$var$STORE_FAVORITES, $f19b912d87716459$var$MODE_READWRITE, (store, txn)=>$f19b912d87716459$var$getIDB(store, unicode, (result)=>{\n            store.put((result || 0) + 1, unicode);\n            $f19b912d87716459$var$commit(txn);\n        }));\n}\nfunction $f19b912d87716459$var$getTopFavoriteEmoji(db, customEmojiIndex, limit) {\n    if (limit === 0) return [];\n    return $f19b912d87716459$var$dbPromise(db, [\n        $f19b912d87716459$var$STORE_FAVORITES,\n        $f19b912d87716459$var$STORE_EMOJI\n    ], $f19b912d87716459$var$MODE_READONLY, ([favoritesStore, emojiStore], txn, cb)=>{\n        const results = [];\n        favoritesStore.index($f19b912d87716459$var$INDEX_COUNT).openCursor(undefined, \"prev\").onsuccess = (e)=>{\n            const cursor = e.target.result;\n            if (!cursor) return cb(results);\n            function addResult(result) {\n                results.push(result);\n                if (results.length === limit) return cb(results) // done, reached the limit\n                ;\n                cursor.continue();\n            }\n            const unicodeOrName = cursor.primaryKey;\n            const custom = customEmojiIndex.byName(unicodeOrName);\n            if (custom) return addResult(custom);\n            // This could be done in parallel (i.e. make the cursor and the get()s parallelized),\n            // but my testing suggests it's not actually faster.\n            $f19b912d87716459$var$getIDB(emojiStore, unicodeOrName, (emoji)=>{\n                if (emoji) return addResult(emoji);\n                // emoji not found somehow, ignore (may happen if custom emoji change)\n                cursor.continue();\n            });\n        };\n    });\n}\n// trie data structure for prefix searches\n// loosely based on https://github.com/nolanlawson/substring-trie\nconst $f19b912d87716459$var$CODA_MARKER = \"\"; // marks the end of the string\nfunction $f19b912d87716459$var$trie(arr, itemToTokens) {\n    const map = new Map();\n    for (const item of arr){\n        const tokens = itemToTokens(item);\n        for (const token of tokens){\n            let currentMap = map;\n            for(let i = 0; i < token.length; i++){\n                const char = token.charAt(i);\n                let nextMap = currentMap.get(char);\n                if (!nextMap) {\n                    nextMap = new Map();\n                    currentMap.set(char, nextMap);\n                }\n                currentMap = nextMap;\n            }\n            let valuesAtCoda = currentMap.get($f19b912d87716459$var$CODA_MARKER);\n            if (!valuesAtCoda) {\n                valuesAtCoda = [];\n                currentMap.set($f19b912d87716459$var$CODA_MARKER, valuesAtCoda);\n            }\n            valuesAtCoda.push(item);\n        }\n    }\n    const search = (query, exact)=>{\n        let currentMap = map;\n        for(let i = 0; i < query.length; i++){\n            const char = query.charAt(i);\n            const nextMap = currentMap.get(char);\n            if (nextMap) currentMap = nextMap;\n            else return [];\n        }\n        if (exact) {\n            const results = currentMap.get($f19b912d87716459$var$CODA_MARKER);\n            return results || [];\n        }\n        const results = [];\n        // traverse\n        const queue = [\n            currentMap\n        ];\n        while(queue.length){\n            const currentMap = queue.shift();\n            const entriesSortedByKey = [\n                ...currentMap.entries()\n            ].sort((a, b)=>a[0] < b[0] ? -1 : 1);\n            for (const [key, value] of entriesSortedByKey)if (key === $f19b912d87716459$var$CODA_MARKER) results.push(...value);\n            else queue.push(value);\n        }\n        return results;\n    };\n    return search;\n}\nconst $f19b912d87716459$var$requiredKeys$1 = [\n    \"name\",\n    \"url\"\n];\nfunction $f19b912d87716459$var$assertCustomEmojis(customEmojis) {\n    const isArray = customEmojis && Array.isArray(customEmojis);\n    const firstItemIsFaulty = isArray && customEmojis.length && (!customEmojis[0] || $f19b912d87716459$var$requiredKeys$1.some((key)=>!(key in customEmojis[0])));\n    if (!isArray || firstItemIsFaulty) throw new Error(\"Custom emojis are in the wrong format\");\n}\nfunction $f19b912d87716459$var$customEmojiIndex(customEmojis) {\n    $f19b912d87716459$var$assertCustomEmojis(customEmojis);\n    const sortByName = (a, b)=>a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1;\n    //\n    // all()\n    //\n    const all = customEmojis.sort(sortByName);\n    //\n    // search()\n    //\n    const emojiToTokens = (emoji)=>[\n            ...new Set((emoji.shortcodes || []).map((shortcode)=>$f19b912d87716459$var$extractTokens(shortcode)).flat())\n        ];\n    const searchTrie = $f19b912d87716459$var$trie(customEmojis, emojiToTokens);\n    const searchByExactMatch = (_)=>searchTrie(_, true);\n    const searchByPrefix = (_)=>searchTrie(_, false);\n    // Search by query for custom emoji. Similar to how we do this in IDB, the last token\n    // is treated as a prefix search, but every other one is treated as an exact match.\n    // Then we AND the results together\n    const search = (query)=>{\n        const tokens = $f19b912d87716459$var$extractTokens(query);\n        const intermediateResults = tokens.map((token, i)=>(i < tokens.length - 1 ? searchByExactMatch : searchByPrefix)(token));\n        return $f19b912d87716459$var$findCommonMembers(intermediateResults, (_)=>_.name).sort(sortByName);\n    };\n    //\n    // byShortcode, byName\n    //\n    const shortcodeToEmoji = new Map();\n    const nameToEmoji = new Map();\n    for (const customEmoji of customEmojis){\n        nameToEmoji.set(customEmoji.name.toLowerCase(), customEmoji);\n        for (const shortcode of customEmoji.shortcodes || [])shortcodeToEmoji.set(shortcode.toLowerCase(), customEmoji);\n    }\n    const byShortcode = (shortcode)=>shortcodeToEmoji.get(shortcode.toLowerCase());\n    const byName = (name)=>nameToEmoji.get(name.toLowerCase());\n    return {\n        all: all,\n        search: search,\n        byShortcode: byShortcode,\n        byName: byName\n    };\n}\nconst $f19b912d87716459$var$isFirefoxContentScript = typeof wrappedJSObject !== \"undefined\";\n// remove some internal implementation details, i.e. the \"tokens\" array on the emoji object\n// essentially, convert the emoji from the version stored in IDB to the version used in-memory\nfunction $f19b912d87716459$var$cleanEmoji(emoji) {\n    if (!emoji) return emoji;\n    // if inside a Firefox content script, need to clone the emoji object to prevent Firefox from complaining about\n    // cross-origin object. See: https://github.com/nolanlawson/emoji-picker-element/issues/356\n    /* istanbul ignore if */ if ($f19b912d87716459$var$isFirefoxContentScript) emoji = structuredClone(emoji);\n    delete emoji.tokens;\n    if (emoji.skinTones) {\n        const len = emoji.skinTones.length;\n        emoji.skins = Array(len);\n        for(let i = 0; i < len; i++)emoji.skins[i] = {\n            tone: emoji.skinTones[i],\n            unicode: emoji.skinUnicodes[i],\n            version: emoji.skinVersions[i]\n        };\n        delete emoji.skinTones;\n        delete emoji.skinUnicodes;\n        delete emoji.skinVersions;\n    }\n    return emoji;\n}\nfunction $f19b912d87716459$var$warnETag(eTag) {\n    if (!eTag) console.warn(\"emoji-picker-element is more efficient if the dataSource server exposes an ETag header.\");\n}\nconst $f19b912d87716459$var$requiredKeys = [\n    \"annotation\",\n    \"emoji\",\n    \"group\",\n    \"order\",\n    \"tags\",\n    \"version\"\n];\nfunction $f19b912d87716459$var$assertEmojiData(emojiData) {\n    if (!emojiData || !Array.isArray(emojiData) || !emojiData[0] || typeof emojiData[0] !== \"object\" || $f19b912d87716459$var$requiredKeys.some((key)=>!(key in emojiData[0]))) throw new Error(\"Emoji data is in the wrong format\");\n}\nfunction $f19b912d87716459$var$assertStatus(response, dataSource) {\n    if (Math.floor(response.status / 100) !== 2) throw new Error(\"Failed to fetch: \" + dataSource + \":  \" + response.status);\n}\nasync function $f19b912d87716459$var$getETag(dataSource) {\n    const response = await fetch(dataSource, {\n        method: \"HEAD\"\n    });\n    $f19b912d87716459$var$assertStatus(response, dataSource);\n    const eTag = response.headers.get(\"etag\");\n    $f19b912d87716459$var$warnETag(eTag);\n    return eTag;\n}\nasync function $f19b912d87716459$var$getETagAndData(dataSource) {\n    const response = await fetch(dataSource);\n    $f19b912d87716459$var$assertStatus(response, dataSource);\n    const eTag = response.headers.get(\"etag\");\n    $f19b912d87716459$var$warnETag(eTag);\n    const emojiData = await response.json();\n    $f19b912d87716459$var$assertEmojiData(emojiData);\n    return [\n        eTag,\n        emojiData\n    ];\n}\n// TODO: including these in blob-util.ts causes typedoc to generate docs for them,\n// even with --excludePrivate ¯\\_(ツ)_/¯\n/** @private */ /**\n * Convert an `ArrayBuffer` to a binary string.\n *\n * Example:\n *\n * ```js\n * var myString = blobUtil.arrayBufferToBinaryString(arrayBuff)\n * ```\n *\n * @param buffer - array buffer\n * @returns binary string\n */ function $f19b912d87716459$var$arrayBufferToBinaryString(buffer) {\n    var binary = \"\";\n    var bytes = new Uint8Array(buffer);\n    var length = bytes.byteLength;\n    var i = -1;\n    while(++i < length)binary += String.fromCharCode(bytes[i]);\n    return binary;\n}\n/**\n * Convert a binary string to an `ArrayBuffer`.\n *\n * ```js\n * var myBuffer = blobUtil.binaryStringToArrayBuffer(binaryString)\n * ```\n *\n * @param binary - binary string\n * @returns array buffer\n */ function $f19b912d87716459$var$binaryStringToArrayBuffer(binary) {\n    var length = binary.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    var i = -1;\n    while(++i < length)arr[i] = binary.charCodeAt(i);\n    return buf;\n}\n// generate a checksum based on the stringified JSON\nasync function $f19b912d87716459$var$jsonChecksum(object) {\n    const inString = JSON.stringify(object);\n    const inBuffer = $f19b912d87716459$var$binaryStringToArrayBuffer(inString);\n    // this does not need to be cryptographically secure, SHA-1 is fine\n    const outBuffer = await crypto.subtle.digest(\"SHA-1\", inBuffer);\n    const outBinString = $f19b912d87716459$var$arrayBufferToBinaryString(outBuffer);\n    const res = btoa(outBinString);\n    return res;\n}\nasync function $f19b912d87716459$var$checkForUpdates(db, dataSource) {\n    // just do a simple HEAD request first to see if the eTags match\n    let emojiData;\n    let eTag = await $f19b912d87716459$var$getETag(dataSource);\n    if (!eTag) {\n        const eTagAndData = await $f19b912d87716459$var$getETagAndData(dataSource);\n        eTag = eTagAndData[0];\n        emojiData = eTagAndData[1];\n        if (!eTag) eTag = await $f19b912d87716459$var$jsonChecksum(emojiData);\n    }\n    if (await $f19b912d87716459$var$hasData(db, dataSource, eTag)) ;\n    else {\n        if (!emojiData) {\n            const eTagAndData = await $f19b912d87716459$var$getETagAndData(dataSource);\n            emojiData = eTagAndData[1];\n        }\n        await $f19b912d87716459$var$loadData(db, emojiData, dataSource, eTag);\n    }\n}\nasync function $f19b912d87716459$var$loadDataForFirstTime(db, dataSource) {\n    let [eTag, emojiData] = await $f19b912d87716459$var$getETagAndData(dataSource);\n    if (!eTag) // Handle lack of support for ETag or Access-Control-Expose-Headers\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Expose-Headers#Browser_compatibility\n    eTag = await $f19b912d87716459$var$jsonChecksum(emojiData);\n    await $f19b912d87716459$var$loadData(db, emojiData, dataSource, eTag);\n}\nclass $f19b912d87716459$export$2e2bcd8739ae039 {\n    constructor({ dataSource: dataSource = $f19b912d87716459$var$DEFAULT_DATA_SOURCE, locale: locale = $f19b912d87716459$var$DEFAULT_LOCALE, customEmoji: customEmoji = [] } = {}){\n        this.dataSource = dataSource;\n        this.locale = locale;\n        this._dbName = `emoji-picker-element-${this.locale}`;\n        this._db = undefined;\n        this._lazyUpdate = undefined;\n        this._custom = $f19b912d87716459$var$customEmojiIndex(customEmoji);\n        this._clear = this._clear.bind(this);\n        this._ready = this._init();\n    }\n    async _init() {\n        const db = this._db = await $f19b912d87716459$var$openDatabase(this._dbName);\n        $f19b912d87716459$var$addOnCloseListener(this._dbName, this._clear);\n        const dataSource = this.dataSource;\n        const empty = await $f19b912d87716459$var$isEmpty(db);\n        if (empty) await $f19b912d87716459$var$loadDataForFirstTime(db, dataSource);\n        else this._lazyUpdate = $f19b912d87716459$var$checkForUpdates(db, dataSource);\n    }\n    async ready() {\n        const checkReady = async ()=>{\n            if (!this._ready) this._ready = this._init();\n            return this._ready;\n        };\n        await checkReady();\n        // There's a possibility of a race condition where the element gets added, removed, and then added again\n        // with a particular timing, which would set the _db to undefined.\n        // We *could* do a while loop here, but that seems excessive and could lead to an infinite loop.\n        if (!this._db) await checkReady();\n    }\n    async getEmojiByGroup(group) {\n        $f19b912d87716459$var$assertNumber(group);\n        await this.ready();\n        return $f19b912d87716459$var$uniqEmoji(await $f19b912d87716459$var$getEmojiByGroup(this._db, group)).map($f19b912d87716459$var$cleanEmoji);\n    }\n    async getEmojiBySearchQuery(query) {\n        $f19b912d87716459$var$assertNonEmptyString(query);\n        await this.ready();\n        const customs = this._custom.search(query);\n        const natives = $f19b912d87716459$var$uniqEmoji(await $f19b912d87716459$var$getEmojiBySearchQuery(this._db, query)).map($f19b912d87716459$var$cleanEmoji);\n        return [\n            ...customs,\n            ...natives\n        ];\n    }\n    async getEmojiByShortcode(shortcode) {\n        $f19b912d87716459$var$assertNonEmptyString(shortcode);\n        await this.ready();\n        const custom = this._custom.byShortcode(shortcode);\n        if (custom) return custom;\n        return $f19b912d87716459$var$cleanEmoji(await $f19b912d87716459$var$getEmojiByShortcode(this._db, shortcode));\n    }\n    async getEmojiByUnicodeOrName(unicodeOrName) {\n        $f19b912d87716459$var$assertNonEmptyString(unicodeOrName);\n        await this.ready();\n        const custom = this._custom.byName(unicodeOrName);\n        if (custom) return custom;\n        return $f19b912d87716459$var$cleanEmoji(await $f19b912d87716459$var$getEmojiByUnicode(this._db, unicodeOrName));\n    }\n    async getPreferredSkinTone() {\n        await this.ready();\n        return await $f19b912d87716459$var$get(this._db, $f19b912d87716459$var$STORE_KEYVALUE, $f19b912d87716459$var$KEY_PREFERRED_SKINTONE) || 0;\n    }\n    async setPreferredSkinTone(skinTone) {\n        $f19b912d87716459$var$assertNumber(skinTone);\n        await this.ready();\n        return $f19b912d87716459$var$set(this._db, $f19b912d87716459$var$STORE_KEYVALUE, $f19b912d87716459$var$KEY_PREFERRED_SKINTONE, skinTone);\n    }\n    async incrementFavoriteEmojiCount(unicodeOrName) {\n        $f19b912d87716459$var$assertNonEmptyString(unicodeOrName);\n        await this.ready();\n        return $f19b912d87716459$var$incrementFavoriteEmojiCount(this._db, unicodeOrName);\n    }\n    async getTopFavoriteEmoji(limit) {\n        $f19b912d87716459$var$assertNumber(limit);\n        await this.ready();\n        return (await $f19b912d87716459$var$getTopFavoriteEmoji(this._db, this._custom, limit)).map($f19b912d87716459$var$cleanEmoji);\n    }\n    set customEmoji(customEmojis) {\n        this._custom = $f19b912d87716459$var$customEmojiIndex(customEmojis);\n    }\n    get customEmoji() {\n        return this._custom.all;\n    }\n    async _shutdown() {\n        await this.ready(); // reopen if we've already been closed/deleted\n        try {\n            await this._lazyUpdate; // allow any lazy updates to process before closing/deleting\n        } catch (err) {}\n    }\n    // clear references to IDB, e.g. during a close event\n    _clear() {\n        // We don't need to call removeEventListener or remove the manual \"close\" listeners.\n        // The memory leak tests prove this is unnecessary. It's because:\n        // 1) IDBDatabases that can no longer fire \"close\" automatically have listeners GCed\n        // 2) we clear the manual close listeners in databaseLifecycle.js.\n        this._db = this._ready = this._lazyUpdate = undefined;\n    }\n    async close() {\n        await this._shutdown();\n        await $f19b912d87716459$var$closeDatabase(this._dbName);\n    }\n    async delete() {\n        await this._shutdown();\n        await $f19b912d87716459$var$deleteDatabase(this._dbName);\n    }\n}\n\n\nfunction $be550d328187eb94$var$noop() {}\nfunction $be550d328187eb94$var$run(fn) {\n    return fn();\n}\nfunction $be550d328187eb94$var$blank_object() {\n    return Object.create(null);\n}\nfunction $be550d328187eb94$var$run_all(fns) {\n    fns.forEach($be550d328187eb94$var$run);\n}\nfunction $be550d328187eb94$var$is_function(thing) {\n    return typeof thing === \"function\";\n}\nfunction $be550d328187eb94$var$safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || a && typeof a === \"object\" || typeof a === \"function\";\n}\nlet $be550d328187eb94$var$src_url_equal_anchor;\nfunction $be550d328187eb94$var$src_url_equal(element_src, url) {\n    if (!$be550d328187eb94$var$src_url_equal_anchor) $be550d328187eb94$var$src_url_equal_anchor = document.createElement(\"a\");\n    $be550d328187eb94$var$src_url_equal_anchor.href = url;\n    return element_src === $be550d328187eb94$var$src_url_equal_anchor.href;\n}\nfunction $be550d328187eb94$var$is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction $be550d328187eb94$var$action_destroyer(action_result) {\n    return action_result && $be550d328187eb94$var$is_function(action_result.destroy) ? action_result.destroy : $be550d328187eb94$var$noop;\n}\nconst $be550d328187eb94$var$globals = typeof window !== \"undefined\" ? window : typeof globalThis !== \"undefined\" ? globalThis : $parcel$global;\nfunction $be550d328187eb94$var$append(target, node) {\n    target.appendChild(node);\n}\nfunction $be550d328187eb94$var$insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction $be550d328187eb94$var$detach(node) {\n    if (node.parentNode) node.parentNode.removeChild(node);\n}\nfunction $be550d328187eb94$var$element(name) {\n    return document.createElement(name);\n}\nfunction $be550d328187eb94$var$text(data) {\n    return document.createTextNode(data);\n}\nfunction $be550d328187eb94$var$listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return ()=>node.removeEventListener(event, handler, options);\n}\nfunction $be550d328187eb94$var$attr(node, attribute, value) {\n    if (value == null) node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\nfunction $be550d328187eb94$var$set_data(text, data) {\n    data = \"\" + data;\n    if (text.data === data) return;\n    text.data = data;\n}\nfunction $be550d328187eb94$var$set_input_value(input, value) {\n    input.value = value == null ? \"\" : value;\n}\nfunction $be550d328187eb94$var$set_style(node, key, value, important) {\n    if (value == null) node.style.removeProperty(key);\n    else node.style.setProperty(key, value, important ? \"important\" : \"\");\n}\nlet $be550d328187eb94$var$current_component;\nfunction $be550d328187eb94$var$set_current_component(component) {\n    $be550d328187eb94$var$current_component = component;\n}\nfunction $be550d328187eb94$var$get_current_component() {\n    if (!$be550d328187eb94$var$current_component) throw new Error(\"Function called outside component initialization\");\n    return $be550d328187eb94$var$current_component;\n}\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs#run-time-svelte-onmount\n */ function $be550d328187eb94$var$onMount(fn) {\n    $be550d328187eb94$var$get_current_component().$$.on_mount.push(fn);\n}\nconst $be550d328187eb94$var$dirty_components = [];\nconst $be550d328187eb94$var$binding_callbacks = [];\nlet $be550d328187eb94$var$render_callbacks = [];\nconst $be550d328187eb94$var$flush_callbacks = [];\nconst $be550d328187eb94$var$resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet $be550d328187eb94$var$update_scheduled = false;\nfunction $be550d328187eb94$var$schedule_update() {\n    if (!$be550d328187eb94$var$update_scheduled) {\n        $be550d328187eb94$var$update_scheduled = true;\n        $be550d328187eb94$var$resolved_promise.then($be550d328187eb94$var$flush);\n    }\n}\nfunction $be550d328187eb94$var$add_render_callback(fn) {\n    $be550d328187eb94$var$render_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst $be550d328187eb94$var$seen_callbacks = new Set();\nlet $be550d328187eb94$var$flushidx = 0; // Do *not* move this inside the flush() function\nfunction $be550d328187eb94$var$flush() {\n    // Do not reenter flush while dirty components are updated, as this can\n    // result in an infinite loop. Instead, let the inner flush handle it.\n    // Reentrancy is ok afterwards for bindings etc.\n    if ($be550d328187eb94$var$flushidx !== 0) return;\n    const saved_component = $be550d328187eb94$var$current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        try {\n            while($be550d328187eb94$var$flushidx < $be550d328187eb94$var$dirty_components.length){\n                const component = $be550d328187eb94$var$dirty_components[$be550d328187eb94$var$flushidx];\n                $be550d328187eb94$var$flushidx++;\n                $be550d328187eb94$var$set_current_component(component);\n                $be550d328187eb94$var$update(component.$$);\n            }\n        } catch (e) {\n            // reset dirty state to not end up in a deadlocked state and then rethrow\n            $be550d328187eb94$var$dirty_components.length = 0;\n            $be550d328187eb94$var$flushidx = 0;\n            throw e;\n        }\n        $be550d328187eb94$var$set_current_component(null);\n        $be550d328187eb94$var$dirty_components.length = 0;\n        $be550d328187eb94$var$flushidx = 0;\n        while($be550d328187eb94$var$binding_callbacks.length)$be550d328187eb94$var$binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for(let i = 0; i < $be550d328187eb94$var$render_callbacks.length; i += 1){\n            const callback = $be550d328187eb94$var$render_callbacks[i];\n            if (!$be550d328187eb94$var$seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                $be550d328187eb94$var$seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        $be550d328187eb94$var$render_callbacks.length = 0;\n    }while ($be550d328187eb94$var$dirty_components.length);\n    while($be550d328187eb94$var$flush_callbacks.length)$be550d328187eb94$var$flush_callbacks.pop()();\n    $be550d328187eb94$var$update_scheduled = false;\n    $be550d328187eb94$var$seen_callbacks.clear();\n    $be550d328187eb94$var$set_current_component(saved_component);\n}\nfunction $be550d328187eb94$var$update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        $be550d328187eb94$var$run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [\n            -1\n        ];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach($be550d328187eb94$var$add_render_callback);\n    }\n}\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n */ function $be550d328187eb94$var$flush_render_callbacks(fns) {\n    const filtered = [];\n    const targets = [];\n    $be550d328187eb94$var$render_callbacks.forEach((c)=>fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n    targets.forEach((c)=>c());\n    $be550d328187eb94$var$render_callbacks = filtered;\n}\nconst $be550d328187eb94$var$outroing = new Set();\nfunction $be550d328187eb94$var$transition_in(block, local) {\n    if (block && block.i) {\n        $be550d328187eb94$var$outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction $be550d328187eb94$var$destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction $be550d328187eb94$var$update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while(i--)old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    const updates = [];\n    i = n;\n    while(i--){\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        } else if (dynamic) // defer updates until all the DOM shuffling is done\n        updates.push(()=>block.p(child_ctx, dirty));\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        $be550d328187eb94$var$transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while(o && n){\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        } else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        } else if (!lookup.has(new_key) || will_move.has(new_key)) insert(new_block);\n        else if (did_move.has(old_key)) o--;\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        } else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while(o--){\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n    }\n    while(n)insert(new_blocks[n - 1]);\n    $be550d328187eb94$var$run_all(updates);\n    return new_blocks;\n}\nfunction $be550d328187eb94$var$mount_component(component, target, anchor, customElement) {\n    const { fragment: fragment, after_update: after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) // onMount happens before the initial afterUpdate\n    $be550d328187eb94$var$add_render_callback(()=>{\n        const new_on_destroy = component.$$.on_mount.map($be550d328187eb94$var$run).filter($be550d328187eb94$var$is_function);\n        // if the component was destroyed immediately\n        // it will update the `$$.on_destroy` reference to `null`.\n        // the destructured on_destroy may still reference to the old array\n        if (component.$$.on_destroy) component.$$.on_destroy.push(...new_on_destroy);\n        else // Edge case - component was destroyed immediately,\n        // most likely as a result of a binding initialising\n        $be550d328187eb94$var$run_all(new_on_destroy);\n        component.$$.on_mount = [];\n    });\n    after_update.forEach($be550d328187eb94$var$add_render_callback);\n}\nfunction $be550d328187eb94$var$destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        $be550d328187eb94$var$flush_render_callbacks($$.after_update);\n        $be550d328187eb94$var$run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction $be550d328187eb94$var$make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        $be550d328187eb94$var$dirty_components.push(component);\n        $be550d328187eb94$var$schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[i / 31 | 0] |= 1 << i % 31;\n}\nfunction $be550d328187eb94$var$init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [\n    -1\n]) {\n    const parent_component = $be550d328187eb94$var$current_component;\n    $be550d328187eb94$var$set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: [],\n        props: // state\n        props,\n        update: $be550d328187eb94$var$noop,\n        not_equal: not_equal,\n        bound: $be550d328187eb94$var$blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: $be550d328187eb94$var$blank_object(),\n        dirty: dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance ? instance(component, options.props || {}, (i, ret, ...rest)=>{\n        const value = rest.length ? rest[0] : ret;\n        if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n            if (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n            if (ready) $be550d328187eb94$var$make_dirty(component, i);\n        }\n        return ret;\n    }) : [];\n    $$.update();\n    ready = true;\n    $be550d328187eb94$var$run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        $$.fragment && $$.fragment.c();\n        $be550d328187eb94$var$mount_component(component, options.target, undefined, undefined);\n        $be550d328187eb94$var$flush();\n    }\n    $be550d328187eb94$var$set_current_component(parent_component);\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */ class $be550d328187eb94$var$SvelteComponent {\n    $destroy() {\n        $be550d328187eb94$var$destroy_component(this, 1);\n        this.$destroy = $be550d328187eb94$var$noop;\n    }\n    $on(type, callback) {\n        if (!$be550d328187eb94$var$is_function(callback)) return $be550d328187eb94$var$noop;\n        const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n        callbacks.push(callback);\n        return ()=>{\n            const index = callbacks.indexOf(callback);\n            if (index !== -1) callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !$be550d328187eb94$var$is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n// via https://unpkg.com/browse/emojibase-data@6.0.0/meta/groups.json\nconst $be550d328187eb94$var$allGroups = [\n    [\n        -1,\n        \"✨\",\n        \"custom\"\n    ],\n    [\n        0,\n        \"\\uD83D\\uDE00\",\n        \"smileys-emotion\"\n    ],\n    [\n        1,\n        \"\\uD83D\\uDC4B\",\n        \"people-body\"\n    ],\n    [\n        3,\n        \"\\uD83D\\uDC31\",\n        \"animals-nature\"\n    ],\n    [\n        4,\n        \"\\uD83C\\uDF4E\",\n        \"food-drink\"\n    ],\n    [\n        5,\n        \"\\uD83C\\uDFE0️\",\n        \"travel-places\"\n    ],\n    [\n        6,\n        \"⚽\",\n        \"activities\"\n    ],\n    [\n        7,\n        \"\\uD83D\\uDCDD\",\n        \"objects\"\n    ],\n    [\n        8,\n        \"⛔️\",\n        \"symbols\"\n    ],\n    [\n        9,\n        \"\\uD83C\\uDFC1\",\n        \"flags\"\n    ]\n].map(([id, emoji, name])=>({\n        id: id,\n        emoji: emoji,\n        name: name\n    }));\nconst $be550d328187eb94$var$groups = $be550d328187eb94$var$allGroups.slice(1);\nconst $be550d328187eb94$var$customGroup = $be550d328187eb94$var$allGroups[0];\nconst $be550d328187eb94$var$MIN_SEARCH_TEXT_LENGTH = 2;\nconst $be550d328187eb94$var$NUM_SKIN_TONES = 6;\n/* istanbul ignore next */ const $be550d328187eb94$var$rIC = typeof requestIdleCallback === \"function\" ? requestIdleCallback : setTimeout;\n// check for ZWJ (zero width joiner) character\nfunction $be550d328187eb94$var$hasZwj(emoji) {\n    return emoji.unicode.includes(\"‍\");\n}\n// Find one good representative emoji from each version to test by checking its color.\n// Ideally it should have color in the center. For some inspiration, see:\n// https://about.gitlab.com/blog/2018/05/30/journey-in-native-unicode-emoji/\n//\n// Note that for certain versions (12.1, 13.1), there is no point in testing them explicitly, because\n// all the emoji from this version are compound-emoji from previous versions. So they would pass a color\n// test, even in browsers that display them as double emoji. (E.g. \"face in clouds\" might render as\n// \"face without mouth\" plus \"fog\".) These emoji can only be filtered using the width test,\n// which happens in checkZwjSupport.js.\nconst $be550d328187eb94$var$versionsAndTestEmoji = {\n    \"\\uD83E\\uDEE8\": 15,\n    \"\\uD83E\\uDEE0\": 14,\n    \"\\uD83E\\uDD72\": 13.1,\n    \"\\uD83E\\uDD7B\": 12.1,\n    \"\\uD83E\\uDD70\": 11,\n    \"\\uD83E\\uDD29\": 5,\n    \"\\uD83D\\uDC71‍♀️\": 4,\n    \"\\uD83E\\uDD23\": 3,\n    \"\\uD83D\\uDC41️‍\\uD83D\\uDDE8️\": 2,\n    \"\\uD83D\\uDE00\": 1,\n    \"\\uD83D\\uDE10️\": 0.7,\n    \"\\uD83D\\uDE03\": 0.6\n};\nconst $be550d328187eb94$var$TIMEOUT_BEFORE_LOADING_MESSAGE = 1000; // 1 second\nconst $be550d328187eb94$var$DEFAULT_SKIN_TONE_EMOJI = \"\\uD83D\\uDD90️\";\nconst $be550d328187eb94$var$DEFAULT_NUM_COLUMNS = 8;\n// Based on https://fivethirtyeight.com/features/the-100-most-used-emojis/ and\n// https://blog.emojipedia.org/facebook-reveals-most-and-least-used-emojis/ with\n// a bit of my own curation. (E.g. avoid the \"OK\" gesture because of connotations:\n// https://emojipedia.org/ok-hand/)\nconst $be550d328187eb94$var$MOST_COMMONLY_USED_EMOJI = [\n    \"\\uD83D\\uDE0A\",\n    \"\\uD83D\\uDE12\",\n    \"♥️\",\n    \"\\uD83D\\uDC4D️\",\n    \"\\uD83D\\uDE0D\",\n    \"\\uD83D\\uDE02\",\n    \"\\uD83D\\uDE2D\",\n    \"☺️\",\n    \"\\uD83D\\uDE14\",\n    \"\\uD83D\\uDE29\",\n    \"\\uD83D\\uDE0F\",\n    \"\\uD83D\\uDC95\",\n    \"\\uD83D\\uDE4C\",\n    \"\\uD83D\\uDE18\"\n];\n// It's important to list Twemoji Mozilla before everything else, because Mozilla bundles their\n// own font on some platforms (notably Windows and Linux as of this writing). Typically, Mozilla\n// updates faster than the underlying OS, and we don't want to render older emoji in one font and\n// newer emoji in another font:\n// https://github.com/nolanlawson/emoji-picker-element/pull/268#issuecomment-1073347283\nconst $be550d328187eb94$var$FONT_FAMILY = '\"Twemoji Mozilla\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\",\"EmojiOne Color\",\"Android Emoji\",sans-serif';\n/* istanbul ignore next */ const $be550d328187eb94$var$DEFAULT_CATEGORY_SORTING = (a, b)=>a < b ? -1 : a > b ? 1 : 0;\n// Test if an emoji is supported by rendering it to canvas and checking that the color is not black\n// See https://about.gitlab.com/blog/2018/05/30/journey-in-native-unicode-emoji/\n// and https://www.npmjs.com/package/if-emoji for inspiration\n// This implementation is largely borrowed from if-emoji, adding the font-family\nconst $be550d328187eb94$var$getTextFeature = (text, color)=>{\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = canvas.height = 1;\n    const ctx = canvas.getContext(\"2d\");\n    ctx.textBaseline = \"top\";\n    ctx.font = `100px ${$be550d328187eb94$var$FONT_FAMILY}`;\n    ctx.fillStyle = color;\n    ctx.scale(0.01, 0.01);\n    ctx.fillText(text, 0, 0);\n    return ctx.getImageData(0, 0, 1, 1).data;\n};\nconst $be550d328187eb94$var$compareFeatures = (feature1, feature2)=>{\n    const feature1Str = [\n        ...feature1\n    ].join(\",\");\n    const feature2Str = [\n        ...feature2\n    ].join(\",\");\n    // This is RGBA, so for 0,0,0, we are checking that the first RGB is not all zeroes.\n    // Most of the time when unsupported this is 0,0,0,0, but on Chrome on Mac it is\n    // 0,0,0,61 - there is a transparency here.\n    return feature1Str === feature2Str && !feature1Str.startsWith(\"0,0,0,\");\n};\nfunction $be550d328187eb94$var$testColorEmojiSupported(text) {\n    // Render white and black and then compare them to each other and ensure they're the same\n    // color, and neither one is black. This shows that the emoji was rendered in color.\n    const feature1 = $be550d328187eb94$var$getTextFeature(text, \"#000\");\n    const feature2 = $be550d328187eb94$var$getTextFeature(text, \"#fff\");\n    return feature1 && feature2 && $be550d328187eb94$var$compareFeatures(feature1, feature2);\n}\n// rather than check every emoji ever, which would be expensive, just check some representatives from the\n// different emoji releases to determine what the font supports\nfunction $be550d328187eb94$var$determineEmojiSupportLevel() {\n    const entries = Object.entries($be550d328187eb94$var$versionsAndTestEmoji);\n    try {\n        // start with latest emoji and work backwards\n        for (const [emoji, version] of entries){\n            if ($be550d328187eb94$var$testColorEmojiSupported(emoji)) return version;\n        }\n    } catch (e) {} finally{}\n    // In case of an error, be generous and just assume all emoji are supported (e.g. for canvas errors\n    // due to anti-fingerprinting add-ons). Better to show some gray boxes than nothing at all.\n    return entries[0][1] // first one in the list is the most recent version\n    ;\n}\n// Check which emojis we know for sure aren't supported, based on Unicode version level\nlet $be550d328187eb94$var$promise;\nconst $be550d328187eb94$var$detectEmojiSupportLevel = ()=>{\n    if (!$be550d328187eb94$var$promise) // Delay so it can run while the IDB database is being created by the browser (on another thread).\n    // This helps especially with first load – we want to start pre-populating the database on the main thread,\n    // and then wait for IDB to commit everything, and while waiting we run this check.\n    $be550d328187eb94$var$promise = new Promise((resolve)=>$be550d328187eb94$var$rIC(()=>resolve($be550d328187eb94$var$determineEmojiSupportLevel()) // delay so ideally this can run while IDB is first populating\n        ));\n    return $be550d328187eb94$var$promise;\n};\n// determine which emojis containing ZWJ (zero width joiner) characters\n// are supported (rendered as one glyph) rather than unsupported (rendered as two or more glyphs)\nconst $be550d328187eb94$var$supportedZwjEmojis = new Map();\nconst $be550d328187eb94$var$VARIATION_SELECTOR = \"️\";\nconst $be550d328187eb94$var$SKINTONE_MODIFIER = \"\\ud83c\";\nconst $be550d328187eb94$var$ZWJ = \"‍\";\nconst $be550d328187eb94$var$LIGHT_SKIN_TONE = 0x1F3FB;\nconst $be550d328187eb94$var$LIGHT_SKIN_TONE_MODIFIER = 0xdffb;\n// TODO: this is a naive implementation, we can improve it later\n// It's only used for the skintone picker, so as long as people don't customize with\n// really exotic emoji then it should work fine\nfunction $be550d328187eb94$var$applySkinTone(str, skinTone) {\n    if (skinTone === 0) return str;\n    const zwjIndex = str.indexOf($be550d328187eb94$var$ZWJ);\n    if (zwjIndex !== -1) return str.substring(0, zwjIndex) + String.fromCodePoint($be550d328187eb94$var$LIGHT_SKIN_TONE + skinTone - 1) + str.substring(zwjIndex);\n    if (str.endsWith($be550d328187eb94$var$VARIATION_SELECTOR)) str = str.substring(0, str.length - 1);\n    return str + $be550d328187eb94$var$SKINTONE_MODIFIER + String.fromCodePoint($be550d328187eb94$var$LIGHT_SKIN_TONE_MODIFIER + skinTone - 1);\n}\nfunction $be550d328187eb94$var$halt(event) {\n    event.preventDefault();\n    event.stopPropagation();\n}\n// Implementation left/right or up/down navigation, circling back when you\n// reach the start/end of the list\nfunction $be550d328187eb94$var$incrementOrDecrement(decrement, val, arr) {\n    val += decrement ? -1 : 1;\n    if (val < 0) val = arr.length - 1;\n    else if (val >= arr.length) val = 0;\n    return val;\n}\n// like lodash's uniqBy but much smaller\nfunction $be550d328187eb94$var$uniqBy(arr, func) {\n    const set = new Set();\n    const res = [];\n    for (const item of arr){\n        const key = func(item);\n        if (!set.has(key)) {\n            set.add(key);\n            res.push(item);\n        }\n    }\n    return res;\n}\n// We don't need all the data on every emoji, and there are specific things we need\n// for the UI, so build a \"view model\" from the emoji object we got from the database\nfunction $be550d328187eb94$var$summarizeEmojisForUI(emojis, emojiSupportLevel) {\n    const toSimpleSkinsMap = (skins)=>{\n        const res = {};\n        for (const skin of skins)// ignore arrays like [1, 2] with multiple skin tones\n        // also ignore variants that are in an unsupported emoji version\n        // (these do exist - variants from a different version than their base emoji)\n        if (typeof skin.tone === \"number\" && skin.version <= emojiSupportLevel) res[skin.tone] = skin.unicode;\n        return res;\n    };\n    return emojis.map(({ unicode: unicode, skins: skins, shortcodes: shortcodes, url: url, name: name, category: category })=>({\n            unicode: unicode,\n            name: name,\n            shortcodes: shortcodes,\n            url: url,\n            category: category,\n            id: unicode || name,\n            skins: skins && toSimpleSkinsMap(skins),\n            title: (shortcodes || []).join(\", \")\n        }));\n}\n// import rAF from one place so that the bundle size is a bit smaller\nconst $be550d328187eb94$var$rAF = requestAnimationFrame;\n// Svelte action to calculate the width of an element and auto-update\n// using ResizeObserver. If ResizeObserver is unsupported, we just use rAF once\n// and don't bother to update.\nlet $be550d328187eb94$var$resizeObserverSupported = typeof ResizeObserver === \"function\";\nfunction $be550d328187eb94$var$calculateWidth(node, onUpdate) {\n    let resizeObserver;\n    if ($be550d328187eb94$var$resizeObserverSupported) {\n        resizeObserver = new ResizeObserver((entries)=>onUpdate(entries[0].contentRect.width));\n        resizeObserver.observe(node);\n    } else $be550d328187eb94$var$rAF(()=>onUpdate(node.getBoundingClientRect().width));\n    // cleanup function (called on destroy)\n    return {\n        destroy () {\n            if (resizeObserver) resizeObserver.disconnect();\n        }\n    };\n}\n// get the width of the text inside of a DOM node, via https://stackoverflow.com/a/59525891/680742\nfunction $be550d328187eb94$var$calculateTextWidth(node) {\n    /* istanbul ignore else */ {\n        const range = document.createRange();\n        range.selectNode(node.firstChild);\n        return range.getBoundingClientRect().width;\n    }\n}\nlet $be550d328187eb94$var$baselineEmojiWidth;\nfunction $be550d328187eb94$var$checkZwjSupport(zwjEmojisToCheck, baselineEmoji, emojiToDomNode) {\n    for (const emoji of zwjEmojisToCheck){\n        const domNode = emojiToDomNode(emoji);\n        const emojiWidth = $be550d328187eb94$var$calculateTextWidth(domNode);\n        if (typeof $be550d328187eb94$var$baselineEmojiWidth === \"undefined\") $be550d328187eb94$var$baselineEmojiWidth = $be550d328187eb94$var$calculateTextWidth(baselineEmoji);\n        // On Windows, some supported emoji are ~50% bigger than the baseline emoji, but what we really want to guard\n        // against are the ones that are 2x the size, because those are truly broken (person with red hair = person with\n        // floating red wig, black cat = cat with black square, polar bear = bear with snowflake, etc.)\n        // So here we set the threshold at 1.8 times the size of the baseline emoji.\n        const supported = emojiWidth / 1.8 < $be550d328187eb94$var$baselineEmojiWidth;\n        $be550d328187eb94$var$supportedZwjEmojis.set(emoji.unicode, supported);\n    }\n}\n// Measure after style/layout are complete\n// See https://github.com/andrewiggins/afterframe\nconst $be550d328187eb94$var$requestPostAnimationFrame = (callback)=>{\n    $be550d328187eb94$var$rAF(()=>{\n        setTimeout(callback);\n    });\n};\n// like lodash's uniq\nfunction $be550d328187eb94$var$uniq(arr) {\n    return $be550d328187eb94$var$uniqBy(arr, (_)=>_);\n}\n// Note we put this in its own function outside Picker.js to avoid Svelte doing an invalidation on the \"setter\" here.\n// At best the invalidation is useless, at worst it can cause infinite loops:\n// https://github.com/nolanlawson/emoji-picker-element/pull/180\n// https://github.com/sveltejs/svelte/issues/6521\n// Also note tabpanelElement can be null if the element is disconnected immediately after connected\nfunction $be550d328187eb94$var$resetScrollTopIfPossible(element) {\n    if (element) element.scrollTop = 0;\n}\n/* src/picker/components/Picker/Picker.svelte generated by Svelte v3.59.1 */ const { Map: $be550d328187eb94$var$Map_1 } = $be550d328187eb94$var$globals;\nfunction $be550d328187eb94$var$get_each_context(ctx, list, i) {\n    const child_ctx = ctx.slice();\n    child_ctx[64] = list[i];\n    child_ctx[66] = i;\n    return child_ctx;\n}\nfunction $be550d328187eb94$var$get_each_context_1(ctx, list, i) {\n    const child_ctx = ctx.slice();\n    child_ctx[67] = list[i];\n    child_ctx[66] = i;\n    return child_ctx;\n}\nfunction $be550d328187eb94$var$get_each_context_2(ctx, list, i) {\n    const child_ctx = ctx.slice();\n    child_ctx[64] = list[i];\n    child_ctx[66] = i;\n    return child_ctx;\n}\nfunction $be550d328187eb94$var$get_each_context_3(ctx, list, i) {\n    const child_ctx = ctx.slice();\n    child_ctx[70] = list[i];\n    return child_ctx;\n}\nfunction $be550d328187eb94$var$get_each_context_4(ctx, list, i) {\n    const child_ctx = ctx.slice();\n    child_ctx[73] = list[i];\n    child_ctx[66] = i;\n    return child_ctx;\n}\n// (50:38) {#each skinTones as skinTone, i (skinTone)}\nfunction $be550d328187eb94$var$create_each_block_4(key_1, ctx) {\n    let div;\n    let t_value = /*skinTone*/ ctx[73] + \"\";\n    let t;\n    let div_id_value;\n    let div_class_value;\n    let div_aria_selected_value;\n    let div_title_value;\n    let div_aria_label_value;\n    return {\n        key: key_1,\n        first: null,\n        c () {\n            div = $be550d328187eb94$var$element(\"div\");\n            t = $be550d328187eb94$var$text(t_value);\n            $be550d328187eb94$var$attr(div, \"id\", div_id_value = \"skintone-\" + /*i*/ ctx[66]);\n            $be550d328187eb94$var$attr(div, \"class\", div_class_value = \"emoji \" + /*i*/ (ctx[66] === /*activeSkinTone*/ ctx[20] ? \"active\" : \"\"));\n            $be550d328187eb94$var$attr(div, \"aria-selected\", div_aria_selected_value = /*i*/ ctx[66] === /*activeSkinTone*/ ctx[20]);\n            $be550d328187eb94$var$attr(div, \"role\", \"option\");\n            $be550d328187eb94$var$attr(div, \"title\", div_title_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]]);\n            $be550d328187eb94$var$attr(div, \"aria-label\", div_aria_label_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]]);\n            this.first = div;\n        },\n        m (target, anchor) {\n            $be550d328187eb94$var$insert(target, div, anchor);\n            $be550d328187eb94$var$append(div, t);\n        },\n        p (new_ctx, dirty) {\n            ctx = new_ctx;\n            if (dirty[0] & /*skinTones*/ 512 && t_value !== (t_value = /*skinTone*/ ctx[73] + \"\")) $be550d328187eb94$var$set_data(t, t_value);\n            if (dirty[0] & /*skinTones*/ 512 && div_id_value !== (div_id_value = \"skintone-\" + /*i*/ ctx[66])) $be550d328187eb94$var$attr(div, \"id\", div_id_value);\n            if (dirty[0] & /*skinTones, activeSkinTone*/ 1049088 && div_class_value !== (div_class_value = \"emoji \" + /*i*/ (ctx[66] === /*activeSkinTone*/ ctx[20] ? \"active\" : \"\"))) $be550d328187eb94$var$attr(div, \"class\", div_class_value);\n            if (dirty[0] & /*skinTones, activeSkinTone*/ 1049088 && div_aria_selected_value !== (div_aria_selected_value = /*i*/ ctx[66] === /*activeSkinTone*/ ctx[20])) $be550d328187eb94$var$attr(div, \"aria-selected\", div_aria_selected_value);\n            if (dirty[0] & /*i18n, skinTones*/ 513 && div_title_value !== (div_title_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]])) $be550d328187eb94$var$attr(div, \"title\", div_title_value);\n            if (dirty[0] & /*i18n, skinTones*/ 513 && div_aria_label_value !== (div_aria_label_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]])) $be550d328187eb94$var$attr(div, \"aria-label\", div_aria_label_value);\n        },\n        d (detaching) {\n            if (detaching) $be550d328187eb94$var$detach(div);\n        }\n    };\n}\n// (59:33) {#each groups as group (group.id)}\nfunction $be550d328187eb94$var$create_each_block_3(key_1, ctx) {\n    let button;\n    let div;\n    let t_value = /*group*/ ctx[70].emoji + \"\";\n    let t;\n    let button_aria_controls_value;\n    let button_aria_label_value;\n    let button_aria_selected_value;\n    let button_title_value;\n    let mounted;\n    let dispose;\n    function click_handler() {\n        return /*click_handler*/ ctx[50](/*group*/ ctx[70]);\n    }\n    return {\n        key: key_1,\n        first: null,\n        c () {\n            button = $be550d328187eb94$var$element(\"button\");\n            div = $be550d328187eb94$var$element(\"div\");\n            t = $be550d328187eb94$var$text(t_value);\n            $be550d328187eb94$var$attr(div, \"class\", \"nav-emoji emoji\");\n            $be550d328187eb94$var$attr(button, \"role\", \"tab\");\n            $be550d328187eb94$var$attr(button, \"class\", \"nav-button\");\n            $be550d328187eb94$var$attr(button, \"aria-controls\", button_aria_controls_value = \"tab-\" + /*group*/ ctx[70].id);\n            $be550d328187eb94$var$attr(button, \"aria-label\", button_aria_label_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name]);\n            $be550d328187eb94$var$attr(button, \"aria-selected\", button_aria_selected_value = !/*searchMode*/ ctx[4] && /*currentGroup*/ ctx[13].id === /*group*/ ctx[70].id);\n            $be550d328187eb94$var$attr(button, \"title\", button_title_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name]);\n            this.first = button;\n        },\n        m (target, anchor) {\n            $be550d328187eb94$var$insert(target, button, anchor);\n            $be550d328187eb94$var$append(button, div);\n            $be550d328187eb94$var$append(div, t);\n            if (!mounted) {\n                dispose = $be550d328187eb94$var$listen(button, \"click\", click_handler);\n                mounted = true;\n            }\n        },\n        p (new_ctx, dirty) {\n            ctx = new_ctx;\n            if (dirty[0] & /*groups*/ 4096 && t_value !== (t_value = /*group*/ ctx[70].emoji + \"\")) $be550d328187eb94$var$set_data(t, t_value);\n            if (dirty[0] & /*groups*/ 4096 && button_aria_controls_value !== (button_aria_controls_value = \"tab-\" + /*group*/ ctx[70].id)) $be550d328187eb94$var$attr(button, \"aria-controls\", button_aria_controls_value);\n            if (dirty[0] & /*i18n, groups*/ 4097 && button_aria_label_value !== (button_aria_label_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name])) $be550d328187eb94$var$attr(button, \"aria-label\", button_aria_label_value);\n            if (dirty[0] & /*searchMode, currentGroup, groups*/ 12304 && button_aria_selected_value !== (button_aria_selected_value = !/*searchMode*/ ctx[4] && /*currentGroup*/ ctx[13].id === /*group*/ ctx[70].id)) $be550d328187eb94$var$attr(button, \"aria-selected\", button_aria_selected_value);\n            if (dirty[0] & /*i18n, groups*/ 4097 && button_title_value !== (button_title_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name])) $be550d328187eb94$var$attr(button, \"title\", button_title_value);\n        },\n        d (detaching) {\n            if (detaching) $be550d328187eb94$var$detach(button);\n            mounted = false;\n            dispose();\n        }\n    };\n}\n// (100:100) {:else}\nfunction $be550d328187eb94$var$create_else_block_1(ctx) {\n    let img;\n    let img_src_value;\n    return {\n        c () {\n            img = $be550d328187eb94$var$element(\"img\");\n            $be550d328187eb94$var$attr(img, \"class\", \"custom-emoji\");\n            if (!$be550d328187eb94$var$src_url_equal(img.src, img_src_value = /*emoji*/ ctx[64].url)) $be550d328187eb94$var$attr(img, \"src\", img_src_value);\n            $be550d328187eb94$var$attr(img, \"alt\", \"\");\n            $be550d328187eb94$var$attr(img, \"loading\", \"lazy\");\n        },\n        m (target, anchor) {\n            $be550d328187eb94$var$insert(target, img, anchor);\n        },\n        p (ctx, dirty) {\n            if (dirty[0] & /*currentEmojisWithCategories*/ 32768 && !$be550d328187eb94$var$src_url_equal(img.src, img_src_value = /*emoji*/ ctx[64].url)) $be550d328187eb94$var$attr(img, \"src\", img_src_value);\n        },\n        d (detaching) {\n            if (detaching) $be550d328187eb94$var$detach(img);\n        }\n    };\n}\n// (100:40) {#if emoji.unicode}\nfunction $be550d328187eb94$var$create_if_block_1(ctx) {\n    let t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]) + \"\";\n    let t;\n    return {\n        c () {\n            t = $be550d328187eb94$var$text(t_value);\n        },\n        m (target, anchor) {\n            $be550d328187eb94$var$insert(target, t, anchor);\n        },\n        p (ctx, dirty) {\n            if (dirty[0] & /*currentEmojisWithCategories, currentSkinTone*/ 33024 && t_value !== (t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]) + \"\")) $be550d328187eb94$var$set_data(t, t_value);\n        },\n        d (detaching) {\n            if (detaching) $be550d328187eb94$var$detach(t);\n        }\n    };\n}\n// (95:53) {#each emojiWithCategory.emojis as emoji, i (emoji.id)}\nfunction $be550d328187eb94$var$create_each_block_2(key_1, ctx) {\n    let button;\n    let button_role_value;\n    let button_aria_selected_value;\n    let button_aria_label_value;\n    let button_title_value;\n    let button_class_value;\n    let button_id_value;\n    function select_block_type(ctx, dirty) {\n        if (/*emoji*/ ctx[64].unicode) return $be550d328187eb94$var$create_if_block_1;\n        return $be550d328187eb94$var$create_else_block_1;\n    }\n    let current_block_type = select_block_type(ctx);\n    let if_block = current_block_type(ctx);\n    return {\n        key: key_1,\n        first: null,\n        c () {\n            button = $be550d328187eb94$var$element(\"button\");\n            if_block.c();\n            $be550d328187eb94$var$attr(button, \"role\", button_role_value = /*searchMode*/ ctx[4] ? \"option\" : \"menuitem\");\n            $be550d328187eb94$var$attr(button, \"aria-selected\", button_aria_selected_value = /*searchMode*/ ctx[4] ? /*i*/ ctx[66] == /*activeSearchItem*/ ctx[5] : \"\");\n            $be550d328187eb94$var$attr(button, \"aria-label\", button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]));\n            $be550d328187eb94$var$attr(button, \"title\", button_title_value = /*emoji*/ ctx[64].title);\n            $be550d328187eb94$var$attr(button, \"class\", button_class_value = \"emoji \" + /*searchMode*/ (ctx[4] && /*i*/ ctx[66] === /*activeSearchItem*/ ctx[5] ? \"active\" : \"\"));\n            $be550d328187eb94$var$attr(button, \"id\", button_id_value = \"emo-\" + /*emoji*/ ctx[64].id);\n            this.first = button;\n        },\n        m (target, anchor) {\n            $be550d328187eb94$var$insert(target, button, anchor);\n            if_block.m(button, null);\n        },\n        p (new_ctx, dirty) {\n            ctx = new_ctx;\n            if (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) if_block.p(ctx, dirty);\n            else {\n                if_block.d(1);\n                if_block = current_block_type(ctx);\n                if (if_block) {\n                    if_block.c();\n                    if_block.m(button, null);\n                }\n            }\n            if (dirty[0] & /*searchMode*/ 16 && button_role_value !== (button_role_value = /*searchMode*/ ctx[4] ? \"option\" : \"menuitem\")) $be550d328187eb94$var$attr(button, \"role\", button_role_value);\n            if (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem*/ 32816 && button_aria_selected_value !== (button_aria_selected_value = /*searchMode*/ ctx[4] ? /*i*/ ctx[66] == /*activeSearchItem*/ ctx[5] : \"\")) $be550d328187eb94$var$attr(button, \"aria-selected\", button_aria_selected_value);\n            if (dirty[0] & /*currentEmojisWithCategories, currentSkinTone*/ 33024 && button_aria_label_value !== (button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]))) $be550d328187eb94$var$attr(button, \"aria-label\", button_aria_label_value);\n            if (dirty[0] & /*currentEmojisWithCategories*/ 32768 && button_title_value !== (button_title_value = /*emoji*/ ctx[64].title)) $be550d328187eb94$var$attr(button, \"title\", button_title_value);\n            if (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem*/ 32816 && button_class_value !== (button_class_value = \"emoji \" + /*searchMode*/ (ctx[4] && /*i*/ ctx[66] === /*activeSearchItem*/ ctx[5] ? \"active\" : \"\"))) $be550d328187eb94$var$attr(button, \"class\", button_class_value);\n            if (dirty[0] & /*currentEmojisWithCategories*/ 32768 && button_id_value !== (button_id_value = \"emo-\" + /*emoji*/ ctx[64].id)) $be550d328187eb94$var$attr(button, \"id\", button_id_value);\n        },\n        d (detaching) {\n            if (detaching) $be550d328187eb94$var$detach(button);\n            if_block.d();\n        }\n    };\n}\n// (76:36) {#each currentEmojisWithCategories as emojiWithCategory, i (emojiWithCategory.category)}\nfunction $be550d328187eb94$var$create_each_block_1(key_1, ctx) {\n    let div0;\n    let t_value = /*searchMode*/ (ctx[4] ? /*i18n*/ ctx[0].searchResultsLabel : /*emojiWithCategory*/ ctx[67].category ? /*emojiWithCategory*/ ctx[67].category : /*currentEmojisWithCategories*/ ctx[15].length > 1 ? /*i18n*/ ctx[0].categories.custom : /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name]) + \"\";\n    let t;\n    let div0_id_value;\n    let div0_class_value;\n    let div1;\n    let each_blocks = [];\n    let each_1_lookup = new $be550d328187eb94$var$Map_1();\n    let div1_role_value;\n    let div1_aria_labelledby_value;\n    let div1_id_value;\n    let each_value_2 = /*emojiWithCategory*/ ctx[67].emojis;\n    const get_key = (ctx)=>/*emoji*/ ctx[64].id;\n    for(let i = 0; i < each_value_2.length; i += 1){\n        let child_ctx = $be550d328187eb94$var$get_each_context_2(ctx, each_value_2, i);\n        let key = get_key(child_ctx);\n        each_1_lookup.set(key, each_blocks[i] = $be550d328187eb94$var$create_each_block_2(key, child_ctx));\n    }\n    return {\n        key: key_1,\n        first: null,\n        c () {\n            div0 = $be550d328187eb94$var$element(\"div\");\n            t = $be550d328187eb94$var$text(t_value);\n            div1 = $be550d328187eb94$var$element(\"div\");\n            for(let i = 0; i < each_blocks.length; i += 1)each_blocks[i].c();\n            $be550d328187eb94$var$attr(div0, \"id\", div0_id_value = \"menu-label-\" + /*i*/ ctx[66]);\n            $be550d328187eb94$var$attr(div0, \"class\", div0_class_value = \"category \" + /*currentEmojisWithCategories*/ (ctx[15].length === 1 && /*currentEmojisWithCategories*/ ctx[15][0].category === \"\" ? \"gone\" : \"\"));\n            $be550d328187eb94$var$attr(div0, \"aria-hidden\", \"true\");\n            $be550d328187eb94$var$attr(div1, \"class\", \"emoji-menu\");\n            $be550d328187eb94$var$attr(div1, \"role\", div1_role_value = /*searchMode*/ ctx[4] ? \"listbox\" : \"menu\");\n            $be550d328187eb94$var$attr(div1, \"aria-labelledby\", div1_aria_labelledby_value = \"menu-label-\" + /*i*/ ctx[66]);\n            $be550d328187eb94$var$attr(div1, \"id\", div1_id_value = /*searchMode*/ ctx[4] ? \"search-results\" : \"\");\n            this.first = div0;\n        },\n        m (target, anchor) {\n            $be550d328187eb94$var$insert(target, div0, anchor);\n            $be550d328187eb94$var$append(div0, t);\n            $be550d328187eb94$var$insert(target, div1, anchor);\n            for(let i = 0; i < each_blocks.length; i += 1)if (each_blocks[i]) each_blocks[i].m(div1, null);\n        },\n        p (new_ctx, dirty) {\n            ctx = new_ctx;\n            if (dirty[0] & /*searchMode, i18n, currentEmojisWithCategories, currentGroup*/ 40977 && t_value !== (t_value = /*searchMode*/ (ctx[4] ? /*i18n*/ ctx[0].searchResultsLabel : /*emojiWithCategory*/ ctx[67].category ? /*emojiWithCategory*/ ctx[67].category : /*currentEmojisWithCategories*/ ctx[15].length > 1 ? /*i18n*/ ctx[0].categories.custom : /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name]) + \"\")) $be550d328187eb94$var$set_data(t, t_value);\n            if (dirty[0] & /*currentEmojisWithCategories*/ 32768 && div0_id_value !== (div0_id_value = \"menu-label-\" + /*i*/ ctx[66])) $be550d328187eb94$var$attr(div0, \"id\", div0_id_value);\n            if (dirty[0] & /*currentEmojisWithCategories*/ 32768 && div0_class_value !== (div0_class_value = \"category \" + /*currentEmojisWithCategories*/ (ctx[15].length === 1 && /*currentEmojisWithCategories*/ ctx[15][0].category === \"\" ? \"gone\" : \"\"))) $be550d328187eb94$var$attr(div0, \"class\", div0_class_value);\n            if (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem, labelWithSkin, currentSkinTone, unicodeWithSkin*/ 402686256) {\n                each_value_2 = /*emojiWithCategory*/ ctx[67].emojis;\n                each_blocks = $be550d328187eb94$var$update_keyed_each(each_blocks, dirty, get_key, 1, ctx, each_value_2, each_1_lookup, div1, $be550d328187eb94$var$destroy_block, $be550d328187eb94$var$create_each_block_2, null, $be550d328187eb94$var$get_each_context_2);\n            }\n            if (dirty[0] & /*searchMode*/ 16 && div1_role_value !== (div1_role_value = /*searchMode*/ ctx[4] ? \"listbox\" : \"menu\")) $be550d328187eb94$var$attr(div1, \"role\", div1_role_value);\n            if (dirty[0] & /*currentEmojisWithCategories*/ 32768 && div1_aria_labelledby_value !== (div1_aria_labelledby_value = \"menu-label-\" + /*i*/ ctx[66])) $be550d328187eb94$var$attr(div1, \"aria-labelledby\", div1_aria_labelledby_value);\n            if (dirty[0] & /*searchMode*/ 16 && div1_id_value !== (div1_id_value = /*searchMode*/ ctx[4] ? \"search-results\" : \"\")) $be550d328187eb94$var$attr(div1, \"id\", div1_id_value);\n        },\n        d (detaching) {\n            if (detaching) $be550d328187eb94$var$detach(div0);\n            if (detaching) $be550d328187eb94$var$detach(div1);\n            for(let i = 0; i < each_blocks.length; i += 1)each_blocks[i].d();\n        }\n    };\n}\n// (109:94) {:else}\nfunction $be550d328187eb94$var$create_else_block(ctx) {\n    let img;\n    let img_src_value;\n    return {\n        c () {\n            img = $be550d328187eb94$var$element(\"img\");\n            $be550d328187eb94$var$attr(img, \"class\", \"custom-emoji\");\n            if (!$be550d328187eb94$var$src_url_equal(img.src, img_src_value = /*emoji*/ ctx[64].url)) $be550d328187eb94$var$attr(img, \"src\", img_src_value);\n            $be550d328187eb94$var$attr(img, \"alt\", \"\");\n            $be550d328187eb94$var$attr(img, \"loading\", \"lazy\");\n        },\n        m (target, anchor) {\n            $be550d328187eb94$var$insert(target, img, anchor);\n        },\n        p (ctx, dirty) {\n            if (dirty[0] & /*currentFavorites*/ 1024 && !$be550d328187eb94$var$src_url_equal(img.src, img_src_value = /*emoji*/ ctx[64].url)) $be550d328187eb94$var$attr(img, \"src\", img_src_value);\n        },\n        d (detaching) {\n            if (detaching) $be550d328187eb94$var$detach(img);\n        }\n    };\n}\n// (109:34) {#if emoji.unicode}\nfunction $be550d328187eb94$var$create_if_block(ctx) {\n    let t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]) + \"\";\n    let t;\n    return {\n        c () {\n            t = $be550d328187eb94$var$text(t_value);\n        },\n        m (target, anchor) {\n            $be550d328187eb94$var$insert(target, t, anchor);\n        },\n        p (ctx, dirty) {\n            if (dirty[0] & /*currentFavorites, currentSkinTone*/ 1280 && t_value !== (t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]) + \"\")) $be550d328187eb94$var$set_data(t, t_value);\n        },\n        d (detaching) {\n            if (detaching) $be550d328187eb94$var$detach(t);\n        }\n    };\n}\n// (105:102) {#each currentFavorites as emoji, i (emoji.id)}\nfunction $be550d328187eb94$var$create_each_block(key_1, ctx) {\n    let button;\n    let button_aria_label_value;\n    let button_title_value;\n    let button_id_value;\n    function select_block_type_1(ctx, dirty) {\n        if (/*emoji*/ ctx[64].unicode) return $be550d328187eb94$var$create_if_block;\n        return $be550d328187eb94$var$create_else_block;\n    }\n    let current_block_type = select_block_type_1(ctx);\n    let if_block = current_block_type(ctx);\n    return {\n        key: key_1,\n        first: null,\n        c () {\n            button = $be550d328187eb94$var$element(\"button\");\n            if_block.c();\n            $be550d328187eb94$var$attr(button, \"role\", \"menuitem\");\n            $be550d328187eb94$var$attr(button, \"aria-label\", button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]));\n            $be550d328187eb94$var$attr(button, \"title\", button_title_value = /*emoji*/ ctx[64].title);\n            $be550d328187eb94$var$attr(button, \"class\", \"emoji\");\n            $be550d328187eb94$var$attr(button, \"id\", button_id_value = \"fav-\" + /*emoji*/ ctx[64].id);\n            this.first = button;\n        },\n        m (target, anchor) {\n            $be550d328187eb94$var$insert(target, button, anchor);\n            if_block.m(button, null);\n        },\n        p (new_ctx, dirty) {\n            ctx = new_ctx;\n            if (current_block_type === (current_block_type = select_block_type_1(ctx)) && if_block) if_block.p(ctx, dirty);\n            else {\n                if_block.d(1);\n                if_block = current_block_type(ctx);\n                if (if_block) {\n                    if_block.c();\n                    if_block.m(button, null);\n                }\n            }\n            if (dirty[0] & /*currentFavorites, currentSkinTone*/ 1280 && button_aria_label_value !== (button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]))) $be550d328187eb94$var$attr(button, \"aria-label\", button_aria_label_value);\n            if (dirty[0] & /*currentFavorites*/ 1024 && button_title_value !== (button_title_value = /*emoji*/ ctx[64].title)) $be550d328187eb94$var$attr(button, \"title\", button_title_value);\n            if (dirty[0] & /*currentFavorites*/ 1024 && button_id_value !== (button_id_value = \"fav-\" + /*emoji*/ ctx[64].id)) $be550d328187eb94$var$attr(button, \"id\", button_id_value);\n        },\n        d (detaching) {\n            if (detaching) $be550d328187eb94$var$detach(button);\n            if_block.d();\n        }\n    };\n}\nfunction $be550d328187eb94$var$create_fragment(ctx) {\n    let section;\n    let div0;\n    let div4;\n    let div1;\n    let input;\n    let input_placeholder_value;\n    let input_aria_expanded_value;\n    let input_aria_activedescendant_value;\n    let label;\n    let t0_value = /*i18n*/ ctx[0].searchLabel + \"\";\n    let t0;\n    let span0;\n    let t1_value = /*i18n*/ ctx[0].searchDescription + \"\";\n    let t1;\n    let div2;\n    let button0;\n    let t2;\n    let button0_class_value;\n    let div2_class_value;\n    let span1;\n    let t3_value = /*i18n*/ ctx[0].skinToneDescription + \"\";\n    let t3;\n    let div3;\n    let each_blocks_3 = [];\n    let each0_lookup = new $be550d328187eb94$var$Map_1();\n    let div3_class_value;\n    let div3_aria_label_value;\n    let div3_aria_activedescendant_value;\n    let div3_aria_hidden_value;\n    let div5;\n    let each_blocks_2 = [];\n    let each1_lookup = new $be550d328187eb94$var$Map_1();\n    let div5_aria_label_value;\n    let div7;\n    let div6;\n    let div8;\n    let t4;\n    let div8_class_value;\n    let div10;\n    let div9;\n    let each_blocks_1 = [];\n    let each2_lookup = new $be550d328187eb94$var$Map_1();\n    let div10_class_value;\n    let div10_role_value;\n    let div10_aria_label_value;\n    let div10_id_value;\n    let div11;\n    let each_blocks = [];\n    let each3_lookup = new $be550d328187eb94$var$Map_1();\n    let div11_class_value;\n    let div11_aria_label_value;\n    let button1;\n    let section_aria_label_value;\n    let mounted;\n    let dispose;\n    let each_value_4 = /*skinTones*/ ctx[9];\n    const get_key = (ctx)=>/*skinTone*/ ctx[73];\n    for(let i = 0; i < each_value_4.length; i += 1){\n        let child_ctx = $be550d328187eb94$var$get_each_context_4(ctx, each_value_4, i);\n        let key = get_key(child_ctx);\n        each0_lookup.set(key, each_blocks_3[i] = $be550d328187eb94$var$create_each_block_4(key, child_ctx));\n    }\n    let each_value_3 = /*groups*/ ctx[12];\n    const get_key_1 = (ctx)=>/*group*/ ctx[70].id;\n    for(let i = 0; i < each_value_3.length; i += 1){\n        let child_ctx = $be550d328187eb94$var$get_each_context_3(ctx, each_value_3, i);\n        let key = get_key_1(child_ctx);\n        each1_lookup.set(key, each_blocks_2[i] = $be550d328187eb94$var$create_each_block_3(key, child_ctx));\n    }\n    let each_value_1 = /*currentEmojisWithCategories*/ ctx[15];\n    const get_key_2 = (ctx)=>/*emojiWithCategory*/ ctx[67].category;\n    for(let i = 0; i < each_value_1.length; i += 1){\n        let child_ctx = $be550d328187eb94$var$get_each_context_1(ctx, each_value_1, i);\n        let key = get_key_2(child_ctx);\n        each2_lookup.set(key, each_blocks_1[i] = $be550d328187eb94$var$create_each_block_1(key, child_ctx));\n    }\n    let each_value = /*currentFavorites*/ ctx[10];\n    const get_key_3 = (ctx)=>/*emoji*/ ctx[64].id;\n    for(let i = 0; i < each_value.length; i += 1){\n        let child_ctx = $be550d328187eb94$var$get_each_context(ctx, each_value, i);\n        let key = get_key_3(child_ctx);\n        each3_lookup.set(key, each_blocks[i] = $be550d328187eb94$var$create_each_block(key, child_ctx));\n    }\n    return {\n        c () {\n            section = $be550d328187eb94$var$element(\"section\");\n            div0 = $be550d328187eb94$var$element(\"div\");\n            div4 = $be550d328187eb94$var$element(\"div\");\n            div1 = $be550d328187eb94$var$element(\"div\");\n            input = $be550d328187eb94$var$element(\"input\");\n            label = $be550d328187eb94$var$element(\"label\");\n            t0 = $be550d328187eb94$var$text(t0_value);\n            span0 = $be550d328187eb94$var$element(\"span\");\n            t1 = $be550d328187eb94$var$text(t1_value);\n            div2 = $be550d328187eb94$var$element(\"div\");\n            button0 = $be550d328187eb94$var$element(\"button\");\n            t2 = $be550d328187eb94$var$text(/*skinToneButtonText*/ ctx[21]);\n            span1 = $be550d328187eb94$var$element(\"span\");\n            t3 = $be550d328187eb94$var$text(t3_value);\n            div3 = $be550d328187eb94$var$element(\"div\");\n            for(let i = 0; i < each_blocks_3.length; i += 1)each_blocks_3[i].c();\n            div5 = $be550d328187eb94$var$element(\"div\");\n            for(let i = 0; i < each_blocks_2.length; i += 1)each_blocks_2[i].c();\n            div7 = $be550d328187eb94$var$element(\"div\");\n            div6 = $be550d328187eb94$var$element(\"div\");\n            div8 = $be550d328187eb94$var$element(\"div\");\n            t4 = $be550d328187eb94$var$text(/*message*/ ctx[18]);\n            div10 = $be550d328187eb94$var$element(\"div\");\n            div9 = $be550d328187eb94$var$element(\"div\");\n            for(let i = 0; i < each_blocks_1.length; i += 1)each_blocks_1[i].c();\n            div11 = $be550d328187eb94$var$element(\"div\");\n            for(let i = 0; i < each_blocks.length; i += 1)each_blocks[i].c();\n            button1 = $be550d328187eb94$var$element(\"button\");\n            button1.textContent = \"\\uD83D\\uDE00\";\n            $be550d328187eb94$var$attr(div0, \"class\", \"pad-top\");\n            $be550d328187eb94$var$attr(input, \"id\", \"search\");\n            $be550d328187eb94$var$attr(input, \"class\", \"search\");\n            $be550d328187eb94$var$attr(input, \"type\", \"search\");\n            $be550d328187eb94$var$attr(input, \"role\", \"combobox\");\n            $be550d328187eb94$var$attr(input, \"enterkeyhint\", \"search\");\n            $be550d328187eb94$var$attr(input, \"placeholder\", input_placeholder_value = /*i18n*/ ctx[0].searchLabel);\n            $be550d328187eb94$var$attr(input, \"autocapitalize\", \"none\");\n            $be550d328187eb94$var$attr(input, \"autocomplete\", \"off\");\n            $be550d328187eb94$var$attr(input, \"spellcheck\", \"true\");\n            $be550d328187eb94$var$attr(input, \"aria-expanded\", input_aria_expanded_value = !!/*searchMode*/ (ctx[4] && /*currentEmojis*/ ctx[1].length));\n            $be550d328187eb94$var$attr(input, \"aria-controls\", \"search-results\");\n            $be550d328187eb94$var$attr(input, \"aria-describedby\", \"search-description\");\n            $be550d328187eb94$var$attr(input, \"aria-autocomplete\", \"list\");\n            $be550d328187eb94$var$attr(input, \"aria-activedescendant\", input_aria_activedescendant_value = /*activeSearchItemId*/ ctx[26] ? `emo-${ctx[26]}` : \"\");\n            $be550d328187eb94$var$attr(label, \"class\", \"sr-only\");\n            $be550d328187eb94$var$attr(label, \"for\", \"search\");\n            $be550d328187eb94$var$attr(span0, \"id\", \"search-description\");\n            $be550d328187eb94$var$attr(span0, \"class\", \"sr-only\");\n            $be550d328187eb94$var$attr(div1, \"class\", \"search-wrapper\");\n            $be550d328187eb94$var$attr(button0, \"id\", \"skintone-button\");\n            $be550d328187eb94$var$attr(button0, \"class\", button0_class_value = \"emoji \" + /*skinTonePickerExpanded*/ (ctx[6] ? \"hide-focus\" : \"\"));\n            $be550d328187eb94$var$attr(button0, \"aria-label\", /*skinToneButtonLabel*/ ctx[23]);\n            $be550d328187eb94$var$attr(button0, \"title\", /*skinToneButtonLabel*/ ctx[23]);\n            $be550d328187eb94$var$attr(button0, \"aria-describedby\", \"skintone-description\");\n            $be550d328187eb94$var$attr(button0, \"aria-haspopup\", \"listbox\");\n            $be550d328187eb94$var$attr(button0, \"aria-expanded\", /*skinTonePickerExpanded*/ ctx[6]);\n            $be550d328187eb94$var$attr(button0, \"aria-controls\", \"skintone-list\");\n            $be550d328187eb94$var$attr(div2, \"class\", div2_class_value = \"skintone-button-wrapper \" + /*skinTonePickerExpandedAfterAnimation*/ (ctx[19] ? \"expanded\" : \"\"));\n            $be550d328187eb94$var$attr(span1, \"id\", \"skintone-description\");\n            $be550d328187eb94$var$attr(span1, \"class\", \"sr-only\");\n            $be550d328187eb94$var$attr(div3, \"id\", \"skintone-list\");\n            $be550d328187eb94$var$attr(div3, \"class\", div3_class_value = \"skintone-list hide-focus \" + /*skinTonePickerExpanded*/ (ctx[6] ? \"\" : \"hidden no-animate\"));\n            $be550d328187eb94$var$set_style(div3, \"transform\", \"translateY(\" + /*skinTonePickerExpanded*/ (ctx[6] ? 0 : \"calc(-1 * var(--num-skintones) * var(--total-emoji-size))\") + \")\");\n            $be550d328187eb94$var$attr(div3, \"role\", \"listbox\");\n            $be550d328187eb94$var$attr(div3, \"aria-label\", div3_aria_label_value = /*i18n*/ ctx[0].skinTonesLabel);\n            $be550d328187eb94$var$attr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value = \"skintone-\" + /*activeSkinTone*/ ctx[20]);\n            $be550d328187eb94$var$attr(div3, \"aria-hidden\", div3_aria_hidden_value = !/*skinTonePickerExpanded*/ ctx[6]);\n            $be550d328187eb94$var$attr(div3, \"tabindex\", \"-1\");\n            $be550d328187eb94$var$attr(div4, \"class\", \"search-row\");\n            $be550d328187eb94$var$attr(div5, \"class\", \"nav\");\n            $be550d328187eb94$var$attr(div5, \"role\", \"tablist\");\n            $be550d328187eb94$var$set_style(div5, \"grid-template-columns\", \"repeat(\" + /*groups*/ ctx[12].length + \", 1fr)\");\n            $be550d328187eb94$var$attr(div5, \"aria-label\", div5_aria_label_value = /*i18n*/ ctx[0].categoriesLabel);\n            $be550d328187eb94$var$attr(div6, \"class\", \"indicator\");\n            $be550d328187eb94$var$set_style(div6, \"transform\", \"translateX(\" + /*isRtl*/ (ctx[24] ? -1 : 1) * /*currentGroupIndex*/ ctx[11] * 100 + \"%)\");\n            $be550d328187eb94$var$attr(div7, \"class\", \"indicator-wrapper\");\n            $be550d328187eb94$var$attr(div8, \"class\", div8_class_value = \"message \" + /*message*/ (ctx[18] ? \"\" : \"gone\"));\n            $be550d328187eb94$var$attr(div8, \"role\", \"alert\");\n            $be550d328187eb94$var$attr(div8, \"aria-live\", \"polite\");\n            $be550d328187eb94$var$attr(div10, \"class\", div10_class_value = \"tabpanel \" + (!/*databaseLoaded*/ ctx[14] || /*message*/ ctx[18] ? \"gone\" : \"\"));\n            $be550d328187eb94$var$attr(div10, \"role\", div10_role_value = /*searchMode*/ ctx[4] ? \"region\" : \"tabpanel\");\n            $be550d328187eb94$var$attr(div10, \"aria-label\", div10_aria_label_value = /*searchMode*/ ctx[4] ? /*i18n*/ ctx[0].searchResultsLabel : /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name]);\n            $be550d328187eb94$var$attr(div10, \"id\", div10_id_value = /*searchMode*/ ctx[4] ? \"\" : `tab-${ctx[13].id}`);\n            $be550d328187eb94$var$attr(div10, \"tabindex\", \"0\");\n            $be550d328187eb94$var$attr(div11, \"class\", div11_class_value = \"favorites emoji-menu \" + /*message*/ (ctx[18] ? \"gone\" : \"\"));\n            $be550d328187eb94$var$attr(div11, \"role\", \"menu\");\n            $be550d328187eb94$var$attr(div11, \"aria-label\", div11_aria_label_value = /*i18n*/ ctx[0].favoritesLabel);\n            $be550d328187eb94$var$set_style(div11, \"padding-inline-end\", /*scrollbarWidth*/ ctx[25] + \"px\");\n            $be550d328187eb94$var$attr(button1, \"aria-hidden\", \"true\");\n            $be550d328187eb94$var$attr(button1, \"tabindex\", \"-1\");\n            $be550d328187eb94$var$attr(button1, \"class\", \"abs-pos hidden emoji\");\n            $be550d328187eb94$var$attr(section, \"class\", \"picker\");\n            $be550d328187eb94$var$attr(section, \"aria-label\", section_aria_label_value = /*i18n*/ ctx[0].regionLabel);\n            $be550d328187eb94$var$attr(section, \"style\", /*pickerStyle*/ ctx[22]);\n        },\n        m (target, anchor) {\n            $be550d328187eb94$var$insert(target, section, anchor);\n            $be550d328187eb94$var$append(section, div0);\n            $be550d328187eb94$var$append(section, div4);\n            $be550d328187eb94$var$append(div4, div1);\n            $be550d328187eb94$var$append(div1, input);\n            $be550d328187eb94$var$set_input_value(input, /*rawSearchText*/ ctx[2]);\n            $be550d328187eb94$var$append(div1, label);\n            $be550d328187eb94$var$append(label, t0);\n            $be550d328187eb94$var$append(div1, span0);\n            $be550d328187eb94$var$append(span0, t1);\n            $be550d328187eb94$var$append(div4, div2);\n            $be550d328187eb94$var$append(div2, button0);\n            $be550d328187eb94$var$append(button0, t2);\n            $be550d328187eb94$var$append(div4, span1);\n            $be550d328187eb94$var$append(span1, t3);\n            $be550d328187eb94$var$append(div4, div3);\n            for(let i = 0; i < each_blocks_3.length; i += 1)if (each_blocks_3[i]) each_blocks_3[i].m(div3, null);\n            /*div3_binding*/ ctx[49](div3);\n            $be550d328187eb94$var$append(section, div5);\n            for(let i = 0; i < each_blocks_2.length; i += 1)if (each_blocks_2[i]) each_blocks_2[i].m(div5, null);\n            $be550d328187eb94$var$append(section, div7);\n            $be550d328187eb94$var$append(div7, div6);\n            $be550d328187eb94$var$append(section, div8);\n            $be550d328187eb94$var$append(div8, t4);\n            $be550d328187eb94$var$append(section, div10);\n            $be550d328187eb94$var$append(div10, div9);\n            for(let i = 0; i < each_blocks_1.length; i += 1)if (each_blocks_1[i]) each_blocks_1[i].m(div9, null);\n            /*div10_binding*/ ctx[51](div10);\n            $be550d328187eb94$var$append(section, div11);\n            for(let i = 0; i < each_blocks.length; i += 1)if (each_blocks[i]) each_blocks[i].m(div11, null);\n            $be550d328187eb94$var$append(section, button1);\n            /*button1_binding*/ ctx[52](button1);\n            /*section_binding*/ ctx[53](section);\n            if (!mounted) {\n                dispose = [\n                    $be550d328187eb94$var$listen(input, \"input\", /*input_input_handler*/ ctx[48]),\n                    $be550d328187eb94$var$listen(input, \"keydown\", /*onSearchKeydown*/ ctx[30]),\n                    $be550d328187eb94$var$listen(button0, \"click\", /*onClickSkinToneButton*/ ctx[35]),\n                    $be550d328187eb94$var$listen(div3, \"focusout\", /*onSkinToneOptionsFocusOut*/ ctx[38]),\n                    $be550d328187eb94$var$listen(div3, \"click\", /*onSkinToneOptionsClick*/ ctx[34]),\n                    $be550d328187eb94$var$listen(div3, \"keydown\", /*onSkinToneOptionsKeydown*/ ctx[36]),\n                    $be550d328187eb94$var$listen(div3, \"keyup\", /*onSkinToneOptionsKeyup*/ ctx[37]),\n                    $be550d328187eb94$var$listen(div5, \"keydown\", /*onNavKeydown*/ ctx[32]),\n                    $be550d328187eb94$var$action_destroyer(/*calculateEmojiGridStyle*/ ctx[29].call(null, div9)),\n                    $be550d328187eb94$var$listen(div10, \"click\", /*onEmojiClick*/ ctx[33]),\n                    $be550d328187eb94$var$listen(div11, \"click\", /*onEmojiClick*/ ctx[33])\n                ];\n                mounted = true;\n            }\n        },\n        p (ctx, dirty) {\n            if (dirty[0] & /*i18n*/ 1 && input_placeholder_value !== (input_placeholder_value = /*i18n*/ ctx[0].searchLabel)) $be550d328187eb94$var$attr(input, \"placeholder\", input_placeholder_value);\n            if (dirty[0] & /*searchMode, currentEmojis*/ 18 && input_aria_expanded_value !== (input_aria_expanded_value = !!/*searchMode*/ (ctx[4] && /*currentEmojis*/ ctx[1].length))) $be550d328187eb94$var$attr(input, \"aria-expanded\", input_aria_expanded_value);\n            if (dirty[0] & /*activeSearchItemId*/ 67108864 && input_aria_activedescendant_value !== (input_aria_activedescendant_value = /*activeSearchItemId*/ ctx[26] ? `emo-${ctx[26]}` : \"\")) $be550d328187eb94$var$attr(input, \"aria-activedescendant\", input_aria_activedescendant_value);\n            if (dirty[0] & /*rawSearchText*/ 4 && input.value !== /*rawSearchText*/ ctx[2]) $be550d328187eb94$var$set_input_value(input, /*rawSearchText*/ ctx[2]);\n            if (dirty[0] & /*i18n*/ 1 && t0_value !== (t0_value = /*i18n*/ ctx[0].searchLabel + \"\")) $be550d328187eb94$var$set_data(t0, t0_value);\n            if (dirty[0] & /*i18n*/ 1 && t1_value !== (t1_value = /*i18n*/ ctx[0].searchDescription + \"\")) $be550d328187eb94$var$set_data(t1, t1_value);\n            if (dirty[0] & /*skinToneButtonText*/ 2097152) $be550d328187eb94$var$set_data(t2, /*skinToneButtonText*/ ctx[21]);\n            if (dirty[0] & /*skinTonePickerExpanded*/ 64 && button0_class_value !== (button0_class_value = \"emoji \" + /*skinTonePickerExpanded*/ (ctx[6] ? \"hide-focus\" : \"\"))) $be550d328187eb94$var$attr(button0, \"class\", button0_class_value);\n            if (dirty[0] & /*skinToneButtonLabel*/ 8388608) $be550d328187eb94$var$attr(button0, \"aria-label\", /*skinToneButtonLabel*/ ctx[23]);\n            if (dirty[0] & /*skinToneButtonLabel*/ 8388608) $be550d328187eb94$var$attr(button0, \"title\", /*skinToneButtonLabel*/ ctx[23]);\n            if (dirty[0] & /*skinTonePickerExpanded*/ 64) $be550d328187eb94$var$attr(button0, \"aria-expanded\", /*skinTonePickerExpanded*/ ctx[6]);\n            if (dirty[0] & /*skinTonePickerExpandedAfterAnimation*/ 524288 && div2_class_value !== (div2_class_value = \"skintone-button-wrapper \" + /*skinTonePickerExpandedAfterAnimation*/ (ctx[19] ? \"expanded\" : \"\"))) $be550d328187eb94$var$attr(div2, \"class\", div2_class_value);\n            if (dirty[0] & /*i18n*/ 1 && t3_value !== (t3_value = /*i18n*/ ctx[0].skinToneDescription + \"\")) $be550d328187eb94$var$set_data(t3, t3_value);\n            if (dirty[0] & /*skinTones, activeSkinTone, i18n*/ 1049089) {\n                each_value_4 = /*skinTones*/ ctx[9];\n                each_blocks_3 = $be550d328187eb94$var$update_keyed_each(each_blocks_3, dirty, get_key, 1, ctx, each_value_4, each0_lookup, div3, $be550d328187eb94$var$destroy_block, $be550d328187eb94$var$create_each_block_4, null, $be550d328187eb94$var$get_each_context_4);\n            }\n            if (dirty[0] & /*skinTonePickerExpanded*/ 64 && div3_class_value !== (div3_class_value = \"skintone-list hide-focus \" + /*skinTonePickerExpanded*/ (ctx[6] ? \"\" : \"hidden no-animate\"))) $be550d328187eb94$var$attr(div3, \"class\", div3_class_value);\n            if (dirty[0] & /*skinTonePickerExpanded*/ 64) $be550d328187eb94$var$set_style(div3, \"transform\", \"translateY(\" + /*skinTonePickerExpanded*/ (ctx[6] ? 0 : \"calc(-1 * var(--num-skintones) * var(--total-emoji-size))\") + \")\");\n            if (dirty[0] & /*i18n*/ 1 && div3_aria_label_value !== (div3_aria_label_value = /*i18n*/ ctx[0].skinTonesLabel)) $be550d328187eb94$var$attr(div3, \"aria-label\", div3_aria_label_value);\n            if (dirty[0] & /*activeSkinTone*/ 1048576 && div3_aria_activedescendant_value !== (div3_aria_activedescendant_value = \"skintone-\" + /*activeSkinTone*/ ctx[20])) $be550d328187eb94$var$attr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value);\n            if (dirty[0] & /*skinTonePickerExpanded*/ 64 && div3_aria_hidden_value !== (div3_aria_hidden_value = !/*skinTonePickerExpanded*/ ctx[6])) $be550d328187eb94$var$attr(div3, \"aria-hidden\", div3_aria_hidden_value);\n            if (dirty[0] & /*groups, i18n, searchMode, currentGroup*/ 12305 | dirty[1] & /*onNavClick*/ 1) {\n                each_value_3 = /*groups*/ ctx[12];\n                each_blocks_2 = $be550d328187eb94$var$update_keyed_each(each_blocks_2, dirty, get_key_1, 1, ctx, each_value_3, each1_lookup, div5, $be550d328187eb94$var$destroy_block, $be550d328187eb94$var$create_each_block_3, null, $be550d328187eb94$var$get_each_context_3);\n            }\n            if (dirty[0] & /*groups*/ 4096) $be550d328187eb94$var$set_style(div5, \"grid-template-columns\", \"repeat(\" + /*groups*/ ctx[12].length + \", 1fr)\");\n            if (dirty[0] & /*i18n*/ 1 && div5_aria_label_value !== (div5_aria_label_value = /*i18n*/ ctx[0].categoriesLabel)) $be550d328187eb94$var$attr(div5, \"aria-label\", div5_aria_label_value);\n            if (dirty[0] & /*isRtl, currentGroupIndex*/ 16779264) $be550d328187eb94$var$set_style(div6, \"transform\", \"translateX(\" + /*isRtl*/ (ctx[24] ? -1 : 1) * /*currentGroupIndex*/ ctx[11] * 100 + \"%)\");\n            if (dirty[0] & /*message*/ 262144) $be550d328187eb94$var$set_data(t4, /*message*/ ctx[18]);\n            if (dirty[0] & /*message*/ 262144 && div8_class_value !== (div8_class_value = \"message \" + /*message*/ (ctx[18] ? \"\" : \"gone\"))) $be550d328187eb94$var$attr(div8, \"class\", div8_class_value);\n            if (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem, labelWithSkin, currentSkinTone, unicodeWithSkin, i18n, currentGroup*/ 402694449) {\n                each_value_1 = /*currentEmojisWithCategories*/ ctx[15];\n                each_blocks_1 = $be550d328187eb94$var$update_keyed_each(each_blocks_1, dirty, get_key_2, 1, ctx, each_value_1, each2_lookup, div9, $be550d328187eb94$var$destroy_block, $be550d328187eb94$var$create_each_block_1, null, $be550d328187eb94$var$get_each_context_1);\n            }\n            if (dirty[0] & /*databaseLoaded, message*/ 278528 && div10_class_value !== (div10_class_value = \"tabpanel \" + (!/*databaseLoaded*/ ctx[14] || /*message*/ ctx[18] ? \"gone\" : \"\"))) $be550d328187eb94$var$attr(div10, \"class\", div10_class_value);\n            if (dirty[0] & /*searchMode*/ 16 && div10_role_value !== (div10_role_value = /*searchMode*/ ctx[4] ? \"region\" : \"tabpanel\")) $be550d328187eb94$var$attr(div10, \"role\", div10_role_value);\n            if (dirty[0] & /*searchMode, i18n, currentGroup*/ 8209 && div10_aria_label_value !== (div10_aria_label_value = /*searchMode*/ ctx[4] ? /*i18n*/ ctx[0].searchResultsLabel : /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name])) $be550d328187eb94$var$attr(div10, \"aria-label\", div10_aria_label_value);\n            if (dirty[0] & /*searchMode, currentGroup*/ 8208 && div10_id_value !== (div10_id_value = /*searchMode*/ ctx[4] ? \"\" : `tab-${ctx[13].id}`)) $be550d328187eb94$var$attr(div10, \"id\", div10_id_value);\n            if (dirty[0] & /*labelWithSkin, currentFavorites, currentSkinTone, unicodeWithSkin*/ 402654464) {\n                each_value = /*currentFavorites*/ ctx[10];\n                each_blocks = $be550d328187eb94$var$update_keyed_each(each_blocks, dirty, get_key_3, 1, ctx, each_value, each3_lookup, div11, $be550d328187eb94$var$destroy_block, $be550d328187eb94$var$create_each_block, null, $be550d328187eb94$var$get_each_context);\n            }\n            if (dirty[0] & /*message*/ 262144 && div11_class_value !== (div11_class_value = \"favorites emoji-menu \" + /*message*/ (ctx[18] ? \"gone\" : \"\"))) $be550d328187eb94$var$attr(div11, \"class\", div11_class_value);\n            if (dirty[0] & /*i18n*/ 1 && div11_aria_label_value !== (div11_aria_label_value = /*i18n*/ ctx[0].favoritesLabel)) $be550d328187eb94$var$attr(div11, \"aria-label\", div11_aria_label_value);\n            if (dirty[0] & /*scrollbarWidth*/ 33554432) $be550d328187eb94$var$set_style(div11, \"padding-inline-end\", /*scrollbarWidth*/ ctx[25] + \"px\");\n            if (dirty[0] & /*i18n*/ 1 && section_aria_label_value !== (section_aria_label_value = /*i18n*/ ctx[0].regionLabel)) $be550d328187eb94$var$attr(section, \"aria-label\", section_aria_label_value);\n            if (dirty[0] & /*pickerStyle*/ 4194304) $be550d328187eb94$var$attr(section, \"style\", /*pickerStyle*/ ctx[22]);\n        },\n        i: $be550d328187eb94$var$noop,\n        o: $be550d328187eb94$var$noop,\n        d (detaching) {\n            if (detaching) $be550d328187eb94$var$detach(section);\n            for(let i = 0; i < each_blocks_3.length; i += 1)each_blocks_3[i].d();\n            /*div3_binding*/ ctx[49](null);\n            for(let i = 0; i < each_blocks_2.length; i += 1)each_blocks_2[i].d();\n            for(let i = 0; i < each_blocks_1.length; i += 1)each_blocks_1[i].d();\n            /*div10_binding*/ ctx[51](null);\n            for(let i = 0; i < each_blocks.length; i += 1)each_blocks[i].d();\n            /*button1_binding*/ ctx[52](null);\n            /*section_binding*/ ctx[53](null);\n            mounted = false;\n            $be550d328187eb94$var$run_all(dispose);\n        }\n    };\n}\nfunction $be550d328187eb94$var$instance($$self, $$props, $$invalidate) {\n    let { skinToneEmoji: skinToneEmoji } = $$props;\n    let { i18n: i18n } = $$props;\n    let { database: database } = $$props;\n    let { customEmoji: customEmoji } = $$props;\n    let { customCategorySorting: customCategorySorting } = $$props;\n    let { emojiVersion: emojiVersion } = $$props;\n    // private\n    let initialLoad = true;\n    let currentEmojis = [];\n    let currentEmojisWithCategories = []; // eslint-disable-line no-unused-vars\n    let rawSearchText = \"\";\n    let searchText = \"\";\n    let rootElement;\n    let baselineEmoji;\n    let tabpanelElement;\n    let searchMode = false; // eslint-disable-line no-unused-vars\n    let activeSearchItem = -1;\n    let message; // eslint-disable-line no-unused-vars\n    let skinTonePickerExpanded = false;\n    let skinTonePickerExpandedAfterAnimation = false; // eslint-disable-line no-unused-vars\n    let skinToneDropdown;\n    let currentSkinTone = 0;\n    let activeSkinTone = 0;\n    let skinToneButtonText; // eslint-disable-line no-unused-vars\n    let pickerStyle; // eslint-disable-line no-unused-vars\n    let skinToneButtonLabel = \"\"; // eslint-disable-line no-unused-vars\n    let skinTones = [];\n    let currentFavorites = []; // eslint-disable-line no-unused-vars\n    let defaultFavoriteEmojis;\n    let numColumns = $be550d328187eb94$var$DEFAULT_NUM_COLUMNS;\n    let isRtl = false; // eslint-disable-line no-unused-vars\n    let scrollbarWidth = 0; // eslint-disable-line no-unused-vars\n    let currentGroupIndex = 0;\n    let groups$1 = $be550d328187eb94$var$groups;\n    let currentGroup;\n    let databaseLoaded = false; // eslint-disable-line no-unused-vars\n    let activeSearchItemId; // eslint-disable-line no-unused-vars\n    //\n    // Utils/helpers\n    //\n    const focus = (id)=>{\n        rootElement.getRootNode().getElementById(id).focus();\n    };\n    // fire a custom event that crosses the shadow boundary\n    const fireEvent = (name, detail)=>{\n        rootElement.dispatchEvent(new CustomEvent(name, {\n            detail: detail,\n            bubbles: true,\n            composed: true\n        }));\n    };\n    // eslint-disable-next-line no-unused-vars\n    const unicodeWithSkin = (emoji, currentSkinTone)=>currentSkinTone && emoji.skins && emoji.skins[currentSkinTone] || emoji.unicode;\n    // eslint-disable-next-line no-unused-vars\n    const labelWithSkin = (emoji, currentSkinTone)=>$be550d328187eb94$var$uniq([\n            emoji.name || unicodeWithSkin(emoji, currentSkinTone),\n            ...emoji.shortcodes || []\n        ]).join(\", \");\n    //\n    // Determine the emoji support level (in requestIdleCallback)\n    //\n    $be550d328187eb94$var$onMount(()=>{\n        if (!emojiVersion) $be550d328187eb94$var$detectEmojiSupportLevel().then((level)=>{\n            // Can't actually test emoji support in Jest/JSDom, emoji never render in color in Cairo\n            /* istanbul ignore next */ if (!level) $$invalidate(18, message = i18n.emojiUnsupportedMessage);\n        });\n    });\n    //\n    // Calculate the width of the emoji grid. This serves two purposes:\n    // 1) Re-calculate the --num-columns var because it may have changed\n    // 2) Re-calculate the scrollbar width because it may have changed\n    //   (i.e. because the number of items changed)\n    // 3) Re-calculate whether we're in RTL mode or not.\n    //\n    // The benefit of doing this in one place is to align with rAF/ResizeObserver\n    // and do all the calculations in one go. RTL vs LTR is not strictly width-related,\n    // but since we're already reading the style here, and since it's already aligned with\n    // the rAF loop, this is the most appropriate place to do it perf-wise.\n    //\n    // eslint-disable-next-line no-unused-vars\n    function calculateEmojiGridStyle(node) {\n        return $be550d328187eb94$var$calculateWidth(node, (width)=>{\n            {\n                // jsdom throws errors for this kind of fancy stuff\n                // read all the style/layout calculations we need to make\n                const style = getComputedStyle(rootElement);\n                const newNumColumns = parseInt(style.getPropertyValue(\"--num-columns\"), 10);\n                const newIsRtl = style.getPropertyValue(\"direction\") === \"rtl\";\n                const parentWidth = node.parentElement.getBoundingClientRect().width;\n                const newScrollbarWidth = parentWidth - width;\n                // write to Svelte variables\n                $$invalidate(47, numColumns = newNumColumns);\n                $$invalidate(25, scrollbarWidth = newScrollbarWidth); // eslint-disable-line no-unused-vars\n                $$invalidate(24, isRtl = newIsRtl); // eslint-disable-line no-unused-vars\n            }\n        });\n    }\n    function checkZwjSupportAndUpdate(zwjEmojisToCheck) {\n        const rootNode = rootElement.getRootNode();\n        const emojiToDomNode = (emoji)=>rootNode.getElementById(`emo-${emoji.id}`);\n        $be550d328187eb94$var$checkZwjSupport(zwjEmojisToCheck, baselineEmoji, emojiToDomNode);\n        // force update\n        $$invalidate(1, currentEmojis); // eslint-disable-line no-self-assign\n    }\n    function isZwjSupported(emoji) {\n        return !emoji.unicode || !$be550d328187eb94$var$hasZwj(emoji) || $be550d328187eb94$var$supportedZwjEmojis.get(emoji.unicode);\n    }\n    async function filterEmojisByVersion(emojis) {\n        const emojiSupportLevel = emojiVersion || await $be550d328187eb94$var$detectEmojiSupportLevel();\n        // !version corresponds to custom emoji\n        return emojis.filter(({ version: version })=>!version || version <= emojiSupportLevel);\n    }\n    async function summarizeEmojis(emojis) {\n        return $be550d328187eb94$var$summarizeEmojisForUI(emojis, emojiVersion || await $be550d328187eb94$var$detectEmojiSupportLevel());\n    }\n    async function getEmojisByGroup(group) {\n        // -1 is custom emoji\n        const emoji = group === -1 ? customEmoji : await database.getEmojiByGroup(group);\n        return summarizeEmojis(await filterEmojisByVersion(emoji));\n    }\n    async function getEmojisBySearchQuery(query) {\n        return summarizeEmojis(await filterEmojisByVersion(await database.getEmojiBySearchQuery(query)));\n    }\n    // eslint-disable-next-line no-unused-vars\n    function onSearchKeydown(event) {\n        if (!searchMode || !currentEmojis.length) return;\n        const goToNextOrPrevious = (previous)=>{\n            $be550d328187eb94$var$halt(event);\n            $$invalidate(5, activeSearchItem = $be550d328187eb94$var$incrementOrDecrement(previous, activeSearchItem, currentEmojis));\n        };\n        switch(event.key){\n            case \"ArrowDown\":\n                return goToNextOrPrevious(false);\n            case \"ArrowUp\":\n                return goToNextOrPrevious(true);\n            case \"Enter\":\n                if (activeSearchItem !== -1) {\n                    $be550d328187eb94$var$halt(event);\n                    return clickEmoji(currentEmojis[activeSearchItem].id);\n                } else if (currentEmojis.length) $$invalidate(5, activeSearchItem = 0);\n        }\n    }\n    //\n    // Handle user input on nav\n    //\n    // eslint-disable-next-line no-unused-vars\n    function onNavClick(group) {\n        $$invalidate(2, rawSearchText = \"\");\n        $$invalidate(45, searchText = \"\");\n        $$invalidate(5, activeSearchItem = -1);\n        $$invalidate(11, currentGroupIndex = groups$1.findIndex((_)=>_.id === group.id));\n    }\n    // eslint-disable-next-line no-unused-vars\n    function onNavKeydown(event) {\n        const { target: target, key: key } = event;\n        const doFocus = (el)=>{\n            if (el) {\n                $be550d328187eb94$var$halt(event);\n                el.focus();\n            }\n        };\n        switch(key){\n            case \"ArrowLeft\":\n                return doFocus(target.previousSibling);\n            case \"ArrowRight\":\n                return doFocus(target.nextSibling);\n            case \"Home\":\n                return doFocus(target.parentElement.firstChild);\n            case \"End\":\n                return doFocus(target.parentElement.lastChild);\n        }\n    }\n    //\n    // Handle user input on an emoji\n    //\n    async function clickEmoji(unicodeOrName) {\n        const emoji = await database.getEmojiByUnicodeOrName(unicodeOrName);\n        const emojiSummary = [\n            ...currentEmojis,\n            ...currentFavorites\n        ].find((_)=>_.id === unicodeOrName);\n        const skinTonedUnicode = emojiSummary.unicode && unicodeWithSkin(emojiSummary, currentSkinTone);\n        await database.incrementFavoriteEmojiCount(unicodeOrName);\n        fireEvent(\"emoji-click\", {\n            emoji: emoji,\n            skinTone: currentSkinTone,\n            ...skinTonedUnicode && {\n                unicode: skinTonedUnicode\n            },\n            ...emojiSummary.name && {\n                name: emojiSummary.name\n            }\n        });\n    }\n    // eslint-disable-next-line no-unused-vars\n    async function onEmojiClick(event) {\n        const { target: target } = event;\n        if (!target.classList.contains(\"emoji\")) return;\n        $be550d328187eb94$var$halt(event);\n        const id = target.id.substring(4); // replace 'emo-' or 'fav-' prefix\n        /* no await */ clickEmoji(id);\n    }\n    //\n    // Handle user input on the skintone picker\n    //\n    // eslint-disable-next-line no-unused-vars\n    function changeSkinTone(skinTone) {\n        $$invalidate(8, currentSkinTone = skinTone);\n        $$invalidate(6, skinTonePickerExpanded = false);\n        focus(\"skintone-button\");\n        fireEvent(\"skin-tone-change\", {\n            skinTone: skinTone\n        });\n        /* no await */ database.setPreferredSkinTone(skinTone);\n    }\n    // eslint-disable-next-line no-unused-vars\n    function onSkinToneOptionsClick(event) {\n        const { target: { id: id } } = event;\n        const match = id && id.match(/^skintone-(\\d)/); // skintone option format\n        if (!match) // not a skintone option\n        return;\n        $be550d328187eb94$var$halt(event);\n        const skinTone = parseInt(match[1], 10); // remove 'skintone-' prefix\n        changeSkinTone(skinTone);\n    }\n    // eslint-disable-next-line no-unused-vars\n    function onClickSkinToneButton(event) {\n        $$invalidate(6, skinTonePickerExpanded = !skinTonePickerExpanded);\n        $$invalidate(20, activeSkinTone = currentSkinTone);\n        if (skinTonePickerExpanded) {\n            $be550d328187eb94$var$halt(event);\n            $be550d328187eb94$var$rAF(()=>focus(\"skintone-list\"));\n        }\n    }\n    // eslint-disable-next-line no-unused-vars\n    function onSkinToneOptionsKeydown(event) {\n        if (!skinTonePickerExpanded) return;\n        const changeActiveSkinTone = async (nextSkinTone)=>{\n            $be550d328187eb94$var$halt(event);\n            $$invalidate(20, activeSkinTone = nextSkinTone);\n        };\n        switch(event.key){\n            case \"ArrowUp\":\n                return changeActiveSkinTone($be550d328187eb94$var$incrementOrDecrement(true, activeSkinTone, skinTones));\n            case \"ArrowDown\":\n                return changeActiveSkinTone($be550d328187eb94$var$incrementOrDecrement(false, activeSkinTone, skinTones));\n            case \"Home\":\n                return changeActiveSkinTone(0);\n            case \"End\":\n                return changeActiveSkinTone(skinTones.length - 1);\n            case \"Enter\":\n                // enter on keydown, space on keyup. this is just how browsers work for buttons\n                // https://lists.w3.org/Archives/Public/w3c-wai-ig/2019JanMar/0086.html\n                $be550d328187eb94$var$halt(event);\n                return changeSkinTone(activeSkinTone);\n            case \"Escape\":\n                $be550d328187eb94$var$halt(event);\n                $$invalidate(6, skinTonePickerExpanded = false);\n                return focus(\"skintone-button\");\n        }\n    }\n    // eslint-disable-next-line no-unused-vars\n    function onSkinToneOptionsKeyup(event) {\n        if (!skinTonePickerExpanded) return;\n        switch(event.key){\n            case \" \":\n                // enter on keydown, space on keyup. this is just how browsers work for buttons\n                // https://lists.w3.org/Archives/Public/w3c-wai-ig/2019JanMar/0086.html\n                $be550d328187eb94$var$halt(event);\n                return changeSkinTone(activeSkinTone);\n        }\n    }\n    // eslint-disable-next-line no-unused-vars\n    async function onSkinToneOptionsFocusOut(event) {\n        // On blur outside of the skintone listbox, collapse the skintone picker.\n        const { relatedTarget: relatedTarget } = event;\n        if (!relatedTarget || relatedTarget.id !== \"skintone-list\") $$invalidate(6, skinTonePickerExpanded = false);\n    }\n    function input_input_handler() {\n        rawSearchText = this.value;\n        $$invalidate(2, rawSearchText);\n    }\n    function div3_binding($$value) {\n        $be550d328187eb94$var$binding_callbacks[$$value ? \"unshift\" : \"push\"](()=>{\n            skinToneDropdown = $$value;\n            $$invalidate(7, skinToneDropdown);\n        });\n    }\n    const click_handler = (group)=>onNavClick(group);\n    function div10_binding($$value) {\n        $be550d328187eb94$var$binding_callbacks[$$value ? \"unshift\" : \"push\"](()=>{\n            tabpanelElement = $$value;\n            $$invalidate(3, tabpanelElement);\n        });\n    }\n    function button1_binding($$value) {\n        $be550d328187eb94$var$binding_callbacks[$$value ? \"unshift\" : \"push\"](()=>{\n            baselineEmoji = $$value;\n            $$invalidate(17, baselineEmoji);\n        });\n    }\n    function section_binding($$value) {\n        $be550d328187eb94$var$binding_callbacks[$$value ? \"unshift\" : \"push\"](()=>{\n            rootElement = $$value;\n            $$invalidate(16, rootElement);\n        });\n    }\n    $$self.$$set = ($$props)=>{\n        if (\"skinToneEmoji\" in $$props) $$invalidate(40, skinToneEmoji = $$props.skinToneEmoji);\n        if (\"i18n\" in $$props) $$invalidate(0, i18n = $$props.i18n);\n        if (\"database\" in $$props) $$invalidate(39, database = $$props.database);\n        if (\"customEmoji\" in $$props) $$invalidate(41, customEmoji = $$props.customEmoji);\n        if (\"customCategorySorting\" in $$props) $$invalidate(42, customCategorySorting = $$props.customCategorySorting);\n        if (\"emojiVersion\" in $$props) $$invalidate(43, emojiVersion = $$props.emojiVersion);\n    };\n    $$self.$$.update = ()=>{\n        if ($$self.$$.dirty[1] & /*customEmoji, database*/ 1280) {\n            if (customEmoji && database) $$invalidate(39, database.customEmoji = customEmoji, database);\n        }\n        if ($$self.$$.dirty[0] & /*i18n*/ 1 | $$self.$$.dirty[1] & /*database*/ 256) //\n        // Set or update the database object\n        //\n        {\n            // show a Loading message if it takes a long time, or show an error if there's a network/IDB error\n            async function handleDatabaseLoading() {\n                let showingLoadingMessage = false;\n                const timeoutHandle = setTimeout(()=>{\n                    showingLoadingMessage = true;\n                    $$invalidate(18, message = i18n.loadingMessage);\n                }, $be550d328187eb94$var$TIMEOUT_BEFORE_LOADING_MESSAGE);\n                try {\n                    await database.ready();\n                    $$invalidate(14, databaseLoaded = true); // eslint-disable-line no-unused-vars\n                } catch (err) {\n                    console.error(err);\n                    $$invalidate(18, message = i18n.networkErrorMessage);\n                } finally{\n                    clearTimeout(timeoutHandle);\n                    if (showingLoadingMessage) {\n                        // Seems safer than checking the i18n string, which may change\n                        showingLoadingMessage = false;\n                        $$invalidate(18, message = \"\"); // eslint-disable-line no-unused-vars\n                    }\n                }\n            }\n            if (database) /* no await */ handleDatabaseLoading();\n        }\n        if ($$self.$$.dirty[0] & /*groups, currentGroupIndex*/ 6144 | $$self.$$.dirty[1] & /*customEmoji*/ 1024) {\n            if (customEmoji && customEmoji.length) $$invalidate(12, groups$1 = [\n                $be550d328187eb94$var$customGroup,\n                ...$be550d328187eb94$var$groups\n            ]);\n            else if (groups$1 !== $be550d328187eb94$var$groups) {\n                if (currentGroupIndex) // If the current group is anything other than \"custom\" (which is first), decrement.\n                // This fixes the odd case where you set customEmoji, then pick a category, then unset customEmoji\n                $$invalidate(11, currentGroupIndex--, currentGroupIndex);\n                $$invalidate(12, groups$1 = $be550d328187eb94$var$groups);\n            }\n        }\n        if ($$self.$$.dirty[0] & /*rawSearchText*/ 4) $be550d328187eb94$var$rIC(()=>{\n            $$invalidate(45, searchText = (rawSearchText || \"\").trim()); // defer to avoid input delays, plus we can trim here\n            $$invalidate(5, activeSearchItem = -1);\n        });\n        if ($$self.$$.dirty[0] & /*groups, currentGroupIndex*/ 6144) //\n        // Update the current group based on the currentGroupIndex\n        //\n        $$invalidate(13, currentGroup = groups$1[currentGroupIndex]);\n        if ($$self.$$.dirty[0] & /*databaseLoaded, currentGroup*/ 24576 | $$self.$$.dirty[1] & /*searchText*/ 16384) //\n        // Set or update the currentEmojis. Check for invalid ZWJ renderings\n        // (i.e. double emoji).\n        //\n        {\n            async function updateEmojis() {\n                if (!databaseLoaded) {\n                    $$invalidate(1, currentEmojis = []);\n                    $$invalidate(4, searchMode = false);\n                } else if (searchText.length >= $be550d328187eb94$var$MIN_SEARCH_TEXT_LENGTH) {\n                    const currentSearchText = searchText;\n                    const newEmojis = await getEmojisBySearchQuery(currentSearchText);\n                    if (currentSearchText === searchText) {\n                        // if the situation changes asynchronously, do not update\n                        $$invalidate(1, currentEmojis = newEmojis);\n                        $$invalidate(4, searchMode = true);\n                    }\n                } else if (currentGroup) {\n                    const currentGroupId = currentGroup.id;\n                    const newEmojis = await getEmojisByGroup(currentGroupId);\n                    if (currentGroupId === currentGroup.id) {\n                        // if the situation changes asynchronously, do not update\n                        $$invalidate(1, currentEmojis = newEmojis);\n                        $$invalidate(4, searchMode = false);\n                    }\n                }\n            }\n            /* no await */ updateEmojis();\n        }\n        if ($$self.$$.dirty[0] & /*groups, searchMode*/ 4112) //\n        // Global styles for the entire picker\n        //\n        /* eslint-disable no-unused-vars */ $$invalidate(22, pickerStyle = `\n  --num-groups: ${groups$1.length}; \n  --indicator-opacity: ${searchMode ? 0 : 1}; \n  --num-skintones: ${$be550d328187eb94$var$NUM_SKIN_TONES};`);\n        if ($$self.$$.dirty[0] & /*databaseLoaded*/ 16384 | $$self.$$.dirty[1] & /*database*/ 256) //\n        // Set or update the preferred skin tone\n        //\n        {\n            async function updatePreferredSkinTone() {\n                if (databaseLoaded) $$invalidate(8, currentSkinTone = await database.getPreferredSkinTone());\n            }\n            /* no await */ updatePreferredSkinTone();\n        }\n        if ($$self.$$.dirty[1] & /*skinToneEmoji*/ 512) $$invalidate(9, skinTones = Array($be550d328187eb94$var$NUM_SKIN_TONES).fill().map((_, i)=>$be550d328187eb94$var$applySkinTone(skinToneEmoji, i)));\n        if ($$self.$$.dirty[0] & /*skinTones, currentSkinTone*/ 768) /* eslint-disable no-unused-vars */ $$invalidate(21, skinToneButtonText = skinTones[currentSkinTone]);\n        if ($$self.$$.dirty[0] & /*i18n, currentSkinTone*/ 257) $$invalidate(23, skinToneButtonLabel = i18n.skinToneLabel.replace(\"{skinTone}\", i18n.skinTones[currentSkinTone]));\n        if ($$self.$$.dirty[0] & /*databaseLoaded*/ 16384 | $$self.$$.dirty[1] & /*database*/ 256) /* eslint-enable no-unused-vars */ //\n        // Set or update the favorites emojis\n        //\n        {\n            async function updateDefaultFavoriteEmojis() {\n                $$invalidate(46, defaultFavoriteEmojis = (await Promise.all($be550d328187eb94$var$MOST_COMMONLY_USED_EMOJI.map((unicode)=>database.getEmojiByUnicodeOrName(unicode)))).filter(Boolean)); // filter because in Jest tests we don't have all the emoji in the DB\n            }\n            if (databaseLoaded) /* no await */ updateDefaultFavoriteEmojis();\n        }\n        if ($$self.$$.dirty[0] & /*databaseLoaded*/ 16384 | $$self.$$.dirty[1] & /*database, numColumns, defaultFavoriteEmojis*/ 98560) {\n            async function updateFavorites() {\n                const dbFavorites = await database.getTopFavoriteEmoji(numColumns);\n                const favorites = await summarizeEmojis($be550d328187eb94$var$uniqBy([\n                    ...dbFavorites,\n                    ...defaultFavoriteEmojis\n                ], (_)=>_.unicode || _.name).slice(0, numColumns));\n                $$invalidate(10, currentFavorites = favorites);\n            }\n            if (databaseLoaded && defaultFavoriteEmojis) /* no await */ updateFavorites();\n        }\n        if ($$self.$$.dirty[0] & /*currentEmojis, tabpanelElement*/ 10 | $$self.$$.dirty[1] & /*emojiVersion*/ 4096) // Some emojis have their ligatures rendered as two or more consecutive emojis\n        // We want to treat these the same as unsupported emojis, so we compare their\n        // widths against the baseline widths and remove them as necessary\n        {\n            const zwjEmojisToCheck = currentEmojis.filter((emoji)=>emoji.unicode).filter((emoji)=>$be550d328187eb94$var$hasZwj(emoji) && !$be550d328187eb94$var$supportedZwjEmojis.has(emoji.unicode)); // filter custom emoji\n            if (!emojiVersion && zwjEmojisToCheck.length) // render now, check their length later\n            $be550d328187eb94$var$rAF(()=>checkZwjSupportAndUpdate(zwjEmojisToCheck));\n            else {\n                $$invalidate(1, currentEmojis = emojiVersion ? currentEmojis : currentEmojis.filter(isZwjSupported));\n                // Reset scroll top to 0 when emojis change\n                $be550d328187eb94$var$rAF(()=>$be550d328187eb94$var$resetScrollTopIfPossible(tabpanelElement));\n            }\n        }\n        $$self.$$.dirty[0], $$self.$$.dirty[1];\n        if ($$self.$$.dirty[0] & /*searchMode, currentEmojis*/ 18 | $$self.$$.dirty[1] & /*customCategorySorting*/ 2048) //\n        // Derive currentEmojisWithCategories from currentEmojis. This is always done even if there\n        // are no categories, because it's just easier to code the HTML this way.\n        //\n        {\n            function calculateCurrentEmojisWithCategories() {\n                if (searchMode) return [\n                    {\n                        category: \"\",\n                        emojis: currentEmojis\n                    }\n                ];\n                const categoriesToEmoji = new Map();\n                for (const emoji of currentEmojis){\n                    const category = emoji.category || \"\";\n                    let emojis = categoriesToEmoji.get(category);\n                    if (!emojis) {\n                        emojis = [];\n                        categoriesToEmoji.set(category, emojis);\n                    }\n                    emojis.push(emoji);\n                }\n                return [\n                    ...categoriesToEmoji.entries()\n                ].map(([category, emojis])=>({\n                        category: category,\n                        emojis: emojis\n                    })).sort((a, b)=>customCategorySorting(a.category, b.category));\n            }\n            // eslint-disable-next-line no-unused-vars\n            $$invalidate(15, currentEmojisWithCategories = calculateCurrentEmojisWithCategories());\n        }\n        if ($$self.$$.dirty[0] & /*activeSearchItem, currentEmojis*/ 34) //\n        // Handle active search item (i.e. pressing up or down while searching)\n        //\n        /* eslint-disable no-unused-vars */ $$invalidate(26, activeSearchItemId = activeSearchItem !== -1 && currentEmojis[activeSearchItem].id);\n        if ($$self.$$.dirty[0] & /*skinTonePickerExpanded, skinToneDropdown*/ 192) {\n            if (skinTonePickerExpanded) skinToneDropdown.addEventListener(\"transitionend\", ()=>{\n                $$invalidate(19, skinTonePickerExpandedAfterAnimation = true); // eslint-disable-line no-unused-vars\n            }, {\n                once: true\n            });\n            else $$invalidate(19, skinTonePickerExpandedAfterAnimation = false); // eslint-disable-line no-unused-vars\n        }\n    };\n    return [\n        i18n,\n        currentEmojis,\n        rawSearchText,\n        tabpanelElement,\n        searchMode,\n        activeSearchItem,\n        skinTonePickerExpanded,\n        skinToneDropdown,\n        currentSkinTone,\n        skinTones,\n        currentFavorites,\n        currentGroupIndex,\n        groups$1,\n        currentGroup,\n        databaseLoaded,\n        currentEmojisWithCategories,\n        rootElement,\n        baselineEmoji,\n        message,\n        skinTonePickerExpandedAfterAnimation,\n        activeSkinTone,\n        skinToneButtonText,\n        pickerStyle,\n        skinToneButtonLabel,\n        isRtl,\n        scrollbarWidth,\n        activeSearchItemId,\n        unicodeWithSkin,\n        labelWithSkin,\n        calculateEmojiGridStyle,\n        onSearchKeydown,\n        onNavClick,\n        onNavKeydown,\n        onEmojiClick,\n        onSkinToneOptionsClick,\n        onClickSkinToneButton,\n        onSkinToneOptionsKeydown,\n        onSkinToneOptionsKeyup,\n        onSkinToneOptionsFocusOut,\n        database,\n        skinToneEmoji,\n        customEmoji,\n        customCategorySorting,\n        emojiVersion,\n        initialLoad,\n        searchText,\n        defaultFavoriteEmojis,\n        numColumns,\n        input_input_handler,\n        div3_binding,\n        click_handler,\n        div10_binding,\n        button1_binding,\n        section_binding\n    ];\n}\nclass $be550d328187eb94$var$Picker extends $be550d328187eb94$var$SvelteComponent {\n    constructor(options){\n        super();\n        $be550d328187eb94$var$init(this, options, $be550d328187eb94$var$instance, $be550d328187eb94$var$create_fragment, $be550d328187eb94$var$safe_not_equal, {\n            skinToneEmoji: 40,\n            i18n: 0,\n            database: 39,\n            customEmoji: 41,\n            customCategorySorting: 42,\n            emojiVersion: 43\n        }, null, [\n            -1,\n            -1,\n            -1\n        ]);\n    }\n}\nconst $be550d328187eb94$var$DEFAULT_DATA_SOURCE = \"https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json\";\nconst $be550d328187eb94$var$DEFAULT_LOCALE = \"en\";\nvar $be550d328187eb94$var$enI18n = {\n    categoriesLabel: \"Categories\",\n    emojiUnsupportedMessage: \"Your browser does not support color emoji.\",\n    favoritesLabel: \"Favorites\",\n    loadingMessage: \"Loading…\",\n    networkErrorMessage: \"Could not load emoji.\",\n    regionLabel: \"Emoji picker\",\n    searchDescription: \"When search results are available, press up or down to select and enter to choose.\",\n    searchLabel: \"Search\",\n    searchResultsLabel: \"Search results\",\n    skinToneDescription: \"When expanded, press up or down to select and enter to choose.\",\n    skinToneLabel: \"Choose a skin tone (currently {skinTone})\",\n    skinTonesLabel: \"Skin tones\",\n    skinTones: [\n        \"Default\",\n        \"Light\",\n        \"Medium-Light\",\n        \"Medium\",\n        \"Medium-Dark\",\n        \"Dark\"\n    ],\n    categories: {\n        custom: \"Custom\",\n        \"smileys-emotion\": \"Smileys and emoticons\",\n        \"people-body\": \"People and body\",\n        \"animals-nature\": \"Animals and nature\",\n        \"food-drink\": \"Food and drink\",\n        \"travel-places\": \"Travel and places\",\n        activities: \"Activities\",\n        objects: \"Objects\",\n        symbols: \"Symbols\",\n        flags: \"Flags\"\n    }\n};\nconst $be550d328187eb94$var$PROPS = [\n    \"customEmoji\",\n    \"customCategorySorting\",\n    \"database\",\n    \"dataSource\",\n    \"i18n\",\n    \"locale\",\n    \"skinToneEmoji\",\n    \"emojiVersion\"\n];\n// Styles injected ourselves, so we can declare the FONT_FAMILY variable in one place\nconst $be550d328187eb94$var$EXTRA_STYLES = `:host{--emoji-font-family:${$be550d328187eb94$var$FONT_FAMILY}}`;\nclass $be550d328187eb94$export$2e2bcd8739ae039 extends HTMLElement {\n    constructor(props){\n        super();\n        this.attachShadow({\n            mode: \"open\"\n        });\n        const style = document.createElement(\"style\");\n        style.textContent = \":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}\" + $be550d328187eb94$var$EXTRA_STYLES;\n        this.shadowRoot.appendChild(style);\n        this._ctx = {\n            // Set defaults\n            locale: $be550d328187eb94$var$DEFAULT_LOCALE,\n            dataSource: $be550d328187eb94$var$DEFAULT_DATA_SOURCE,\n            skinToneEmoji: $be550d328187eb94$var$DEFAULT_SKIN_TONE_EMOJI,\n            customCategorySorting: $be550d328187eb94$var$DEFAULT_CATEGORY_SORTING,\n            customEmoji: null,\n            i18n: $be550d328187eb94$var$enI18n,\n            emojiVersion: null,\n            ...props\n        };\n        // Handle properties set before the element was upgraded\n        for (const prop of $be550d328187eb94$var$PROPS)if (prop !== \"database\" && Object.prototype.hasOwnProperty.call(this, prop)) {\n            this._ctx[prop] = this[prop];\n            delete this[prop];\n        }\n        this._dbFlush(); // wait for a flush before creating the db, in case the user calls e.g. a setter or setAttribute\n    }\n    connectedCallback() {\n        // The _cmp may be defined if the component was immediately disconnected and then reconnected. In that case,\n        // do nothing (preserve the state)\n        if (!this._cmp) this._cmp = new $be550d328187eb94$var$Picker({\n            target: this.shadowRoot,\n            props: this._ctx\n        });\n    }\n    disconnectedCallback() {\n        // Check in a microtask if the element is still connected. If so, treat this as a \"move\" rather than a disconnect\n        // Inspired by Vue: https://vuejs.org/guide/extras/web-components.html#building-custom-elements-with-vue\n        Promise.resolve().then(()=>{\n            // this._cmp may be defined if connect-disconnect-connect-disconnect occurs synchronously\n            if (!this.isConnected && this._cmp) {\n                this._cmp.$destroy();\n                this._cmp = undefined;\n                const { database: database } = this._ctx;\n                database.close()// only happens if the database failed to load in the first place, so we don't care\n                .catch((err)=>console.error(err));\n            }\n        });\n    }\n    static get observedAttributes() {\n        return [\n            \"locale\",\n            \"data-source\",\n            \"skin-tone-emoji\",\n            \"emoji-version\"\n        ] // complex objects aren't supported, also use kebab-case\n        ;\n    }\n    attributeChangedCallback(attrName, oldValue, newValue) {\n        this._set(// convert from kebab-case to camelcase\n        // see https://github.com/sveltejs/svelte/issues/3852#issuecomment-665037015\n        attrName.replace(/-([a-z])/g, (_, up)=>up.toUpperCase()), // convert string attribute to float if necessary\n        attrName === \"emoji-version\" ? parseFloat(newValue) : newValue);\n    }\n    _set(prop, newValue) {\n        this._ctx[prop] = newValue;\n        if (this._cmp) this._cmp.$set({\n            [prop]: newValue\n        });\n        if ([\n            \"locale\",\n            \"dataSource\"\n        ].includes(prop)) this._dbFlush();\n    }\n    _dbCreate() {\n        const { locale: locale, dataSource: dataSource, database: database } = this._ctx;\n        // only create a new database if we really need to\n        if (!database || database.locale !== locale || database.dataSource !== dataSource) this._set(\"database\", new (0, $f19b912d87716459$export$2e2bcd8739ae039)({\n            locale: locale,\n            dataSource: dataSource\n        }));\n    }\n    // Update the Database in one microtask if the locale/dataSource change. We do one microtask\n    // so we don't create two Databases if e.g. both the locale and the dataSource change\n    _dbFlush() {\n        Promise.resolve().then(()=>this._dbCreate());\n    }\n}\nconst $be550d328187eb94$var$definitions = {};\nfor (const prop of $be550d328187eb94$var$PROPS)$be550d328187eb94$var$definitions[prop] = {\n    get () {\n        if (prop === \"database\") // in rare cases, the microtask may not be flushed yet, so we need to instantiate the DB\n        // now if the user is asking for it\n        this._dbCreate();\n        return this._ctx[prop];\n    },\n    set (val) {\n        if (prop === \"database\") throw new Error(\"database is read-only\");\n        this._set(prop, val);\n    }\n};\nObject.defineProperties($be550d328187eb94$export$2e2bcd8739ae039.prototype, $be550d328187eb94$var$definitions);\n/* istanbul ignore else */ if (!customElements.get(\"emoji-picker\")) customElements.define(\"emoji-picker\", $be550d328187eb94$export$2e2bcd8739ae039);\n\n\n\n\n\nconst $dc44ecbcc97d7d88$var$storage = localStorage;\nfunction $dc44ecbcc97d7d88$export$825479ec1107c193(name, data) {\n    $dc44ecbcc97d7d88$var$storage.setItem(name, JSON.stringify(data));\n}\nfunction $dc44ecbcc97d7d88$export$fbd9b57a66480737(name) {\n    const data = JSON.parse($dc44ecbcc97d7d88$var$storage[name]);\n    return data;\n}\nfunction $dc44ecbcc97d7d88$export$35643b50c8531956(name) {\n    $dc44ecbcc97d7d88$var$storage.removeItem(name);\n}\n\n\n\n\n\nlet $b786ff3f49963c47$var$indexMessage = 0;\nfunction $b786ff3f49963c47$export$e5dbd33415777465(arrayHistoryMessages, limitCount) {\n    for(let i = 0; i < limitCount; i++){\n        if ($b786ff3f49963c47$var$indexMessage >= arrayHistoryMessages.length) {\n            (0, $710d9f988580cc01$export$4b08aed5f1ec6952).dialogWindow.removeEventListener(\"scroll\", $b786ff3f49963c47$export$d03dd790bc7330e0);\n            $b786ff3f49963c47$var$indexMessage = 0;\n            return;\n        }\n        (0, $b5c6963edcfcb4e9$export$16fdb433d434f08)(arrayHistoryMessages[$b786ff3f49963c47$var$indexMessage], \"prepend\");\n        $b786ff3f49963c47$var$indexMessage++;\n    }\n}\nfunction $b786ff3f49963c47$export$d03dd790bc7330e0() {\n    // начальная высота\n    let prevScrollHeight = (0, $710d9f988580cc01$export$4b08aed5f1ec6952).dialogWindow.scrollHeight;\n    if ((0, $710d9f988580cc01$export$4b08aed5f1ec6952).dialogWindow.scrollTop === 0) {\n        $b786ff3f49963c47$export$e5dbd33415777465((0, $dc44ecbcc97d7d88$export$fbd9b57a66480737)(\"messages\"), 20);\n        // Рассчитываем разницу в высоте контейнера после подгрузки сообщений\n        let newScrollHeight = (0, $710d9f988580cc01$export$4b08aed5f1ec6952).dialogWindow.scrollHeight;\n        let scrollDiff = newScrollHeight - prevScrollHeight;\n        // Устанавливаем новую прокрутку для сохранения позиции отображаемого контента\n        (0, $710d9f988580cc01$export$4b08aed5f1ec6952).dialogWindow.scrollTop = scrollDiff;\n    }\n}\nfunction $b786ff3f49963c47$export$9bc5d29170ade697() {\n    $b786ff3f49963c47$var$indexMessage = 0;\n}\n\n\n// Для webSocket\nlet $3fba0bda95caa784$var$socket;\n$3fba0bda95caa784$var$getConfirmAuthorization();\n// Обработка клика ПОЛУЧИТЬ КОД\n(0, $710d9f988580cc01$export$c3905cc64f203472).btnGiveCode.addEventListener(\"click\", $3fba0bda95caa784$var$getCode);\n// Обработка поля ввода Получить код\n(0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal.addEventListener(\"input\", $3fba0bda95caa784$var$actionInputGetCode);\n// Обработка кнопки ВОЙТИ\n(0, $710d9f988580cc01$export$c3905cc64f203472).btnSingIn.addEventListener(\"click\", ()=>{\n    if ((0, $b5c6963edcfcb4e9$export$e8526dd1ace08941)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal)) return;\n    (0, $de88f8a217b692c9$export$110700823644f4a6)(\"token\", `${(0, $b5c6963edcfcb4e9$export$9290f16dbdfc1540)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal)}`);\n    $3fba0bda95caa784$var$getConfirmAuthorization();\n});\n// Обработка кнопки Выйти\n(0, $710d9f988580cc01$export$4b08aed5f1ec6952).btnSignOut.addEventListener(\"click\", $3fba0bda95caa784$var$leaveTheChat);\n// Слушатель кнопки настройки\n(0, $710d9f988580cc01$export$4b08aed5f1ec6952).btnSettings.addEventListener(\"click\", (0, $65a319e28abc9d7a$export$d7e8d4d4450c819c));\n// Обработка поля ввода в чате\n(0, $710d9f988580cc01$export$4b08aed5f1ec6952).enterFieldChat.addEventListener(\"input\", ()=>{\n    (0, $b5c6963edcfcb4e9$export$e567f31d54438c5d)((0, $710d9f988580cc01$export$4b08aed5f1ec6952).enterFieldChat, (0, $710d9f988580cc01$export$4b08aed5f1ec6952).btnSend, (0, $710d9f988580cc01$export$fde44257752a9f60).srcBtnActive, (0, $710d9f988580cc01$export$fde44257752a9f60).srcBtnDisabled);\n    (0, $710d9f988580cc01$export$a3574df893ffa88d).value = (0, $b5c6963edcfcb4e9$export$9290f16dbdfc1540)((0, $710d9f988580cc01$export$4b08aed5f1ec6952).enterFieldChat);\n});\n//Слушатель кнопки отправить сообщение\n(0, $710d9f988580cc01$export$4b08aed5f1ec6952).form.addEventListener(\"submit\", $3fba0bda95caa784$var$sendingMessage);\n//Слушатель клавиши enter отправить сообщение\ndocument.addEventListener(\"keydown\", (event)=>{\n    if (event.code === \"Enter\" && !event.ctrlKey && !event.shiftKey) $3fba0bda95caa784$var$sendingMessage(event);\n});\n// Обработка клика по emodji\n(0, $710d9f988580cc01$export$4b08aed5f1ec6952).emoji.addEventListener(\"emoji-click\", (event)=>{\n    (0, $710d9f988580cc01$export$4b08aed5f1ec6952).enterFieldChat.textContent += event.detail.unicode;\n    (0, $b5c6963edcfcb4e9$export$e567f31d54438c5d)((0, $710d9f988580cc01$export$4b08aed5f1ec6952).enterFieldChat, (0, $710d9f988580cc01$export$4b08aed5f1ec6952).btnSend, (0, $710d9f988580cc01$export$fde44257752a9f60).srcBtnActive, (0, $710d9f988580cc01$export$fde44257752a9f60).srcBtnDisabled);\n    const range = document.createRange();\n    const selection = window.getSelection();\n    range.selectNodeContents((0, $710d9f988580cc01$export$4b08aed5f1ec6952).enterFieldChat);\n    range.collapse(false);\n    selection.removeAllRanges();\n    selection.addRange(range);\n    (0, $710d9f988580cc01$export$a3574df893ffa88d).value = (0, $b5c6963edcfcb4e9$export$9290f16dbdfc1540)((0, $710d9f988580cc01$export$4b08aed5f1ec6952).enterFieldChat);\n});\n// Событие на скролл диалога чата\n(0, $710d9f988580cc01$export$4b08aed5f1ec6952).dialogWindow.addEventListener(\"scroll\", (0, $b786ff3f49963c47$export$d03dd790bc7330e0));\n// ==========================ФУНКЦИИ============================\n// =============================================================\n//Проверка на авторизацию при запуске приложения\nfunction $3fba0bda95caa784$var$chekAuthorization() {\n    if ((0, $de88f8a217b692c9$export$4be65e66cfa2648a)(\"token\")) {\n        (0, $65a319e28abc9d7a$export$af4939467128bcd0)();\n        (0, $b786ff3f49963c47$export$9bc5d29170ade697)();\n        $3fba0bda95caa784$var$connectionWebSocket();\n        (0, $710d9f988580cc01$export$c3905cc64f203472).modal.addEventListener(\"click\", (0, $65a319e28abc9d7a$export$180aadb5b333118e));\n        (0, $65a319e28abc9d7a$export$69bf191433722f78)((0, $710d9f988580cc01$export$a0b86ff86acae638).settings.title, (0, $710d9f988580cc01$export$a0b86ff86acae638).settings.inputTitle, (0, $710d9f988580cc01$export$a0b86ff86acae638).settings.placeholder);\n        (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnGiveCode, \"hide\");\n        (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnEnterCode, \"hide\");\n        (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnSingIn, \"hide\");\n        (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnRename, \"show\");\n        // Обработка поля input в смене имени\n        (0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal.addEventListener(\"input\", $3fba0bda95caa784$var$actionInputRename);\n        // Обработка кнопки сменить имя\n        (0, $710d9f988580cc01$export$c3905cc64f203472).btnRename.addEventListener(\"click\", $3fba0bda95caa784$var$renameNickname);\n        // Событие на скролл диалога чата\n        (0, $710d9f988580cc01$export$4b08aed5f1ec6952).dialogWindow.addEventListener(\"scroll\", (0, $b786ff3f49963c47$export$d03dd790bc7330e0));\n        (0, $b5c6963edcfcb4e9$export$bbbb45d5eb700a7f)((0, $de88f8a217b692c9$export$4be65e66cfa2648a)(\"nickname\"));\n    } else {\n        (0, $de88f8a217b692c9$export$6a874b7a74007875)(\"nickname\");\n        (0, $de88f8a217b692c9$export$6a874b7a74007875)(\"email\");\n        (0, $dc44ecbcc97d7d88$export$35643b50c8531956)(\"messages\");\n        (0, $65a319e28abc9d7a$export$69bf191433722f78)((0, $710d9f988580cc01$export$a0b86ff86acae638).authorization.title, (0, $710d9f988580cc01$export$a0b86ff86acae638).authorization.inputTitle, (0, $710d9f988580cc01$export$a0b86ff86acae638).authorization.placeholder);\n        (0, $65a319e28abc9d7a$export$d7e8d4d4450c819c)();\n        (0, $710d9f988580cc01$export$c3905cc64f203472).modal.removeEventListener(\"click\", (0, $65a319e28abc9d7a$export$180aadb5b333118e));\n        (0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal.removeEventListener(\"input\", $3fba0bda95caa784$var$actionInputRename);\n        (0, $710d9f988580cc01$export$c3905cc64f203472).btnRename.removeEventListener(\"click\", $3fba0bda95caa784$var$renameNickname);\n        (0, $710d9f988580cc01$export$4b08aed5f1ec6952).dialogWindow.removeEventListener(\"scroll\", (0, $b786ff3f49963c47$export$d03dd790bc7330e0));\n        // Обработка кнопки ввести код\n        (0, $710d9f988580cc01$export$c3905cc64f203472).btnEnterCode.addEventListener(\"click\", $3fba0bda95caa784$var$actionBtnEnterCode);\n        (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnRename, \"hide\");\n    }\n}\n// ввести код\nfunction $3fba0bda95caa784$var$actionBtnEnterCode() {\n    (0, $b5c6963edcfcb4e9$export$46ddbcfb297b2ac1)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal);\n    (0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal.removeEventListener(\"input\", $3fba0bda95caa784$var$actionInputGetCode);\n    (0, $b5c6963edcfcb4e9$export$4ee5d0f98c2d1c9e)();\n    (0, $65a319e28abc9d7a$export$69bf191433722f78)((0, $710d9f988580cc01$export$a0b86ff86acae638).confirmation.title, (0, $710d9f988580cc01$export$a0b86ff86acae638).confirmation.inputTitle, (0, $710d9f988580cc01$export$a0b86ff86acae638).confirmation.placeholder);\n    (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnGiveCode, \"hide\");\n    (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnEnterCode, \"hide\");\n    (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnSingIn, \"show\");\n    (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnBack, \"show\");\n    (0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal.addEventListener(\"input\", $3fba0bda95caa784$var$actionInputSignIn);\n    (0, $710d9f988580cc01$export$c3905cc64f203472).btnBack.addEventListener(\"click\", $3fba0bda95caa784$var$clickBtnBack);\n}\n// Получить код\nfunction $3fba0bda95caa784$var$getCode() {\n    if ((0, $b5c6963edcfcb4e9$export$e8526dd1ace08941)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal)) return;\n    (0, $5cff75d90e5947a4$export$631adbe1e95fef13)((0, $5cff75d90e5947a4$export$61abde59b50deb8e).urlToken, (0, $5cff75d90e5947a4$export$6e7a69411e551f0e).post, null, {\n        email: (0, $b5c6963edcfcb4e9$export$9290f16dbdfc1540)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal)\n    }).then((answer)=>{\n        if (answer.status === \"true\") {\n            (0, $b5c6963edcfcb4e9$export$46ddbcfb297b2ac1)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal);\n            (0, $b5c6963edcfcb4e9$export$ab66e971ce242cbb)((0, $710d9f988580cc01$export$c3905cc64f203472).btnGiveCode, \"disabled\");\n            (0, $b5c6963edcfcb4e9$export$4ee5d0f98c2d1c9e)(\"Авторизация\", \"ok\");\n        } else if (answer.status === \"false\") {\n            (0, $b5c6963edcfcb4e9$export$ab66e971ce242cbb)((0, $710d9f988580cc01$export$c3905cc64f203472).btnGiveCode, \"disabled\");\n            (0, $b5c6963edcfcb4e9$export$4ee5d0f98c2d1c9e)(\"Авторизация\", \"error\");\n        }\n    }).catch((error)=>{\n        console.log(`Error: ${error.message}`);\n        (0, $b5c6963edcfcb4e9$export$4ee5d0f98c2d1c9e)(\"Авторизация\", \"error\");\n    });\n}\n// Действия при вводе в input авторизации ПОЛУЧИТЬ КОД\nfunction $3fba0bda95caa784$var$actionInputGetCode() {\n    const valueField = (0, $b5c6963edcfcb4e9$export$9290f16dbdfc1540)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal);\n    if ((0, $b5c6963edcfcb4e9$export$18148d12c805c5b0)(valueField) && !(0, $b5c6963edcfcb4e9$export$a1c0bdd34d25acfd)((0, $b5c6963edcfcb4e9$export$9290f16dbdfc1540)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal))) (0, $b5c6963edcfcb4e9$export$ab66e971ce242cbb)((0, $710d9f988580cc01$export$c3905cc64f203472).btnGiveCode, \"active\");\n    else (0, $b5c6963edcfcb4e9$export$ab66e971ce242cbb)((0, $710d9f988580cc01$export$c3905cc64f203472).btnGiveCode, \"disabled\");\n}\n// Получить подтверждение авторизации кнопка ВОЙТИ\nfunction $3fba0bda95caa784$var$getConfirmAuthorization() {\n    (0, $5cff75d90e5947a4$export$631adbe1e95fef13)((0, $5cff75d90e5947a4$export$61abde59b50deb8e).urlDataProfile, (0, $5cff75d90e5947a4$export$6e7a69411e551f0e).get, true).then((answer)=>{\n        if (answer.status === \"true\") {\n            console.log(answer);\n            (0, $b5c6963edcfcb4e9$export$46ddbcfb297b2ac1)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal);\n            (0, $b5c6963edcfcb4e9$export$ab66e971ce242cbb)((0, $710d9f988580cc01$export$c3905cc64f203472).btnSingIn, \"disabled\");\n            (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnBack, \"hide\");\n            (0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal.removeEventListener(\"input\", $3fba0bda95caa784$var$actionInputSignIn);\n            (0, $de88f8a217b692c9$export$110700823644f4a6)(\"nickname\", answer.answer.name);\n            (0, $de88f8a217b692c9$export$110700823644f4a6)(\"email\", answer.answer.email);\n            (0, $b5c6963edcfcb4e9$export$bbbb45d5eb700a7f)((0, $de88f8a217b692c9$export$4be65e66cfa2648a)(\"nickname\"));\n            $3fba0bda95caa784$var$chekAuthorization();\n            (0, $710d9f988580cc01$export$c3905cc64f203472).btnEnterCode.removeEventListener(\"click\", $3fba0bda95caa784$var$actionBtnEnterCode);\n            (0, $710d9f988580cc01$export$c3905cc64f203472).btnGiveCode.removeEventListener(\"click\", $3fba0bda95caa784$var$getCode);\n            (0, $b5c6963edcfcb4e9$export$4ee5d0f98c2d1c9e)();\n        } else if (answer.status === \"false\") {\n            console.log(answer);\n            (0, $de88f8a217b692c9$export$6a874b7a74007875)(\"token\");\n            $3fba0bda95caa784$var$chekAuthorization();\n            (0, $b5c6963edcfcb4e9$export$4ee5d0f98c2d1c9e)();\n            return;\n        }\n    }).catch((error)=>{\n        (0, $b5c6963edcfcb4e9$export$4ee5d0f98c2d1c9e)((0, $710d9f988580cc01$export$a0b86ff86acae638).confirmation.title, \"error\");\n        console.log(`Error!!!!: ${error.message}`);\n    });\n}\n// Действия при вводе в input подтверждения поля ВОЙТИ\nfunction $3fba0bda95caa784$var$actionInputSignIn() {\n    if ((0, $b5c6963edcfcb4e9$export$e8526dd1ace08941)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal) || (0, $b5c6963edcfcb4e9$export$a1c0bdd34d25acfd)((0, $b5c6963edcfcb4e9$export$9290f16dbdfc1540)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal))) (0, $b5c6963edcfcb4e9$export$ab66e971ce242cbb)((0, $710d9f988580cc01$export$c3905cc64f203472).btnSingIn, \"disabled\");\n    else (0, $b5c6963edcfcb4e9$export$ab66e971ce242cbb)((0, $710d9f988580cc01$export$c3905cc64f203472).btnSingIn, \"active\");\n}\n// Смена имени\nfunction $3fba0bda95caa784$var$renameNickname() {\n    if ((0, $b5c6963edcfcb4e9$export$e8526dd1ace08941)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal)) return;\n    (0, $5cff75d90e5947a4$export$631adbe1e95fef13)((0, $5cff75d90e5947a4$export$61abde59b50deb8e).urlToken, (0, $5cff75d90e5947a4$export$6e7a69411e551f0e).patch, true, {\n        name: (0, $b5c6963edcfcb4e9$export$9290f16dbdfc1540)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal)\n    }).then((result)=>{\n        (0, $de88f8a217b692c9$export$110700823644f4a6)(\"nickname\", result.answer.name);\n        (0, $b5c6963edcfcb4e9$export$bbbb45d5eb700a7f)((0, $de88f8a217b692c9$export$4be65e66cfa2648a)(\"nickname\"));\n        (0, $710d9f988580cc01$export$c3905cc64f203472).notificationName.textContent = (0, $de88f8a217b692c9$export$4be65e66cfa2648a)(\"nickname\");\n        $3fba0bda95caa784$var$socket.close(1000, \"работа закончена\");\n        $3fba0bda95caa784$var$connectionWebSocket();\n        (0, $b5c6963edcfcb4e9$export$46ddbcfb297b2ac1)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal);\n        (0, $b5c6963edcfcb4e9$export$e567f31d54438c5d)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal, (0, $710d9f988580cc01$export$c3905cc64f203472).btnRename, (0, $710d9f988580cc01$export$fde44257752a9f60).srcBtnRenameActive, (0, $710d9f988580cc01$export$fde44257752a9f60).srcBtnRenameDisabled);\n        (0, $b5c6963edcfcb4e9$export$4ee5d0f98c2d1c9e)(\"Настройки\", \"ok\");\n        setTimeout(()=>{\n            (0, $b5c6963edcfcb4e9$export$4ee5d0f98c2d1c9e)();\n        }, 2000);\n    }).catch((error)=>{\n        console.log(error);\n        (0, $b5c6963edcfcb4e9$export$4ee5d0f98c2d1c9e)(\"Настройки\", \"error\");\n    });\n}\n// Действия при вводе в input СМЕНЫ ИМЕНИ\nfunction $3fba0bda95caa784$var$actionInputRename() {\n    (0, $b5c6963edcfcb4e9$export$e567f31d54438c5d)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal, (0, $710d9f988580cc01$export$c3905cc64f203472).btnRename, (0, $710d9f988580cc01$export$fde44257752a9f60).srcBtnRenameActive, (0, $710d9f988580cc01$export$fde44257752a9f60).srcBtnRenameDisabled);\n}\n// Выход из чата\nfunction $3fba0bda95caa784$var$leaveTheChat() {\n    $3fba0bda95caa784$var$socket.close(1000, \"работа закончена\");\n    (0, $710d9f988580cc01$export$4b08aed5f1ec6952).dialogWindow.removeEventListener(\"scroll\", (0, $b786ff3f49963c47$export$d03dd790bc7330e0));\n    (0, $de88f8a217b692c9$export$6a874b7a74007875)(\"token\");\n    (0, $de88f8a217b692c9$export$6a874b7a74007875)(\"nickname\");\n    (0, $de88f8a217b692c9$export$6a874b7a74007875)(\"email\");\n    (0, $dc44ecbcc97d7d88$export$35643b50c8531956)(\"messages\");\n    (0, $b5c6963edcfcb4e9$export$eaaea95aa0b1ae68)();\n    $3fba0bda95caa784$var$chekAuthorization();\n    (0, $65a319e28abc9d7a$export$69bf191433722f78)((0, $710d9f988580cc01$export$a0b86ff86acae638).authorization.title, (0, $710d9f988580cc01$export$a0b86ff86acae638).authorization.inputTitle, (0, $710d9f988580cc01$export$a0b86ff86acae638).authorization.placeholder);\n    (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnGiveCode, \"show\");\n    (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnEnterCode, \"show\");\n    (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnSingIn, \"hide\");\n    (0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal.addEventListener(\"input\", $3fba0bda95caa784$var$actionInputGetCode);\n    (0, $710d9f988580cc01$export$c3905cc64f203472).btnGiveCode.addEventListener(\"click\", $3fba0bda95caa784$var$getCode);\n}\n// Отправка сообщения\nfunction $3fba0bda95caa784$var$sendingMessage(event) {\n    event.preventDefault();\n    if ((0, $b5c6963edcfcb4e9$export$e8526dd1ace08941)((0, $710d9f988580cc01$export$4b08aed5f1ec6952).enterFieldChat)) return;\n    $3fba0bda95caa784$var$socket.send(JSON.stringify({\n        text: $3fba0bda95caa784$var$getValueMessageForm()\n    }));\n    (0, $b5c6963edcfcb4e9$export$46ddbcfb297b2ac1)((0, $710d9f988580cc01$export$4b08aed5f1ec6952).enterFieldChat);\n    (0, $b5c6963edcfcb4e9$export$e567f31d54438c5d)((0, $710d9f988580cc01$export$4b08aed5f1ec6952).enterFieldChat, (0, $710d9f988580cc01$export$4b08aed5f1ec6952).btnSend, (0, $710d9f988580cc01$export$fde44257752a9f60).srcBtnActive, (0, $710d9f988580cc01$export$fde44257752a9f60).srcBtnDisabled);\n}\n// Данные(текст сообщения) из формы\nfunction $3fba0bda95caa784$var$getValueMessageForm() {\n    const formData = new FormData((0, $710d9f988580cc01$export$4b08aed5f1ec6952).form);\n    return formData.get(\"message\");\n}\n// Загрузка истории сообщений\nfunction $3fba0bda95caa784$var$getHistoryMessages() {\n    (0, $5cff75d90e5947a4$export$631adbe1e95fef13)((0, $5cff75d90e5947a4$export$61abde59b50deb8e).urlHistoryMessages, (0, $5cff75d90e5947a4$export$6e7a69411e551f0e).get, true).then((result)=>result.answer.messages).then((messages)=>{\n        (0, $dc44ecbcc97d7d88$export$825479ec1107c193)(\"messages\", messages);\n        (0, $b786ff3f49963c47$export$e5dbd33415777465)((0, $dc44ecbcc97d7d88$export$fbd9b57a66480737)(\"messages\"), 20);\n        (0, $b5c6963edcfcb4e9$export$1f118464b19479f)();\n    });\n}\n// Установка соединения с WebSocket\nfunction $3fba0bda95caa784$var$connectionWebSocket() {\n    $3fba0bda95caa784$var$socket = new WebSocket(`wss://edu.strada.one/websockets?${(0, $de88f8a217b692c9$export$4be65e66cfa2648a)(\"token\")}`);\n    $3fba0bda95caa784$var$socket.onopen = function(e) {\n        if ($3fba0bda95caa784$var$socket.readyState === 0) {\n            (0, $b5c6963edcfcb4e9$export$842a2c6e548c1a51)(\"none\");\n            alert(\"соединение не установлено!\");\n        } else if ($3fba0bda95caa784$var$socket.readyState === 1) {\n            console.log(\"[open] Соединение установлено\");\n            $3fba0bda95caa784$var$getHistoryMessages();\n        }\n    };\n    $3fba0bda95caa784$var$socket.onmessage = function(event) {\n        const serverAnswer = JSON.parse(event.data);\n        (0, $b5c6963edcfcb4e9$export$16fdb433d434f08)(serverAnswer, \"append\");\n        (0, $b5c6963edcfcb4e9$export$1f118464b19479f)();\n    };\n    $3fba0bda95caa784$var$socket.onclose = function(event) {\n        if (event.wasClean) {\n            console.log(`[close] Соединение закрыто чисто, код=${event.code} причина=${event.reason}`);\n            (0, $dc44ecbcc97d7d88$export$35643b50c8531956)(\"messages\");\n        } else {\n            (0, $b5c6963edcfcb4e9$export$842a2c6e548c1a51)(\"flex\");\n            console.log(\"[close] Соединение прервано\");\n            (0, $dc44ecbcc97d7d88$export$35643b50c8531956)(\"messages\");\n            $3fba0bda95caa784$var$connectionWebSocket();\n        }\n    };\n    $3fba0bda95caa784$var$socket.onerror = function(error) {\n        console.log(error);\n    };\n}\n// Клик по кнопке назад\nfunction $3fba0bda95caa784$var$clickBtnBack() {\n    (0, $b5c6963edcfcb4e9$export$ab66e971ce242cbb)((0, $710d9f988580cc01$export$c3905cc64f203472).btnGiveCode, \"disabled\");\n    (0, $b5c6963edcfcb4e9$export$ab66e971ce242cbb)((0, $710d9f988580cc01$export$c3905cc64f203472).btnSingIn, \"disabled\");\n    (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnBack, \"hide\");\n    (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnSingIn, \"hide\");\n    (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnGiveCode, \"show\");\n    (0, $b5c6963edcfcb4e9$export$cb41e6503c45b8bc)((0, $710d9f988580cc01$export$c3905cc64f203472).btnEnterCode, \"show\");\n    (0, $65a319e28abc9d7a$export$69bf191433722f78)((0, $710d9f988580cc01$export$a0b86ff86acae638).authorization.title, (0, $710d9f988580cc01$export$a0b86ff86acae638).authorization.inputTitle, (0, $710d9f988580cc01$export$a0b86ff86acae638).authorization.placeholder);\n    (0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal.addEventListener(\"input\", $3fba0bda95caa784$var$actionInputGetCode);\n    (0, $710d9f988580cc01$export$c3905cc64f203472).btnBack.removeEventListener(\"click\", $3fba0bda95caa784$var$clickBtnBack);\n    (0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal.removeEventListener(\"input\", $3fba0bda95caa784$var$actionInputSignIn);\n    (0, $b5c6963edcfcb4e9$export$46ddbcfb297b2ac1)((0, $710d9f988580cc01$export$c3905cc64f203472).enterFieldModal);\n    (0, $b5c6963edcfcb4e9$export$4ee5d0f98c2d1c9e)();\n}\n// ======================================ПРАВКИ:=========================================\n// ======================================================================================\n// Рефакторинг\n// функцию рендер\n// обработка ctrl + enter и shift + enter для переноса строки.\n// Закрытие по ESC модалок\n// Отправка запросов из мадалок по нажатию enter\n// в функции модалки сменить классы на переменные\n// LocallStorage обернуть в try catch\n// В смени имени добавить отображение текущего имени, когда открываем модалку\n// Обработать возможно тоже try catch или как-то еще получение куков, если куки пустые\n// проблема getCookie в функции getDataServer, когда получаем куки, а они пустые\n// поправить возврат из getDataServer возврат status на boolen, а не строка\n// вынести функции уведомлений в модуль модалки\n// переменные раскидать по своим модулям\n// функция лимита сообщений, поставить на аргумент не 20, а вынести в переменную\n// ===========================В РАЗРАБОТКЕ:==========================\n// ==================================================================\n// Слушатель размера экрана для кнопки emoji\nwindow.addEventListener(\"resize\", $3fba0bda95caa784$var$actionResizeWindow);\n// Действия при изменении ширины экрана\nfunction $3fba0bda95caa784$var$actionResizeWindow() {\n    const widthWindow = window.innerWidth;\n    if (widthWindow < 768) {\n        (0, $710d9f988580cc01$export$4b08aed5f1ec6952).chat.removeEventListener(\"click\", $3fba0bda95caa784$var$clickBtnEmoji);\n        (0, $710d9f988580cc01$export$4b08aed5f1ec6952).chat.addEventListener(\"click\", $3fba0bda95caa784$var$clickBtnEmoji);\n    } else if (widthWindow >= 768) {\n        (0, $710d9f988580cc01$export$4b08aed5f1ec6952).chat.removeEventListener(\"click\", $3fba0bda95caa784$var$clickBtnEmoji);\n        (0, $710d9f988580cc01$export$4b08aed5f1ec6952).emojiContainer.classList.remove((0, $710d9f988580cc01$export$6120d77db9a8f6cb).showEmoji);\n    }\n}\n// Клик по кнопке emoji\nfunction $3fba0bda95caa784$var$clickBtnEmoji(event) {\n    const elemTarget = event.target;\n    if (elemTarget === (0, $710d9f988580cc01$export$4b08aed5f1ec6952).btnEmoji) (0, $710d9f988580cc01$export$4b08aed5f1ec6952).emojiContainer.classList.toggle((0, $710d9f988580cc01$export$6120d77db9a8f6cb).showEmoji);\n    else if (elemTarget !== (0, $710d9f988580cc01$export$4b08aed5f1ec6952).btnEmoji) (0, $710d9f988580cc01$export$4b08aed5f1ec6952).emojiContainer.classList.remove((0, $710d9f988580cc01$export$6120d77db9a8f6cb).showEmoji);\n}\n\n\n//# sourceMappingURL=index.da8e334a.js.map\n","import {\r\n    UI,\r\n    UI_MODAL,\r\n    ICONS,\r\n    MODAL_TITLE,\r\n    textarea,\r\n    CLASS,\r\n} from './modules/variables.mjs';\r\nimport { setCookie, getCookie, removeCookie } from './modules/cookie.mjs';\r\nimport { URL, API_METHOD, getDataServer } from './modules/api.mjs';\r\nimport {\r\n    modalDelegationClick,\r\n    showModal,\r\n    hideModal,\r\n    renderModal,\r\n} from './modules/modal-functions.mjs';\r\nimport {\r\n    renderNicknameProfile,\r\n    scrollBottomDialog,\r\n    showHideBtn,\r\n    validateEmail,\r\n    activeDisableBtn,\r\n    clearField,\r\n    getValueField,\r\n    isEmptyField,\r\n    changeIconBtn,\r\n    showHidePreload,\r\n    showNotificationModal,\r\n    containsCyrillic,\r\n    addMessage,\r\n    clearUiDialogChat,\r\n} from './modules/help-functions.mjs';\r\nimport 'emoji-picker-element';\r\nimport { setStorage, getStorage, removeStorage } from './modules/storage.mjs';\r\nimport {\r\n    limitMessages,\r\n    virtualScrollMessages,\r\n    clearIndexMessage,\r\n} from './modules/virtualization.mjs';\r\n\r\n// Для webSocket\r\nlet socket;\r\n\r\ngetConfirmAuthorization();\r\n\r\n// Обработка клика ПОЛУЧИТЬ КОД\r\nUI_MODAL.btnGiveCode.addEventListener('click', getCode);\r\n\r\n// Обработка поля ввода Получить код\r\nUI_MODAL.enterFieldModal.addEventListener('input', actionInputGetCode);\r\n\r\n// Обработка кнопки ВОЙТИ\r\nUI_MODAL.btnSingIn.addEventListener('click', () => {\r\n    if (isEmptyField(UI_MODAL.enterFieldModal)) return;\r\n\r\n    setCookie('token', `${getValueField(UI_MODAL.enterFieldModal)}`);\r\n    getConfirmAuthorization();\r\n});\r\n\r\n// Обработка кнопки Выйти\r\nUI.btnSignOut.addEventListener('click', leaveTheChat);\r\n\r\n// Слушатель кнопки настройки\r\nUI.btnSettings.addEventListener('click', showModal);\r\n\r\n// Обработка поля ввода в чате\r\nUI.enterFieldChat.addEventListener('input', () => {\r\n    changeIconBtn(\r\n        UI.enterFieldChat,\r\n        UI.btnSend,\r\n        ICONS.srcBtnActive,\r\n        ICONS.srcBtnDisabled\r\n    );\r\n    textarea.value = getValueField(UI.enterFieldChat);\r\n});\r\n\r\n//Слушатель кнопки отправить сообщение\r\nUI.form.addEventListener('submit', sendingMessage);\r\n\r\n//Слушатель клавиши enter отправить сообщение\r\ndocument.addEventListener('keydown', (event) => {\r\n    if (event.code === 'Enter' && !event.ctrlKey && !event.shiftKey) {\r\n        sendingMessage(event);\r\n    }\r\n});\r\n\r\n// Обработка клика по emodji\r\nUI.emoji.addEventListener('emoji-click', (event) => {\r\n    UI.enterFieldChat.textContent += event.detail.unicode;\r\n    changeIconBtn(\r\n        UI.enterFieldChat,\r\n        UI.btnSend,\r\n        ICONS.srcBtnActive,\r\n        ICONS.srcBtnDisabled\r\n    );\r\n    const range = document.createRange();\r\n    const selection = window.getSelection();\r\n    range.selectNodeContents(UI.enterFieldChat);\r\n    range.collapse(false);\r\n    selection.removeAllRanges();\r\n    selection.addRange(range);\r\n    textarea.value = getValueField(UI.enterFieldChat);\r\n});\r\n\r\n// Событие на скролл диалога чата\r\nUI.dialogWindow.addEventListener('scroll', virtualScrollMessages);\r\n\r\n// ==========================ФУНКЦИИ============================\r\n// =============================================================\r\n\r\n//Проверка на авторизацию при запуске приложения\r\nfunction chekAuthorization() {\r\n    if (getCookie('token')) {\r\n        hideModal();\r\n        clearIndexMessage();\r\n        connectionWebSocket();\r\n        UI_MODAL.modal.addEventListener('click', modalDelegationClick);\r\n        renderModal(\r\n            MODAL_TITLE.settings.title,\r\n            MODAL_TITLE.settings.inputTitle,\r\n            MODAL_TITLE.settings.placeholder\r\n        );\r\n        showHideBtn(UI_MODAL.btnGiveCode, 'hide');\r\n        showHideBtn(UI_MODAL.btnEnterCode, 'hide');\r\n        showHideBtn(UI_MODAL.btnSingIn, 'hide');\r\n        showHideBtn(UI_MODAL.btnRename, 'show');\r\n        // Обработка поля input в смене имени\r\n        UI_MODAL.enterFieldModal.addEventListener('input', actionInputRename);\r\n        // Обработка кнопки сменить имя\r\n        UI_MODAL.btnRename.addEventListener('click', renameNickname);\r\n        // Событие на скролл диалога чата\r\n        UI.dialogWindow.addEventListener('scroll', virtualScrollMessages);\r\n        renderNicknameProfile(getCookie('nickname'));\r\n    } else {\r\n        removeCookie('nickname');\r\n        removeCookie('email');\r\n        removeStorage('messages');\r\n        renderModal(\r\n            MODAL_TITLE.authorization.title,\r\n            MODAL_TITLE.authorization.inputTitle,\r\n            MODAL_TITLE.authorization.placeholder\r\n        );\r\n        showModal();\r\n        UI_MODAL.modal.removeEventListener('click', modalDelegationClick);\r\n        UI_MODAL.enterFieldModal.removeEventListener(\r\n            'input',\r\n            actionInputRename\r\n        );\r\n        UI_MODAL.btnRename.removeEventListener('click', renameNickname);\r\n        UI.dialogWindow.removeEventListener('scroll', virtualScrollMessages);\r\n        // Обработка кнопки ввести код\r\n        UI_MODAL.btnEnterCode.addEventListener('click', actionBtnEnterCode);\r\n        showHideBtn(UI_MODAL.btnRename, 'hide');\r\n    }\r\n}\r\n\r\n// ввести код\r\nfunction actionBtnEnterCode() {\r\n    clearField(UI_MODAL.enterFieldModal);\r\n    UI_MODAL.enterFieldModal.removeEventListener('input', actionInputGetCode);\r\n    showNotificationModal();\r\n\r\n    renderModal(\r\n        MODAL_TITLE.confirmation.title,\r\n        MODAL_TITLE.confirmation.inputTitle,\r\n        MODAL_TITLE.confirmation.placeholder\r\n    );\r\n\r\n    showHideBtn(UI_MODAL.btnGiveCode, 'hide');\r\n    showHideBtn(UI_MODAL.btnEnterCode, 'hide');\r\n    showHideBtn(UI_MODAL.btnSingIn, 'show');\r\n    showHideBtn(UI_MODAL.btnBack, 'show');\r\n\r\n    UI_MODAL.enterFieldModal.addEventListener('input', actionInputSignIn);\r\n    UI_MODAL.btnBack.addEventListener('click', clickBtnBack);\r\n}\r\n\r\n// Получить код\r\nfunction getCode() {\r\n    if (isEmptyField(UI_MODAL.enterFieldModal)) return;\r\n\r\n    getDataServer(URL.urlToken, API_METHOD.post, null, {\r\n        email: getValueField(UI_MODAL.enterFieldModal),\r\n    })\r\n        .then((answer) => {\r\n            if (answer.status === 'true') {\r\n                clearField(UI_MODAL.enterFieldModal);\r\n                activeDisableBtn(UI_MODAL.btnGiveCode, 'disabled');\r\n                showNotificationModal('Авторизация', 'ok');\r\n            } else if (answer.status === 'false') {\r\n                activeDisableBtn(UI_MODAL.btnGiveCode, 'disabled');\r\n                showNotificationModal('Авторизация', 'error');\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            console.log(`Error: ${error.message}`);\r\n            showNotificationModal('Авторизация', 'error');\r\n        });\r\n}\r\n\r\n// Действия при вводе в input авторизации ПОЛУЧИТЬ КОД\r\nfunction actionInputGetCode() {\r\n    const valueField = getValueField(UI_MODAL.enterFieldModal);\r\n\r\n    if (\r\n        validateEmail(valueField) &&\r\n        !containsCyrillic(getValueField(UI_MODAL.enterFieldModal))\r\n    ) {\r\n        activeDisableBtn(UI_MODAL.btnGiveCode, 'active');\r\n    } else {\r\n        activeDisableBtn(UI_MODAL.btnGiveCode, 'disabled');\r\n    }\r\n}\r\n\r\n// Получить подтверждение авторизации кнопка ВОЙТИ\r\nfunction getConfirmAuthorization() {\r\n    getDataServer(URL.urlDataProfile, API_METHOD.get, true)\r\n        .then((answer) => {\r\n            if (answer.status === 'true') {\r\n                console.log(answer);\r\n                clearField(UI_MODAL.enterFieldModal);\r\n                activeDisableBtn(UI_MODAL.btnSingIn, 'disabled');\r\n                showHideBtn(UI_MODAL.btnBack, 'hide');\r\n                UI_MODAL.enterFieldModal.removeEventListener(\r\n                    'input',\r\n                    actionInputSignIn\r\n                );\r\n                setCookie('nickname', answer.answer.name);\r\n                setCookie('email', answer.answer.email);\r\n                renderNicknameProfile(getCookie('nickname'));\r\n                chekAuthorization();\r\n                UI_MODAL.btnEnterCode.removeEventListener(\r\n                    'click',\r\n                    actionBtnEnterCode\r\n                );\r\n                UI_MODAL.btnGiveCode.removeEventListener('click', getCode);\r\n                showNotificationModal();\r\n            } else if (answer.status === 'false') {\r\n                console.log(answer);\r\n                removeCookie('token');\r\n                chekAuthorization();\r\n                showNotificationModal();\r\n                return;\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            showNotificationModal(MODAL_TITLE.confirmation.title, 'error');\r\n            console.log(`Error!!!!: ${error.message}`);\r\n        });\r\n}\r\n\r\n// Действия при вводе в input подтверждения поля ВОЙТИ\r\nfunction actionInputSignIn() {\r\n    if (\r\n        isEmptyField(UI_MODAL.enterFieldModal) ||\r\n        containsCyrillic(getValueField(UI_MODAL.enterFieldModal))\r\n    ) {\r\n        activeDisableBtn(UI_MODAL.btnSingIn, 'disabled');\r\n    } else {\r\n        activeDisableBtn(UI_MODAL.btnSingIn, 'active');\r\n    }\r\n}\r\n\r\n// Смена имени\r\nfunction renameNickname() {\r\n    if (isEmptyField(UI_MODAL.enterFieldModal)) return;\r\n\r\n    getDataServer(URL.urlToken, API_METHOD.patch, true, {\r\n        name: getValueField(UI_MODAL.enterFieldModal),\r\n    })\r\n        .then((result) => {\r\n            setCookie('nickname', result.answer.name);\r\n            renderNicknameProfile(getCookie('nickname'));\r\n            UI_MODAL.notificationName.textContent = getCookie('nickname');\r\n            socket.close(1000, 'работа закончена');\r\n            connectionWebSocket();\r\n            clearField(UI_MODAL.enterFieldModal);\r\n            changeIconBtn(\r\n                UI_MODAL.enterFieldModal,\r\n                UI_MODAL.btnRename,\r\n                ICONS.srcBtnRenameActive,\r\n                ICONS.srcBtnRenameDisabled\r\n            );\r\n            showNotificationModal('Настройки', 'ok');\r\n            setTimeout(() => {\r\n                showNotificationModal();\r\n            }, 2000);\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n            showNotificationModal('Настройки', 'error');\r\n        });\r\n}\r\n// Действия при вводе в input СМЕНЫ ИМЕНИ\r\nfunction actionInputRename() {\r\n    changeIconBtn(\r\n        UI_MODAL.enterFieldModal,\r\n        UI_MODAL.btnRename,\r\n        ICONS.srcBtnRenameActive,\r\n        ICONS.srcBtnRenameDisabled\r\n    );\r\n}\r\n\r\n// Выход из чата\r\nfunction leaveTheChat() {\r\n    socket.close(1000, 'работа закончена');\r\n    UI.dialogWindow.removeEventListener('scroll', virtualScrollMessages);\r\n    removeCookie('token');\r\n    removeCookie('nickname');\r\n    removeCookie('email');\r\n    removeStorage('messages');\r\n    clearUiDialogChat();\r\n    chekAuthorization();\r\n    renderModal(\r\n        MODAL_TITLE.authorization.title,\r\n        MODAL_TITLE.authorization.inputTitle,\r\n        MODAL_TITLE.authorization.placeholder\r\n    );\r\n    showHideBtn(UI_MODAL.btnGiveCode, 'show');\r\n    showHideBtn(UI_MODAL.btnEnterCode, 'show');\r\n    showHideBtn(UI_MODAL.btnSingIn, 'hide');\r\n    UI_MODAL.enterFieldModal.addEventListener('input', actionInputGetCode);\r\n    UI_MODAL.btnGiveCode.addEventListener('click', getCode);\r\n}\r\n\r\n// Отправка сообщения\r\nfunction sendingMessage(event) {\r\n    event.preventDefault();\r\n    if (isEmptyField(UI.enterFieldChat)) return;\r\n    socket.send(JSON.stringify({ text: getValueMessageForm() }));\r\n    clearField(UI.enterFieldChat);\r\n    changeIconBtn(\r\n        UI.enterFieldChat,\r\n        UI.btnSend,\r\n        ICONS.srcBtnActive,\r\n        ICONS.srcBtnDisabled\r\n    );\r\n}\r\n\r\n// Данные(текст сообщения) из формы\r\nfunction getValueMessageForm() {\r\n    const formData = new FormData(UI.form);\r\n    return formData.get('message');\r\n}\r\n\r\n// Загрузка истории сообщений\r\nfunction getHistoryMessages() {\r\n    getDataServer(URL.urlHistoryMessages, API_METHOD.get, true)\r\n        .then((result) => result.answer.messages)\r\n        .then((messages) => {\r\n            setStorage('messages', messages);\r\n            limitMessages(getStorage('messages'), 20);\r\n            scrollBottomDialog();\r\n        });\r\n}\r\n\r\n// Установка соединения с WebSocket\r\nfunction connectionWebSocket() {\r\n    socket = new WebSocket(\r\n        `wss://edu.strada.one/websockets?${getCookie('token')}`\r\n    );\r\n\r\n    socket.onopen = function (e) {\r\n        if (socket.readyState === 0) {\r\n            showHidePreload('none');\r\n            alert('соединение не установлено!');\r\n        } else if (socket.readyState === 1) {\r\n            console.log('[open] Соединение установлено');\r\n            getHistoryMessages();\r\n        }\r\n    };\r\n\r\n    socket.onmessage = function (event) {\r\n        const serverAnswer = JSON.parse(event.data);\r\n        addMessage(serverAnswer, 'append');\r\n        scrollBottomDialog();\r\n    };\r\n\r\n    socket.onclose = function (event) {\r\n        if (event.wasClean) {\r\n            console.log(\r\n                `[close] Соединение закрыто чисто, код=${event.code} причина=${event.reason}`\r\n            );\r\n            removeStorage('messages');\r\n        } else {\r\n            showHidePreload('flex');\r\n            console.log('[close] Соединение прервано');\r\n            removeStorage('messages');\r\n            connectionWebSocket();\r\n        }\r\n    };\r\n\r\n    socket.onerror = function (error) {\r\n        console.log(error);\r\n    };\r\n}\r\n\r\n// Клик по кнопке назад\r\nfunction clickBtnBack() {\r\n    activeDisableBtn(UI_MODAL.btnGiveCode, 'disabled');\r\n    activeDisableBtn(UI_MODAL.btnSingIn, 'disabled');\r\n    showHideBtn(UI_MODAL.btnBack, 'hide');\r\n    showHideBtn(UI_MODAL.btnSingIn, 'hide');\r\n    showHideBtn(UI_MODAL.btnGiveCode, 'show');\r\n    showHideBtn(UI_MODAL.btnEnterCode, 'show');\r\n    renderModal(\r\n        MODAL_TITLE.authorization.title,\r\n        MODAL_TITLE.authorization.inputTitle,\r\n        MODAL_TITLE.authorization.placeholder\r\n    );\r\n    UI_MODAL.enterFieldModal.addEventListener('input', actionInputGetCode);\r\n    UI_MODAL.btnBack.removeEventListener('click', clickBtnBack);\r\n    UI_MODAL.enterFieldModal.removeEventListener('input', actionInputSignIn);\r\n    clearField(UI_MODAL.enterFieldModal);\r\n    showNotificationModal();\r\n}\r\n\r\n// ======================================ПРАВКИ:=========================================\r\n// ======================================================================================\r\n\r\n// Рефакторинг\r\n// функцию рендер\r\n// обработка ctrl + enter и shift + enter для переноса строки.\r\n// Закрытие по ESC модалок\r\n// Отправка запросов из мадалок по нажатию enter\r\n// в функции модалки сменить классы на переменные\r\n// LocallStorage обернуть в try catch\r\n// В смени имени добавить отображение текущего имени, когда открываем модалку\r\n// Обработать возможно тоже try catch или как-то еще получение куков, если куки пустые\r\n// проблема getCookie в функции getDataServer, когда получаем куки, а они пустые\r\n// поправить возврат из getDataServer возврат status на boolen, а не строка\r\n// вынести функции уведомлений в модуль модалки\r\n// переменные раскидать по своим модулям\r\n// функция лимита сообщений, поставить на аргумент не 20, а вынести в переменную\r\n\r\n// ===========================В РАЗРАБОТКЕ:==========================\r\n// ==================================================================\r\n\r\n// Слушатель размера экрана для кнопки emoji\r\nwindow.addEventListener('resize', actionResizeWindow);\r\n\r\n// Действия при изменении ширины экрана\r\nfunction actionResizeWindow() {\r\n    const widthWindow = window.innerWidth;\r\n\r\n    if (widthWindow < 768) {\r\n        UI.chat.removeEventListener('click', clickBtnEmoji);\r\n        UI.chat.addEventListener('click', clickBtnEmoji);\r\n    } else if (widthWindow >= 768) {\r\n        UI.chat.removeEventListener('click', clickBtnEmoji);\r\n        UI.emojiContainer.classList.remove(CLASS.showEmoji);\r\n    }\r\n}\r\n\r\n// Клик по кнопке emoji\r\nfunction clickBtnEmoji(event) {\r\n    const elemTarget = event.target;\r\n\r\n    if (elemTarget === UI.btnEmoji) {\r\n        UI.emojiContainer.classList.toggle(CLASS.showEmoji);\r\n    } else if (elemTarget !== UI.btnEmoji) {\r\n        UI.emojiContainer.classList.remove(CLASS.showEmoji);\r\n    }\r\n}\r\n","import srcBtnDisabled from '../../icons/iconSendDisabled.svg';\r\nimport srcBtnActive from '../../icons/iconSend.svg';\r\nimport srcBtnRenameActive from '../../icons/iconOkActive.svg';\r\nimport srcBtnRenameDisabled from '../../icons/iconOkDisabled.svg';\r\nimport srcBtnEmojiActive from '../../icons/iconEmojiActive.svg';\r\nimport srcBtnEmojiDisabled from '../../icons/iconEmojiDisabled.svg';\r\n\r\nexport const UI = {\r\n    chat: document.querySelector('.chat'),\r\n    dialogWindow: document.querySelector('.chat-dialog'),\r\n    enterFieldChat: document.querySelector('.chat-form__inp'),\r\n    btnSend: document.querySelector('.btn-send'),\r\n    form: document.querySelector('.chat-form'),\r\n    btnSettings: document.querySelector('.btn-settings'),\r\n    btnSignOut: document.querySelector('.btn-exit'),\r\n    preload: document.querySelector('.preload-wrapper'),\r\n    nickname: document.querySelector('.nickname'),\r\n    btnEmoji: document.querySelector('.btn-emoji'),\r\n    emojiContainer: document.querySelector('.emoji'),\r\n    emoji: document.querySelector('emoji-picker'),\r\n};\r\n\r\nexport const UI_MODAL = {\r\n    modal: document.querySelector('#modal-js'),\r\n    btnModalClose: document.querySelector('.modal__btn-close'),\r\n    btnGiveCode: document.querySelector('.btn-give-code'),\r\n    btnEnterCode: document.querySelector('.btn-enter-code'),\r\n    btnSingIn: document.querySelector('.btn-sing-in'),\r\n    enterFieldModal: document.querySelector('.modal-input'),\r\n    titleModal: document.querySelector('.modal__title-text'),\r\n    titleInputModal: document.querySelector('.modal-form__title'),\r\n    btnRename: document.querySelector('.btn-rename'),\r\n    btnBack: document.querySelector('.btn-back'),\r\n    notification: document.querySelector('.notification'),\r\n    notificationText: document.querySelector('.notification__text'),\r\n    notificationName: document.querySelector('.notification__text-name'),\r\n};\r\n\r\nexport const MODAL_TITLE = {\r\n    authorization: {\r\n        title: 'Авторизация',\r\n        inputTitle: 'Почта:',\r\n        placeholder: 'Введите почту...',\r\n        notificationOk: 'Код успешно отправлен вам на почту!',\r\n        notificationError: 'Произошла ошибка, повторите снова или попозже',\r\n    },\r\n    confirmation: {\r\n        title: 'Подтверждение',\r\n        inputTitle: 'Код:',\r\n        placeholder: 'Введите код...',\r\n        notificationError: 'Произошла ошибка, повторите снова или попозже',\r\n        notificationIncorrectCode: 'Не верный код авторизации',\r\n    },\r\n    settings: {\r\n        title: 'Настройки',\r\n        inputTitle: 'Имя в чате:',\r\n        placeholder: 'Введите имя...',\r\n        notificationOk: 'Имя успешно изменено на ',\r\n        notificationError: 'Произошла ошибка, повторите снова или попозже',\r\n    },\r\n};\r\n\r\nexport const ICONS = {\r\n    srcBtnDisabled: `url(\"${srcBtnDisabled}\")`,\r\n    srcBtnActive: `url(\"${srcBtnActive}\")`,\r\n    srcBtnRenameActive: `url(\"${srcBtnRenameActive}\")`,\r\n    srcBtnRenameDisabled: `url(\"${srcBtnRenameDisabled}\")`,\r\n    srcBtnEmojiActive:`url(\"${srcBtnEmojiActive}\")`,\r\n    srcBtnEmojiDisabled:`url(\"${srcBtnEmojiDisabled}\")`,\r\n};\r\n\r\nexport const CLASS = {\r\n    sendingMessage: 'sent-message',\r\n    inboxMessage: 'in-message',\r\n    hideBtn: 'hide-btn',\r\n    activeBtn: 'active-btn',\r\n    notificationOk: 'show-notification-green',\r\n    notificationError: 'show-notification-red',\r\n    showEmoji: 'show-emoji'\r\n}\r\n\r\nexport const tempContainer = document.querySelector('#template');\r\nexport const textarea = document.querySelector('.chat-form__textarea');\r\n\r\nexport const TEMPLATE = {\r\n    messageTimeTemplate: tempContainer.content.querySelector(\r\n        '.dialog-info__message-time'\r\n    ),\r\n    messageTextTemlate: tempContainer.content.querySelector(\r\n        '.chat-dialog__message-text'\r\n    ),\r\n    messageNicknameTemlate: tempContainer.content.querySelector(\r\n        '.dialog-info__message-nickname'\r\n    ),\r\n};","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dgJAf\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1VPNH\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dACyE\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2Iap4\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"25Ney\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jv32c\")).toString();","import Cookies from 'js-cookie';\r\n\r\nfunction setCookie(name, value) {\r\n    Cookies.set(name, value);\r\n}\r\n\r\nfunction getCookie(name) {\r\n    return Cookies.get(name);\r\n}\r\n\r\nfunction removeCookie(name) {\r\n    Cookies.remove(name);\r\n}\r\n\r\nexport { setCookie, getCookie, removeCookie };\r\n","/*! js-cookie v3.0.5 | MIT */\n;\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (function () {\n    var current = global.Cookies;\n    var exports = global.Cookies = factory();\n    exports.noConflict = function () { global.Cookies = current; return exports; };\n  })());\n})(this, (function () { 'use strict';\n\n  /* eslint-disable no-var */\n  function assign (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        target[key] = source[key];\n      }\n    }\n    return target\n  }\n  /* eslint-enable no-var */\n\n  /* eslint-disable no-var */\n  var defaultConverter = {\n    read: function (value) {\n      if (value[0] === '\"') {\n        value = value.slice(1, -1);\n      }\n      return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n    },\n    write: function (value) {\n      return encodeURIComponent(value).replace(\n        /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n        decodeURIComponent\n      )\n    }\n  };\n  /* eslint-enable no-var */\n\n  /* eslint-disable no-var */\n\n  function init (converter, defaultAttributes) {\n    function set (name, value, attributes) {\n      if (typeof document === 'undefined') {\n        return\n      }\n\n      attributes = assign({}, defaultAttributes, attributes);\n\n      if (typeof attributes.expires === 'number') {\n        attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n      }\n      if (attributes.expires) {\n        attributes.expires = attributes.expires.toUTCString();\n      }\n\n      name = encodeURIComponent(name)\n        .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n        .replace(/[()]/g, escape);\n\n      var stringifiedAttributes = '';\n      for (var attributeName in attributes) {\n        if (!attributes[attributeName]) {\n          continue\n        }\n\n        stringifiedAttributes += '; ' + attributeName;\n\n        if (attributes[attributeName] === true) {\n          continue\n        }\n\n        // Considers RFC 6265 section 5.2:\n        // ...\n        // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n        //     character:\n        // Consume the characters of the unparsed-attributes up to,\n        // not including, the first %x3B (\";\") character.\n        // ...\n        stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n      }\n\n      return (document.cookie =\n        name + '=' + converter.write(value, name) + stringifiedAttributes)\n    }\n\n    function get (name) {\n      if (typeof document === 'undefined' || (arguments.length && !name)) {\n        return\n      }\n\n      // To prevent the for loop in the first place assign an empty array\n      // in case there are no cookies at all.\n      var cookies = document.cookie ? document.cookie.split('; ') : [];\n      var jar = {};\n      for (var i = 0; i < cookies.length; i++) {\n        var parts = cookies[i].split('=');\n        var value = parts.slice(1).join('=');\n\n        try {\n          var found = decodeURIComponent(parts[0]);\n          jar[found] = converter.read(value, found);\n\n          if (name === found) {\n            break\n          }\n        } catch (e) {}\n      }\n\n      return name ? jar[name] : jar\n    }\n\n    return Object.create(\n      {\n        set,\n        get,\n        remove: function (name, attributes) {\n          set(\n            name,\n            '',\n            assign({}, attributes, {\n              expires: -1\n            })\n          );\n        },\n        withAttributes: function (attributes) {\n          return init(this.converter, assign({}, this.attributes, attributes))\n        },\n        withConverter: function (converter) {\n          return init(assign({}, this.converter, converter), this.attributes)\n        }\n      },\n      {\n        attributes: { value: Object.freeze(defaultAttributes) },\n        converter: { value: Object.freeze(converter) }\n      }\n    )\n  }\n\n  var api = init(defaultConverter, { path: '/' });\n  /* eslint-enable no-var */\n\n  return api;\n\n}));\n","import { getCookie } from './cookie.mjs';\r\nimport { showHidePreload } from './help-functions.mjs';\r\n\r\nconst URL_BASE = 'https://edu.strada.one';\r\n\r\nconst URL = {\r\n    urlToken: `${URL_BASE}/api/user`,\r\n    urlDataProfile: `${URL_BASE}/api/user/me`,\r\n    urlHistoryMessages: `${URL_BASE}/api/messages/`,\r\n};\r\n\r\nconst API_METHOD = {\r\n    get: 'GET',\r\n    post: 'POST',\r\n    patch: 'PATCH',\r\n};\r\n\r\n// Получить код, смена имени, авторизация\r\nasync function getDataServer(url, method, moreHeader = null, value = null) {\r\n    try {\r\n        showHidePreload('flex');\r\n\r\n        const response = await fetch(url, {\r\n            method: method,\r\n            headers: {\r\n                'Content-type': 'application/json; charset=UTF-8',\r\n                Authorization:\r\n                    moreHeader !== null ? `Bearer ${getCookie('token')}` : null,\r\n            },\r\n            body: value !== null ? JSON.stringify(value) : null,\r\n        });\r\n        const answer = await response.json();\r\n        if (response.status === 200) {\r\n            return { status: 'true', answer };\r\n        } else {\r\n            console.log('ошибка', answer);\r\n            console.log('response статус', response.status);\r\n            return { status: 'false', answer };\r\n        }\r\n    } catch (error) {\r\n        console.log(`Error: ошибка ${error.message}`);\r\n    } finally {\r\n        showHidePreload('none');\r\n    }\r\n}\r\n\r\nexport { URL, API_METHOD, getDataServer };\r\n","import { UI, CLASS, UI_MODAL, MODAL_TITLE,tempContainer, TEMPLATE } from './variables.mjs';\r\nimport { format } from 'date-fns';\r\nimport { getCookie } from './cookie.mjs';\r\n\r\n// Добавление сообщения\r\nfunction addMessage(message, methodPast) {\r\n    const leftRight = leftRightMessages(message);\r\n\r\n    TEMPLATE.messageTextTemlate.textContent = message.text;\r\n    TEMPLATE.messageTimeTemplate.textContent = correctDate(message.createdAt);\r\n    TEMPLATE.messageNicknameTemlate.textContent = message.user.name;\r\n\r\n    let messageUi = tempContainer.content.cloneNode(true);\r\n\r\n    const massageContainerTemp = messageUi.querySelector(\r\n        '.chat-dialog__message'\r\n    );\r\n\r\n    massageContainerTemp.classList.add(\r\n        leftRight === 'rigth' ? CLASS.sendingMessage : CLASS.inboxMessage\r\n    );\r\n\r\n    if (methodPast === 'append') {\r\n        UI.dialogWindow.append(messageUi);\r\n    } else if (methodPast === 'prepend') {\r\n        UI.dialogWindow.prepend(messageUi);\r\n    }\r\n}\r\n\r\n// Распределение сообщений входящее или исходящее\r\nfunction leftRightMessages(message) {\r\n    if (message.user.email === getCookie('email')) {\r\n        return 'rigth';\r\n    } else {\r\n        return 'left';\r\n    }\r\n}\r\n\r\n// Очистка окна с сообщениями\r\nfunction clearUiDialogChat() {\r\n    const messages = UI.dialogWindow.querySelectorAll('.chat-dialog__message');\r\n    messages.forEach((message) => message.remove());\r\n}\r\n\r\n\r\n// Показать/Скрыть preload\r\nfunction showHidePreload(display) {\r\n    UI.preload.style.display = display;\r\n}\r\n\r\n// Рендер Имени в чате\r\nfunction renderNicknameProfile(nickname) {\r\n    UI.nickname.textContent = nickname;\r\n}\r\n\r\n// Скролл всегда вниз при запуске\r\nfunction scrollBottomDialog() {\r\n    UI.dialogWindow.scrollTop = UI.dialogWindow.scrollHeight;\r\n}\r\n\r\n// ПОКАЗАТЬ/СКРЫТЬ КНОПКУ\r\nfunction showHideBtn(btn, action) {\r\n    if (action === 'hide') btn.classList.add(CLASS.hideBtn);\r\n    if (action === 'show') btn.classList.remove(CLASS.hideBtn);\r\n}\r\n\r\n// Диактивация кнопки\r\nfunction disableBtn(btn, btnStatus) {\r\n    btn.disabled = btnStatus;\r\n}\r\n\r\n// Проверка поля на ссылки ПОКА НЕ ИСПОЛЬЗУЕТСЯ\r\n// function containsLinks(text) {\r\n//     const pattern = /(http:|https:)([^\\s]+)/gi;\r\n//     return pattern.test(text);\r\n// }\r\n\r\n// Проверка корректности email\r\nfunction validateEmail(email) {\r\n    const pattern = /\\S+@\\S+\\.\\S+/;\r\n    return pattern.test(email);\r\n}\r\n\r\n// Активировать или диактивировать кнопку\r\nfunction activeDisableBtn(btn, action) {\r\n    if (action === 'active') {\r\n        btn.classList.add(CLASS.activeBtn);\r\n        btn.disabled = '';\r\n    } else if (action === 'disabled') {\r\n        btn.classList.remove(CLASS.activeBtn);\r\n        btn.disabled = 'false';\r\n    }\r\n}\r\n\r\n// Очистка поля ввода input/pre\r\nfunction clearField(field) {\r\n    if (field.tagName.toLowerCase() === 'input') {\r\n        field.value = '';\r\n    } else {\r\n        field.textContent = '';\r\n    }\r\n}\r\n\r\n// Получить значение поля input/pre\r\nfunction getValueField(field) {\r\n    if (field.tagName.toLowerCase() === 'input') {\r\n        return field.value.trim();\r\n    } else {\r\n        return field.textContent.trim();\r\n    }\r\n}\r\n\r\n// Проверка на пустоту поля input/pre\r\nfunction isEmptyField(field) {\r\n    const valueField = getValueField(field);\r\n\r\n    if (valueField === '') return true;\r\n    if (valueField) return false;\r\n}\r\n\r\n// Фрматирование даты в корректную\r\nfunction correctDate(date) {\r\n    return format(new Date(date), 'HH:mm dd.LL.yy ');\r\n}\r\n\r\n// Смена иконок у кнопок при вводе в поле\r\nfunction changeIconBtn(field, btn, srcIconActive, scrIconDisabled) {\r\n    if (isEmptyField(field)) {\r\n        disableBtn(btn, true);\r\n\r\n        btn.style.backgroundImage = scrIconDisabled;\r\n    } else {\r\n        disableBtn(btn, false);\r\n\r\n        btn.style.backgroundImage = srcIconActive;\r\n    }\r\n}\r\n\r\n// Уведомления для модалки\r\nfunction showNotificationModal(modalTitle = '', status = '') {\r\n    UI_MODAL.notification.classList.remove(CLASS.notificationOk);\r\n    UI_MODAL.notification.classList.remove(CLASS.notificationError);\r\n\r\n    // Авторизация\r\n    if (modalTitle === MODAL_TITLE.authorization.title && status === 'ok') {\r\n        UI_MODAL.notificationText.textContent =\r\n            MODAL_TITLE.authorization.notificationOk;\r\n        UI_MODAL.notification.classList.add(CLASS.notificationOk);\r\n    } else if (\r\n        modalTitle === MODAL_TITLE.authorization.title &&\r\n        status === 'error'\r\n    ) {\r\n        UI_MODAL.notificationText.textContent =\r\n            MODAL_TITLE.authorization.notificationError;\r\n        UI_MODAL.notification.classList.add(CLASS.notificationError);\r\n    }\r\n\r\n    // Войти\r\n    if (\r\n        modalTitle === MODAL_TITLE.confirmation.title &&\r\n        status === 'errorCode'\r\n    ) {\r\n        UI_MODAL.notificationText.textContent =\r\n            MODAL_TITLE.confirmation.notificationIncorrectCode;\r\n        UI_MODAL.notification.classList.add(CLASS.notificationError);\r\n    } else if (\r\n        modalTitle === MODAL_TITLE.confirmation.title &&\r\n        status === 'error'\r\n    ) {\r\n        UI_MODAL.notificationText.textContent =\r\n            MODAL_TITLE.authorization.notificationError;\r\n        UI_MODAL.notification.classList.add(CLASS.notificationError);\r\n    }\r\n\r\n    // Настройки\r\n    if (modalTitle === MODAL_TITLE.settings.title && status === 'ok') {\r\n        UI_MODAL.notificationText.textContent =\r\n            MODAL_TITLE.settings.notificationOk;\r\n        UI_MODAL.notification.classList.add(CLASS.notificationOk);\r\n    } else if (\r\n        modalTitle === MODAL_TITLE.settings.title &&\r\n        status === 'error'\r\n    ) {\r\n        UI_MODAL.notificationText.textContent =\r\n            MODAL_TITLE.settings.notificationError;\r\n        UI_MODAL.notification.classList.add(CLASS.notificationError);\r\n    }\r\n}\r\n\r\n// Проверка на кириллицу\r\nfunction containsCyrillic(text) {\r\n    const cyrillicRegex = /[\\u0400-\\u04FF]/;\r\n\r\n    return cyrillicRegex.test(text);\r\n}\r\n\r\nexport {\r\n    showHidePreload,\r\n    renderNicknameProfile,\r\n    scrollBottomDialog,\r\n    showHideBtn,\r\n    disableBtn,\r\n    validateEmail,\r\n    activeDisableBtn,\r\n    clearField,\r\n    getValueField,\r\n    isEmptyField,\r\n    correctDate,\r\n    changeIconBtn,\r\n    showNotificationModal,\r\n    containsCyrillic,\r\n    addMessage,\r\n    clearUiDialogChat\r\n};\r\n","import isValid from \"../isValid/index.js\";\nimport subMilliseconds from \"../subMilliseconds/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport formatters from \"../_lib/format/formatters/index.js\";\nimport longFormatters from \"../_lib/format/longFormatters/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport { isProtectedDayOfYearToken, isProtectedWeekYearToken, throwProtectedError } from \"../_lib/protectedTokens/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\nimport defaultLocale from \"../_lib/defaultLocale/index.js\"; // This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nexport default function format(dirtyDate, dirtyFormatStr, options) {\n  var _ref, _options$locale, _ref2, _ref3, _ref4, _options$firstWeekCon, _options$locale2, _options$locale2$opti, _defaultOptions$local, _defaultOptions$local2, _ref5, _ref6, _ref7, _options$weekStartsOn, _options$locale3, _options$locale3$opti, _defaultOptions$local3, _defaultOptions$local4;\n  requiredArgs(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var defaultOptions = getDefaultOptions();\n  var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : defaultLocale;\n  var firstWeekContainsDate = toInteger((_ref2 = (_ref3 = (_ref4 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale2 = options.locale) === null || _options$locale2 === void 0 ? void 0 : (_options$locale2$opti = _options$locale2.options) === null || _options$locale2$opti === void 0 ? void 0 : _options$locale2$opti.firstWeekContainsDate) !== null && _ref4 !== void 0 ? _ref4 : defaultOptions.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : 1);\n\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var weekStartsOn = toInteger((_ref5 = (_ref6 = (_ref7 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale3 = options.locale) === null || _options$locale3 === void 0 ? void 0 : (_options$locale3$opti = _options$locale3.options) === null || _options$locale3$opti === void 0 ? void 0 : _options$locale3$opti.weekStartsOn) !== null && _ref7 !== void 0 ? _ref7 : defaultOptions.weekStartsOn) !== null && _ref6 !== void 0 ? _ref6 : (_defaultOptions$local3 = defaultOptions.locale) === null || _defaultOptions$local3 === void 0 ? void 0 : (_defaultOptions$local4 = _defaultOptions$local3.options) === null || _defaultOptions$local4 === void 0 ? void 0 : _defaultOptions$local4.weekStartsOn) !== null && _ref5 !== void 0 ? _ref5 : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n  var originalDate = toDate(dirtyDate);\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  }\n\n  // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);\n  var utcDate = subMilliseconds(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale.formatLong);\n    }\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n    var firstCharacter = substring[0];\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n    var formatter = formatters[firstCharacter];\n    if (formatter) {\n      if (!(options !== null && options !== void 0 && options.useAdditionalWeekYearTokens) && isProtectedWeekYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, String(dirtyDate));\n      }\n      if (!(options !== null && options !== void 0 && options.useAdditionalDayOfYearTokens) && isProtectedDayOfYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, String(dirtyDate));\n      }\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n    return substring;\n  }).join('');\n  return result;\n}\nfunction cleanEscapedString(input) {\n  var matched = input.match(escapedStringRegExp);\n  if (!matched) {\n    return input;\n  }\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}","import isDate from \"../isDate/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport default function isValid(dirtyDate) {\n  requiredArgs(1, arguments);\n  if (!isDate(dirtyDate) && typeof dirtyDate !== 'number') {\n    return false;\n  }\n  var date = toDate(dirtyDate);\n  return !isNaN(Number(date));\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param {*} value - the value to check\n * @returns {boolean} true if the given value is a date\n * @throws {TypeError} 1 arguments required\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport default function isDate(value) {\n  requiredArgs(1, arguments);\n  return value instanceof Date || _typeof(value) === 'object' && Object.prototype.toString.call(value) === '[object Date]';\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n      // eslint-disable-next-line no-console\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}","import addMilliseconds from \"../addMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * const result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\nexport default function subMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, -amount);\n}","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\nexport default function addMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var timestamp = toDate(dirtyDate).getTime();\n  var amount = toInteger(dirtyAmount);\n  return new Date(timestamp + amount);\n}","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n  var number = Number(dirtyNumber);\n  if (isNaN(number)) {\n    return number;\n  }\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","import getUTCDayOfYear from \"../../../_lib/getUTCDayOfYear/index.js\";\nimport getUTCISOWeek from \"../../../_lib/getUTCISOWeek/index.js\";\nimport getUTCISOWeekYear from \"../../../_lib/getUTCISOWeekYear/index.js\";\nimport getUTCWeek from \"../../../_lib/getUTCWeek/index.js\";\nimport getUTCWeekYear from \"../../../_lib/getUTCWeekYear/index.js\";\nimport addLeadingZeros from \"../../addLeadingZeros/index.js\";\nimport lightFormatters from \"../lightFormatters/index.js\";\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n};\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nvar formatters = {\n  // Era\n  G: function G(date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function y(date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n    return lightFormatters.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function Y(date, token, localize, options) {\n    var signedWeekYear = getUTCWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function R(date, token) {\n    var isoWeekYear = getUTCISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function u(date, token) {\n    var year = date.getUTCFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  // Quarter\n  Q: function Q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n      case 'QQ':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n      case 'qq':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function M(date, token, localize) {\n    var month = date.getUTCMonth();\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function L(date, token, localize) {\n    var month = date.getUTCMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case 'LL':\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function w(date, token, localize, options) {\n    var week = getUTCWeek(date, options);\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n    return addLeadingZeros(week, token.length);\n  },\n  // ISO week of year\n  I: function I(date, token, localize) {\n    var isoWeek = getUTCISOWeek(date);\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function d(date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n    return lightFormatters.d(date, token);\n  },\n  // Day of year\n  D: function D(date, token, localize) {\n    var dayOfYear = getUTCDayOfYear(date);\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function E(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function e(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case 'ee':\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function c(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case 'cc':\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function i(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n      case 'ii':\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function a(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function b(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n    switch (token) {\n      case 'b':\n      case 'bb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function B(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function h(date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return lightFormatters.h(date, token);\n  },\n  // Hour [0-23]\n  H: function H(date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n    return lightFormatters.H(date, token);\n  },\n  // Hour [0-11]\n  K: function K(date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return addLeadingZeros(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function k(date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return addLeadingZeros(hours, token.length);\n  },\n  // Minute\n  m: function m(date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n    return lightFormatters.m(date, token);\n  },\n  // Second\n  s: function s(date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n    return lightFormatters.s(date, token);\n  },\n  // Fraction of second\n  S: function S(date, token) {\n    return lightFormatters.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function X(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function x(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function O(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function z(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function t(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function T(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  }\n};\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, dirtyDelimiter);\n}\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\nexport default formatters;","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000;\nexport default function getUTCDayOfYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport startOfUTCISOWeekYear from \"../startOfUTCISOWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","import getUTCISOWeekYear from \"../getUTCISOWeekYear/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nexport default function getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","import toDate from \"../../toDate/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport startOfUTCWeekYear from \"../startOfUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}","var defaultOptions = {};\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}","import getUTCWeekYear from \"../getUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n  var year = getUTCWeekYear(dirtyDate, options);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, options);\n  return date;\n}","import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function getUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, options);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, options);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}","export default function addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n  return sign + output;\n}","import addLeadingZeros from \"../../addLeadingZeros/index.js\";\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\nvar formatters = {\n  // Year\n  y: function y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    var signedYear = date.getUTCFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function M(date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  // Day of the month\n  d: function d(date, token) {\n    return addLeadingZeros(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function a(date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return dayPeriodEnumValue.toUpperCase();\n      case 'aaa':\n        return dayPeriodEnumValue;\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function h(date, token) {\n    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function H(date, token) {\n    return addLeadingZeros(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function m(date, token) {\n    return addLeadingZeros(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function s(date, token) {\n    return addLeadingZeros(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function S(date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\nexport default formatters;","var dateLongFormatter = function dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n};\nvar timeLongFormatter = function timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n};\nvar dateTimeLongFormatter = function dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/) || [];\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n  var dateTimeFormat;\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n};\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nexport default longFormatters;","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","var protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\nexport function isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\nexport function isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\nexport function throwProtectedError(token, format, input) {\n  if (token === 'YYYY') {\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'YY') {\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'D') {\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'DD') {\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  }\n}","import defaultLocale from \"../../locale/en-US/index.js\";\nexport default defaultLocale;","import formatDistance from \"./_lib/formatDistance/index.js\";\nimport formatLong from \"./_lib/formatLong/index.js\";\nimport formatRelative from \"./_lib/formatRelative/index.js\";\nimport localize from \"./_lib/localize/index.js\";\nimport match from \"./_lib/match/index.js\";\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\nvar formatDistance = function formatDistance(token, count, options) {\n  var result;\n  var tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === 'string') {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace('{{count}}', count.toString());\n  }\n  if (options !== null && options !== void 0 && options.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n  return result;\n};\nexport default formatDistance;","import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","export default function buildFormatLongFn(args) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO: Remove String()\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","var formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\nvar formatRelative = function formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n};\nexport default formatRelative;","import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\nvar ordinalNumber = function ordinalNumber(dirtyNumber, _options) {\n  var number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  var rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n      case 2:\n        return number + 'nd';\n      case 3:\n        return number + 'rd';\n    }\n  }\n  return number + 'th';\n};\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function argumentCallback(quarter) {\n      return quarter - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, options) {\n    var context = options !== null && options !== void 0 && options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n      var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}","import buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nimport buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function valueCallback(value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function valueCallback(index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","export default function buildMatchFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n    if (!matchResult) {\n      return null;\n    }\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    }) : findKey(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    });\n    var value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}","export default function buildMatchPatternFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}","import { UI_MODAL } from \"./variables.mjs\";\r\n\r\n// Делегирование модалки нажатие на КРЕСТИК/ПУСТОЕ ПРОСТРАНСТВО\r\nfunction modalDelegationClick(event) {\r\n    if (\r\n        event.target === UI_MODAL.btnModalClose ||\r\n        event.target === UI_MODAL.modal\r\n    ) {\r\n        hideModal();\r\n    }\r\n}\r\n\r\nfunction showModal() {\r\n    UI_MODAL.modal.classList.add('show-modal');\r\n}\r\n\r\nfunction hideModal() {\r\n    UI_MODAL.modal.classList.remove('show-modal');\r\n}\r\n\r\n// Рендер модального окна\r\nfunction renderModal(titleModal, titleInput, placeholder) {\r\n    UI_MODAL.titleModal.textContent = titleModal;\r\n    UI_MODAL.enterFieldModal.placeholder = placeholder;\r\n    UI_MODAL.titleInputModal.textContent = titleInput;\r\n}\r\n\r\nexport { modalDelegationClick, showModal, hideModal, renderModal, };\r\n","import Picker from './picker.js'\nimport Database from './database.js'\nexport { Picker, Database }\n","import Database from './database.js';\n\nfunction noop() { }\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    if (node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_style(node, key, value, important) {\n    if (value == null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs#run-time-svelte-onmount\n */\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\n\nconst dirty_components = [];\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    // Do not reenter flush while dirty components are updated, as this can\n    // result in an infinite loop. Instead, let the inner flush handle it.\n    // Reentrancy is ok afterwards for bindings etc.\n    if (flushidx !== 0) {\n        return;\n    }\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        try {\n            while (flushidx < dirty_components.length) {\n                const component = dirty_components[flushidx];\n                flushidx++;\n                set_current_component(component);\n                update(component.$$);\n            }\n        }\n        catch (e) {\n            // reset dirty state to not end up in a deadlocked state and then rethrow\n            dirty_components.length = 0;\n            flushidx = 0;\n            throw e;\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n */\nfunction flush_render_callbacks(fns) {\n    const filtered = [];\n    const targets = [];\n    render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n    targets.forEach((c) => c());\n    render_callbacks = filtered;\n}\nconst outroing = new Set();\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    const updates = [];\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            // defer updates until all the DOM shuffling is done\n            updates.push(() => block.p(child_ctx, dirty));\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    run_all(updates);\n    return new_blocks;\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n            // if the component was destroyed immediately\n            // it will update the `$$.on_destroy` reference to `null`.\n            // the destructured on_destroy may still reference to the old array\n            if (component.$$.on_destroy) {\n                component.$$.on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        flush_render_callbacks($$.after_update);\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: [],\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map((parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        mount_component(component, options.target, undefined, undefined);\n        flush();\n    }\n    set_current_component(parent_component);\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        if (!is_function(callback)) {\n            return noop;\n        }\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\n// via https://unpkg.com/browse/emojibase-data@6.0.0/meta/groups.json\nconst allGroups = [\n  [-1, '✨', 'custom'],\n  [0, '😀', 'smileys-emotion'],\n  [1, '👋', 'people-body'],\n  [3, '🐱', 'animals-nature'],\n  [4, '🍎', 'food-drink'],\n  [5, '🏠️', 'travel-places'],\n  [6, '⚽', 'activities'],\n  [7, '📝', 'objects'],\n  [8, '⛔️', 'symbols'],\n  [9, '🏁', 'flags']\n].map(([id, emoji, name]) => ({ id, emoji, name }));\n\nconst groups = allGroups.slice(1);\nconst customGroup = allGroups[0];\n\nconst MIN_SEARCH_TEXT_LENGTH = 2;\nconst NUM_SKIN_TONES = 6;\n\n/* istanbul ignore next */\nconst rIC = typeof requestIdleCallback === 'function' ? requestIdleCallback : setTimeout;\n\n// check for ZWJ (zero width joiner) character\nfunction hasZwj (emoji) {\n  return emoji.unicode.includes('\\u200d')\n}\n\n// Find one good representative emoji from each version to test by checking its color.\n// Ideally it should have color in the center. For some inspiration, see:\n// https://about.gitlab.com/blog/2018/05/30/journey-in-native-unicode-emoji/\n//\n// Note that for certain versions (12.1, 13.1), there is no point in testing them explicitly, because\n// all the emoji from this version are compound-emoji from previous versions. So they would pass a color\n// test, even in browsers that display them as double emoji. (E.g. \"face in clouds\" might render as\n// \"face without mouth\" plus \"fog\".) These emoji can only be filtered using the width test,\n// which happens in checkZwjSupport.js.\nconst versionsAndTestEmoji = {\n  '🫨': 15,\n  '🫠': 14,\n  '🥲': 13.1, // smiling face with tear, technically from v13 but see note above\n  '🥻': 12.1, // sari, technically from v12 but see note above\n  '🥰': 11,\n  '🤩': 5,\n  '👱‍♀️': 4,\n  '🤣': 3,\n  '👁️‍🗨️': 2,\n  '😀': 1,\n  '😐️': 0.7,\n  '😃': 0.6\n};\n\nconst TIMEOUT_BEFORE_LOADING_MESSAGE = 1000; // 1 second\nconst DEFAULT_SKIN_TONE_EMOJI = '🖐️';\nconst DEFAULT_NUM_COLUMNS = 8;\n\n// Based on https://fivethirtyeight.com/features/the-100-most-used-emojis/ and\n// https://blog.emojipedia.org/facebook-reveals-most-and-least-used-emojis/ with\n// a bit of my own curation. (E.g. avoid the \"OK\" gesture because of connotations:\n// https://emojipedia.org/ok-hand/)\nconst MOST_COMMONLY_USED_EMOJI = [\n  '😊',\n  '😒',\n  '♥️',\n  '👍️',\n  '😍',\n  '😂',\n  '😭',\n  '☺️',\n  '😔',\n  '😩',\n  '😏',\n  '💕',\n  '🙌',\n  '😘'\n];\n\n// It's important to list Twemoji Mozilla before everything else, because Mozilla bundles their\n// own font on some platforms (notably Windows and Linux as of this writing). Typically, Mozilla\n// updates faster than the underlying OS, and we don't want to render older emoji in one font and\n// newer emoji in another font:\n// https://github.com/nolanlawson/emoji-picker-element/pull/268#issuecomment-1073347283\nconst FONT_FAMILY = '\"Twemoji Mozilla\",\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",' +\n  '\"Noto Color Emoji\",\"EmojiOne Color\",\"Android Emoji\",sans-serif';\n\n/* istanbul ignore next */\nconst DEFAULT_CATEGORY_SORTING = (a, b) => a < b ? -1 : a > b ? 1 : 0;\n\n// Test if an emoji is supported by rendering it to canvas and checking that the color is not black\n// See https://about.gitlab.com/blog/2018/05/30/journey-in-native-unicode-emoji/\n// and https://www.npmjs.com/package/if-emoji for inspiration\n// This implementation is largely borrowed from if-emoji, adding the font-family\n\n\nconst getTextFeature = (text, color) => {\n  const canvas = document.createElement('canvas');\n  canvas.width = canvas.height = 1;\n\n  const ctx = canvas.getContext('2d');\n  ctx.textBaseline = 'top';\n  ctx.font = `100px ${FONT_FAMILY}`;\n  ctx.fillStyle = color;\n  ctx.scale(0.01, 0.01);\n  ctx.fillText(text, 0, 0);\n\n  return ctx.getImageData(0, 0, 1, 1).data\n};\n\nconst compareFeatures = (feature1, feature2) => {\n  const feature1Str = [...feature1].join(',');\n  const feature2Str = [...feature2].join(',');\n  // This is RGBA, so for 0,0,0, we are checking that the first RGB is not all zeroes.\n  // Most of the time when unsupported this is 0,0,0,0, but on Chrome on Mac it is\n  // 0,0,0,61 - there is a transparency here.\n  return feature1Str === feature2Str && !feature1Str.startsWith('0,0,0,')\n};\n\nfunction testColorEmojiSupported (text) {\n  // Render white and black and then compare them to each other and ensure they're the same\n  // color, and neither one is black. This shows that the emoji was rendered in color.\n  const feature1 = getTextFeature(text, '#000');\n  const feature2 = getTextFeature(text, '#fff');\n  return feature1 && feature2 && compareFeatures(feature1, feature2)\n}\n\n// rather than check every emoji ever, which would be expensive, just check some representatives from the\n// different emoji releases to determine what the font supports\n\nfunction determineEmojiSupportLevel () {\n  const entries = Object.entries(versionsAndTestEmoji);\n  try {\n    // start with latest emoji and work backwards\n    for (const [emoji, version] of entries) {\n      if (testColorEmojiSupported(emoji)) {\n        return version\n      }\n    }\n  } catch (e) { // canvas error\n  } finally {\n  }\n  // In case of an error, be generous and just assume all emoji are supported (e.g. for canvas errors\n  // due to anti-fingerprinting add-ons). Better to show some gray boxes than nothing at all.\n  return entries[0][1] // first one in the list is the most recent version\n}\n\n// Check which emojis we know for sure aren't supported, based on Unicode version level\nlet promise;\nconst detectEmojiSupportLevel = () => {\n  if (!promise) {\n    // Delay so it can run while the IDB database is being created by the browser (on another thread).\n    // This helps especially with first load – we want to start pre-populating the database on the main thread,\n    // and then wait for IDB to commit everything, and while waiting we run this check.\n    promise = new Promise(resolve => (\n      rIC(() => (\n        resolve(determineEmojiSupportLevel()) // delay so ideally this can run while IDB is first populating\n      ))\n    ));\n  }\n  return promise\n};\n// determine which emojis containing ZWJ (zero width joiner) characters\n// are supported (rendered as one glyph) rather than unsupported (rendered as two or more glyphs)\nconst supportedZwjEmojis = new Map();\n\nconst VARIATION_SELECTOR = '\\ufe0f';\nconst SKINTONE_MODIFIER = '\\ud83c';\nconst ZWJ = '\\u200d';\nconst LIGHT_SKIN_TONE = 0x1F3FB;\nconst LIGHT_SKIN_TONE_MODIFIER = 0xdffb;\n\n// TODO: this is a naive implementation, we can improve it later\n// It's only used for the skintone picker, so as long as people don't customize with\n// really exotic emoji then it should work fine\nfunction applySkinTone (str, skinTone) {\n  if (skinTone === 0) {\n    return str\n  }\n  const zwjIndex = str.indexOf(ZWJ);\n  if (zwjIndex !== -1) {\n    return str.substring(0, zwjIndex) +\n      String.fromCodePoint(LIGHT_SKIN_TONE + skinTone - 1) +\n      str.substring(zwjIndex)\n  }\n  if (str.endsWith(VARIATION_SELECTOR)) {\n    str = str.substring(0, str.length - 1);\n  }\n  return str + SKINTONE_MODIFIER + String.fromCodePoint(LIGHT_SKIN_TONE_MODIFIER + skinTone - 1)\n}\n\nfunction halt (event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\n// Implementation left/right or up/down navigation, circling back when you\n// reach the start/end of the list\nfunction incrementOrDecrement (decrement, val, arr) {\n  val += (decrement ? -1 : 1);\n  if (val < 0) {\n    val = arr.length - 1;\n  } else if (val >= arr.length) {\n    val = 0;\n  }\n  return val\n}\n\n// like lodash's uniqBy but much smaller\nfunction uniqBy (arr, func) {\n  const set = new Set();\n  const res = [];\n  for (const item of arr) {\n    const key = func(item);\n    if (!set.has(key)) {\n      set.add(key);\n      res.push(item);\n    }\n  }\n  return res\n}\n\n// We don't need all the data on every emoji, and there are specific things we need\n// for the UI, so build a \"view model\" from the emoji object we got from the database\n\nfunction summarizeEmojisForUI (emojis, emojiSupportLevel) {\n  const toSimpleSkinsMap = skins => {\n    const res = {};\n    for (const skin of skins) {\n      // ignore arrays like [1, 2] with multiple skin tones\n      // also ignore variants that are in an unsupported emoji version\n      // (these do exist - variants from a different version than their base emoji)\n      if (typeof skin.tone === 'number' && skin.version <= emojiSupportLevel) {\n        res[skin.tone] = skin.unicode;\n      }\n    }\n    return res\n  };\n\n  return emojis.map(({ unicode, skins, shortcodes, url, name, category }) => ({\n    unicode,\n    name,\n    shortcodes,\n    url,\n    category,\n    id: unicode || name,\n    skins: skins && toSimpleSkinsMap(skins),\n    title: (shortcodes || []).join(', ')\n  }))\n}\n\n// import rAF from one place so that the bundle size is a bit smaller\nconst rAF = requestAnimationFrame;\n\n// Svelte action to calculate the width of an element and auto-update\n// using ResizeObserver. If ResizeObserver is unsupported, we just use rAF once\n// and don't bother to update.\n\n\nlet resizeObserverSupported = typeof ResizeObserver === 'function';\n\nfunction calculateWidth (node, onUpdate) {\n  let resizeObserver;\n  if (resizeObserverSupported) {\n    resizeObserver = new ResizeObserver(entries => (\n      onUpdate(entries[0].contentRect.width)\n    ));\n    resizeObserver.observe(node);\n  } else { // just set the width once, don't bother trying to track it\n    rAF(() => (\n      onUpdate(node.getBoundingClientRect().width)\n    ));\n  }\n\n  // cleanup function (called on destroy)\n  return {\n    destroy () {\n      if (resizeObserver) {\n        resizeObserver.disconnect();\n      }\n    }\n  }\n}\n\n// get the width of the text inside of a DOM node, via https://stackoverflow.com/a/59525891/680742\nfunction calculateTextWidth (node) {\n  /* istanbul ignore else */\n  {\n    const range = document.createRange();\n    range.selectNode(node.firstChild);\n    return range.getBoundingClientRect().width\n  }\n}\n\nlet baselineEmojiWidth;\n\nfunction checkZwjSupport (zwjEmojisToCheck, baselineEmoji, emojiToDomNode) {\n  for (const emoji of zwjEmojisToCheck) {\n    const domNode = emojiToDomNode(emoji);\n    const emojiWidth = calculateTextWidth(domNode);\n    if (typeof baselineEmojiWidth === 'undefined') { // calculate the baseline emoji width only once\n      baselineEmojiWidth = calculateTextWidth(baselineEmoji);\n    }\n    // On Windows, some supported emoji are ~50% bigger than the baseline emoji, but what we really want to guard\n    // against are the ones that are 2x the size, because those are truly broken (person with red hair = person with\n    // floating red wig, black cat = cat with black square, polar bear = bear with snowflake, etc.)\n    // So here we set the threshold at 1.8 times the size of the baseline emoji.\n    const supported = emojiWidth / 1.8 < baselineEmojiWidth;\n    supportedZwjEmojis.set(emoji.unicode, supported);\n  }\n}\n\n// Measure after style/layout are complete\n// See https://github.com/andrewiggins/afterframe\n\n\nconst requestPostAnimationFrame = callback => {\n  rAF(() => {\n    setTimeout(callback);\n  });\n};\n\n// like lodash's uniq\n\nfunction uniq (arr) {\n  return uniqBy(arr, _ => _)\n}\n\n// Note we put this in its own function outside Picker.js to avoid Svelte doing an invalidation on the \"setter\" here.\n// At best the invalidation is useless, at worst it can cause infinite loops:\n// https://github.com/nolanlawson/emoji-picker-element/pull/180\n// https://github.com/sveltejs/svelte/issues/6521\n// Also note tabpanelElement can be null if the element is disconnected immediately after connected\nfunction resetScrollTopIfPossible (element) {\n  if (element) {\n    element.scrollTop = 0;\n  }\n}\n\n/* src/picker/components/Picker/Picker.svelte generated by Svelte v3.59.1 */\n\nconst { Map: Map_1 } = globals;\n\nfunction get_each_context(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[64] = list[i];\n\tchild_ctx[66] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_1(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[67] = list[i];\n\tchild_ctx[66] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_2(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[64] = list[i];\n\tchild_ctx[66] = i;\n\treturn child_ctx;\n}\n\nfunction get_each_context_3(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[70] = list[i];\n\treturn child_ctx;\n}\n\nfunction get_each_context_4(ctx, list, i) {\n\tconst child_ctx = ctx.slice();\n\tchild_ctx[73] = list[i];\n\tchild_ctx[66] = i;\n\treturn child_ctx;\n}\n\n// (50:38) {#each skinTones as skinTone, i (skinTone)}\nfunction create_each_block_4(key_1, ctx) {\n\tlet div;\n\tlet t_value = /*skinTone*/ ctx[73] + \"\";\n\tlet t;\n\tlet div_id_value;\n\tlet div_class_value;\n\tlet div_aria_selected_value;\n\tlet div_title_value;\n\tlet div_aria_label_value;\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"id\", div_id_value = \"skintone-\" + /*i*/ ctx[66]);\n\n\t\t\tattr(div, \"class\", div_class_value = \"emoji \" + (/*i*/ ctx[66] === /*activeSkinTone*/ ctx[20]\n\t\t\t? 'active'\n\t\t\t: ''));\n\n\t\t\tattr(div, \"aria-selected\", div_aria_selected_value = /*i*/ ctx[66] === /*activeSkinTone*/ ctx[20]);\n\t\t\tattr(div, \"role\", \"option\");\n\t\t\tattr(div, \"title\", div_title_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]]);\n\t\t\tattr(div, \"aria-label\", div_aria_label_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]]);\n\t\t\tthis.first = div;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div, anchor);\n\t\t\tappend(div, t);\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty[0] & /*skinTones*/ 512 && t_value !== (t_value = /*skinTone*/ ctx[73] + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*skinTones*/ 512 && div_id_value !== (div_id_value = \"skintone-\" + /*i*/ ctx[66])) {\n\t\t\t\tattr(div, \"id\", div_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone*/ 1049088 && div_class_value !== (div_class_value = \"emoji \" + (/*i*/ ctx[66] === /*activeSkinTone*/ ctx[20]\n\t\t\t? 'active'\n\t\t\t: ''))) {\n\t\t\t\tattr(div, \"class\", div_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone*/ 1049088 && div_aria_selected_value !== (div_aria_selected_value = /*i*/ ctx[66] === /*activeSkinTone*/ ctx[20])) {\n\t\t\t\tattr(div, \"aria-selected\", div_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, skinTones*/ 513 && div_title_value !== (div_title_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]])) {\n\t\t\t\tattr(div, \"title\", div_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, skinTones*/ 513 && div_aria_label_value !== (div_aria_label_value = /*i18n*/ ctx[0].skinTones[/*i*/ ctx[66]])) {\n\t\t\t\tattr(div, \"aria-label\", div_aria_label_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div);\n\t\t}\n\t};\n}\n\n// (59:33) {#each groups as group (group.id)}\nfunction create_each_block_3(key_1, ctx) {\n\tlet button;\n\tlet div;\n\tlet t_value = /*group*/ ctx[70].emoji + \"\";\n\tlet t;\n\tlet button_aria_controls_value;\n\tlet button_aria_label_value;\n\tlet button_aria_selected_value;\n\tlet button_title_value;\n\tlet mounted;\n\tlet dispose;\n\n\tfunction click_handler() {\n\t\treturn /*click_handler*/ ctx[50](/*group*/ ctx[70]);\n\t}\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tdiv = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tattr(div, \"class\", \"nav-emoji emoji\");\n\t\t\tattr(button, \"role\", \"tab\");\n\t\t\tattr(button, \"class\", \"nav-button\");\n\t\t\tattr(button, \"aria-controls\", button_aria_controls_value = \"tab-\" + /*group*/ ctx[70].id);\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name]);\n\t\t\tattr(button, \"aria-selected\", button_aria_selected_value = !/*searchMode*/ ctx[4] && /*currentGroup*/ ctx[13].id === /*group*/ ctx[70].id);\n\t\t\tattr(button, \"title\", button_title_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name]);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tappend(button, div);\n\t\t\tappend(div, t);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = listen(button, \"click\", click_handler);\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\t\t\tif (dirty[0] & /*groups*/ 4096 && t_value !== (t_value = /*group*/ ctx[70].emoji + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*groups*/ 4096 && button_aria_controls_value !== (button_aria_controls_value = \"tab-\" + /*group*/ ctx[70].id)) {\n\t\t\t\tattr(button, \"aria-controls\", button_aria_controls_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, groups*/ 4097 && button_aria_label_value !== (button_aria_label_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name])) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentGroup, groups*/ 12304 && button_aria_selected_value !== (button_aria_selected_value = !/*searchMode*/ ctx[4] && /*currentGroup*/ ctx[13].id === /*group*/ ctx[70].id)) {\n\t\t\t\tattr(button, \"aria-selected\", button_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n, groups*/ 4097 && button_title_value !== (button_title_value = /*i18n*/ ctx[0].categories[/*group*/ ctx[70].name])) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tmounted = false;\n\t\t\tdispose();\n\t\t}\n\t};\n}\n\n// (100:100) {:else}\nfunction create_else_block_1(ctx) {\n\tlet img;\n\tlet img_src_value;\n\n\treturn {\n\t\tc() {\n\t\t\timg = element(\"img\");\n\t\t\tattr(img, \"class\", \"custom-emoji\");\n\t\t\tif (!src_url_equal(img.src, img_src_value = /*emoji*/ ctx[64].url)) attr(img, \"src\", img_src_value);\n\t\t\tattr(img, \"alt\", \"\");\n\t\t\tattr(img, \"loading\", \"lazy\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, img, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && !src_url_equal(img.src, img_src_value = /*emoji*/ ctx[64].url)) {\n\t\t\t\tattr(img, \"src\", img_src_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(img);\n\t\t}\n\t};\n}\n\n// (100:40) {#if emoji.unicode}\nfunction create_if_block_1(ctx) {\n\tlet t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]) + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tt = text(t_value);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, t, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories, currentSkinTone*/ 33024 && t_value !== (t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]) + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(t);\n\t\t}\n\t};\n}\n\n// (95:53) {#each emojiWithCategory.emojis as emoji, i (emoji.id)}\nfunction create_each_block_2(key_1, ctx) {\n\tlet button;\n\tlet button_role_value;\n\tlet button_aria_selected_value;\n\tlet button_aria_label_value;\n\tlet button_title_value;\n\tlet button_class_value;\n\tlet button_id_value;\n\n\tfunction select_block_type(ctx, dirty) {\n\t\tif (/*emoji*/ ctx[64].unicode) return create_if_block_1;\n\t\treturn create_else_block_1;\n\t}\n\n\tlet current_block_type = select_block_type(ctx);\n\tlet if_block = current_block_type(ctx);\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tif_block.c();\n\t\t\tattr(button, \"role\", button_role_value = /*searchMode*/ ctx[4] ? 'option' : 'menuitem');\n\n\t\t\tattr(button, \"aria-selected\", button_aria_selected_value = /*searchMode*/ ctx[4]\n\t\t\t? /*i*/ ctx[66] == /*activeSearchItem*/ ctx[5]\n\t\t\t: '');\n\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]));\n\t\t\tattr(button, \"title\", button_title_value = /*emoji*/ ctx[64].title);\n\n\t\t\tattr(button, \"class\", button_class_value = \"emoji \" + (/*searchMode*/ ctx[4] && /*i*/ ctx[66] === /*activeSearchItem*/ ctx[5]\n\t\t\t? 'active'\n\t\t\t: ''));\n\n\t\t\tattr(button, \"id\", button_id_value = \"emo-\" + /*emoji*/ ctx[64].id);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tif_block.m(button, null);\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\n\t\t\tif (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {\n\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = current_block_type(ctx);\n\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(button, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 16 && button_role_value !== (button_role_value = /*searchMode*/ ctx[4] ? 'option' : 'menuitem')) {\n\t\t\t\tattr(button, \"role\", button_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem*/ 32816 && button_aria_selected_value !== (button_aria_selected_value = /*searchMode*/ ctx[4]\n\t\t\t? /*i*/ ctx[66] == /*activeSearchItem*/ ctx[5]\n\t\t\t: '')) {\n\t\t\t\tattr(button, \"aria-selected\", button_aria_selected_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories, currentSkinTone*/ 33024 && button_aria_label_value !== (button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && button_title_value !== (button_title_value = /*emoji*/ ctx[64].title)) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem*/ 32816 && button_class_value !== (button_class_value = \"emoji \" + (/*searchMode*/ ctx[4] && /*i*/ ctx[66] === /*activeSearchItem*/ ctx[5]\n\t\t\t? 'active'\n\t\t\t: ''))) {\n\t\t\t\tattr(button, \"class\", button_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && button_id_value !== (button_id_value = \"emo-\" + /*emoji*/ ctx[64].id)) {\n\t\t\t\tattr(button, \"id\", button_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_block.d();\n\t\t}\n\t};\n}\n\n// (76:36) {#each currentEmojisWithCategories as emojiWithCategory, i (emojiWithCategory.category)}\nfunction create_each_block_1(key_1, ctx) {\n\tlet div0;\n\n\tlet t_value = (/*searchMode*/ ctx[4]\n\t? /*i18n*/ ctx[0].searchResultsLabel\n\t: /*emojiWithCategory*/ ctx[67].category\n\t\t? /*emojiWithCategory*/ ctx[67].category\n\t\t: /*currentEmojisWithCategories*/ ctx[15].length > 1\n\t\t\t? /*i18n*/ ctx[0].categories.custom\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name]) + \"\";\n\n\tlet t;\n\tlet div0_id_value;\n\tlet div0_class_value;\n\tlet div1;\n\tlet each_blocks = [];\n\tlet each_1_lookup = new Map_1();\n\tlet div1_role_value;\n\tlet div1_aria_labelledby_value;\n\tlet div1_id_value;\n\tlet each_value_2 = /*emojiWithCategory*/ ctx[67].emojis;\n\tconst get_key = ctx => /*emoji*/ ctx[64].id;\n\n\tfor (let i = 0; i < each_value_2.length; i += 1) {\n\t\tlet child_ctx = get_each_context_2(ctx, each_value_2, i);\n\t\tlet key = get_key(child_ctx);\n\t\teach_1_lookup.set(key, each_blocks[i] = create_each_block_2(key, child_ctx));\n\t}\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tdiv0 = element(\"div\");\n\t\t\tt = text(t_value);\n\t\t\tdiv1 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tattr(div0, \"id\", div0_id_value = \"menu-label-\" + /*i*/ ctx[66]);\n\n\t\t\tattr(div0, \"class\", div0_class_value = \"category \" + (/*currentEmojisWithCategories*/ ctx[15].length === 1 && /*currentEmojisWithCategories*/ ctx[15][0].category === ''\n\t\t\t? 'gone'\n\t\t\t: ''));\n\n\t\t\tattr(div0, \"aria-hidden\", \"true\");\n\t\t\tattr(div1, \"class\", \"emoji-menu\");\n\t\t\tattr(div1, \"role\", div1_role_value = /*searchMode*/ ctx[4] ? 'listbox' : 'menu');\n\t\t\tattr(div1, \"aria-labelledby\", div1_aria_labelledby_value = \"menu-label-\" + /*i*/ ctx[66]);\n\t\t\tattr(div1, \"id\", div1_id_value = /*searchMode*/ ctx[4] ? 'search-results' : '');\n\t\t\tthis.first = div0;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, div0, anchor);\n\t\t\tappend(div0, t);\n\t\t\tinsert(target, div1, anchor);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\teach_blocks[i].m(div1, null);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\n\t\t\tif (dirty[0] & /*searchMode, i18n, currentEmojisWithCategories, currentGroup*/ 40977 && t_value !== (t_value = (/*searchMode*/ ctx[4]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*emojiWithCategory*/ ctx[67].category\n\t\t\t\t? /*emojiWithCategory*/ ctx[67].category\n\t\t\t\t: /*currentEmojisWithCategories*/ ctx[15].length > 1\n\t\t\t\t\t? /*i18n*/ ctx[0].categories.custom\n\t\t\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name]) + \"\")) set_data(t, t_value);\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && div0_id_value !== (div0_id_value = \"menu-label-\" + /*i*/ ctx[66])) {\n\t\t\t\tattr(div0, \"id\", div0_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && div0_class_value !== (div0_class_value = \"category \" + (/*currentEmojisWithCategories*/ ctx[15].length === 1 && /*currentEmojisWithCategories*/ ctx[15][0].category === ''\n\t\t\t? 'gone'\n\t\t\t: ''))) {\n\t\t\t\tattr(div0, \"class\", div0_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem, labelWithSkin, currentSkinTone, unicodeWithSkin*/ 402686256) {\n\t\t\t\teach_value_2 = /*emojiWithCategory*/ ctx[67].emojis;\n\t\t\t\teach_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx, each_value_2, each_1_lookup, div1, destroy_block, create_each_block_2, null, get_each_context_2);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 16 && div1_role_value !== (div1_role_value = /*searchMode*/ ctx[4] ? 'listbox' : 'menu')) {\n\t\t\t\tattr(div1, \"role\", div1_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentEmojisWithCategories*/ 32768 && div1_aria_labelledby_value !== (div1_aria_labelledby_value = \"menu-label-\" + /*i*/ ctx[66])) {\n\t\t\t\tattr(div1, \"aria-labelledby\", div1_aria_labelledby_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 16 && div1_id_value !== (div1_id_value = /*searchMode*/ ctx[4] ? 'search-results' : '')) {\n\t\t\t\tattr(div1, \"id\", div1_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(div0);\n\t\t\tif (detaching) detach(div1);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].d();\n\t\t\t}\n\t\t}\n\t};\n}\n\n// (109:94) {:else}\nfunction create_else_block(ctx) {\n\tlet img;\n\tlet img_src_value;\n\n\treturn {\n\t\tc() {\n\t\t\timg = element(\"img\");\n\t\t\tattr(img, \"class\", \"custom-emoji\");\n\t\t\tif (!src_url_equal(img.src, img_src_value = /*emoji*/ ctx[64].url)) attr(img, \"src\", img_src_value);\n\t\t\tattr(img, \"alt\", \"\");\n\t\t\tattr(img, \"loading\", \"lazy\");\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, img, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1024 && !src_url_equal(img.src, img_src_value = /*emoji*/ ctx[64].url)) {\n\t\t\t\tattr(img, \"src\", img_src_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(img);\n\t\t}\n\t};\n}\n\n// (109:34) {#if emoji.unicode}\nfunction create_if_block(ctx) {\n\tlet t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]) + \"\";\n\tlet t;\n\n\treturn {\n\t\tc() {\n\t\t\tt = text(t_value);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, t, anchor);\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*currentFavorites, currentSkinTone*/ 1280 && t_value !== (t_value = /*unicodeWithSkin*/ ctx[27](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]) + \"\")) set_data(t, t_value);\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(t);\n\t\t}\n\t};\n}\n\n// (105:102) {#each currentFavorites as emoji, i (emoji.id)}\nfunction create_each_block(key_1, ctx) {\n\tlet button;\n\tlet button_aria_label_value;\n\tlet button_title_value;\n\tlet button_id_value;\n\n\tfunction select_block_type_1(ctx, dirty) {\n\t\tif (/*emoji*/ ctx[64].unicode) return create_if_block;\n\t\treturn create_else_block;\n\t}\n\n\tlet current_block_type = select_block_type_1(ctx);\n\tlet if_block = current_block_type(ctx);\n\n\treturn {\n\t\tkey: key_1,\n\t\tfirst: null,\n\t\tc() {\n\t\t\tbutton = element(\"button\");\n\t\t\tif_block.c();\n\t\t\tattr(button, \"role\", \"menuitem\");\n\t\t\tattr(button, \"aria-label\", button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]));\n\t\t\tattr(button, \"title\", button_title_value = /*emoji*/ ctx[64].title);\n\t\t\tattr(button, \"class\", \"emoji\");\n\t\t\tattr(button, \"id\", button_id_value = \"fav-\" + /*emoji*/ ctx[64].id);\n\t\t\tthis.first = button;\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, button, anchor);\n\t\t\tif_block.m(button, null);\n\t\t},\n\t\tp(new_ctx, dirty) {\n\t\t\tctx = new_ctx;\n\n\t\t\tif (current_block_type === (current_block_type = select_block_type_1(ctx)) && if_block) {\n\t\t\t\tif_block.p(ctx, dirty);\n\t\t\t} else {\n\t\t\t\tif_block.d(1);\n\t\t\t\tif_block = current_block_type(ctx);\n\n\t\t\t\tif (if_block) {\n\t\t\t\t\tif_block.c();\n\t\t\t\t\tif_block.m(button, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites, currentSkinTone*/ 1280 && button_aria_label_value !== (button_aria_label_value = /*labelWithSkin*/ ctx[28](/*emoji*/ ctx[64], /*currentSkinTone*/ ctx[8]))) {\n\t\t\t\tattr(button, \"aria-label\", button_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1024 && button_title_value !== (button_title_value = /*emoji*/ ctx[64].title)) {\n\t\t\t\tattr(button, \"title\", button_title_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*currentFavorites*/ 1024 && button_id_value !== (button_id_value = \"fav-\" + /*emoji*/ ctx[64].id)) {\n\t\t\t\tattr(button, \"id\", button_id_value);\n\t\t\t}\n\t\t},\n\t\td(detaching) {\n\t\t\tif (detaching) detach(button);\n\t\t\tif_block.d();\n\t\t}\n\t};\n}\n\nfunction create_fragment(ctx) {\n\tlet section;\n\tlet div0;\n\tlet div4;\n\tlet div1;\n\tlet input;\n\tlet input_placeholder_value;\n\tlet input_aria_expanded_value;\n\tlet input_aria_activedescendant_value;\n\tlet label;\n\tlet t0_value = /*i18n*/ ctx[0].searchLabel + \"\";\n\tlet t0;\n\tlet span0;\n\tlet t1_value = /*i18n*/ ctx[0].searchDescription + \"\";\n\tlet t1;\n\tlet div2;\n\tlet button0;\n\tlet t2;\n\tlet button0_class_value;\n\tlet div2_class_value;\n\tlet span1;\n\tlet t3_value = /*i18n*/ ctx[0].skinToneDescription + \"\";\n\tlet t3;\n\tlet div3;\n\tlet each_blocks_3 = [];\n\tlet each0_lookup = new Map_1();\n\tlet div3_class_value;\n\tlet div3_aria_label_value;\n\tlet div3_aria_activedescendant_value;\n\tlet div3_aria_hidden_value;\n\tlet div5;\n\tlet each_blocks_2 = [];\n\tlet each1_lookup = new Map_1();\n\tlet div5_aria_label_value;\n\tlet div7;\n\tlet div6;\n\tlet div8;\n\tlet t4;\n\tlet div8_class_value;\n\tlet div10;\n\tlet div9;\n\tlet each_blocks_1 = [];\n\tlet each2_lookup = new Map_1();\n\tlet div10_class_value;\n\tlet div10_role_value;\n\tlet div10_aria_label_value;\n\tlet div10_id_value;\n\tlet div11;\n\tlet each_blocks = [];\n\tlet each3_lookup = new Map_1();\n\tlet div11_class_value;\n\tlet div11_aria_label_value;\n\tlet button1;\n\tlet section_aria_label_value;\n\tlet mounted;\n\tlet dispose;\n\tlet each_value_4 = /*skinTones*/ ctx[9];\n\tconst get_key = ctx => /*skinTone*/ ctx[73];\n\n\tfor (let i = 0; i < each_value_4.length; i += 1) {\n\t\tlet child_ctx = get_each_context_4(ctx, each_value_4, i);\n\t\tlet key = get_key(child_ctx);\n\t\teach0_lookup.set(key, each_blocks_3[i] = create_each_block_4(key, child_ctx));\n\t}\n\n\tlet each_value_3 = /*groups*/ ctx[12];\n\tconst get_key_1 = ctx => /*group*/ ctx[70].id;\n\n\tfor (let i = 0; i < each_value_3.length; i += 1) {\n\t\tlet child_ctx = get_each_context_3(ctx, each_value_3, i);\n\t\tlet key = get_key_1(child_ctx);\n\t\teach1_lookup.set(key, each_blocks_2[i] = create_each_block_3(key, child_ctx));\n\t}\n\n\tlet each_value_1 = /*currentEmojisWithCategories*/ ctx[15];\n\tconst get_key_2 = ctx => /*emojiWithCategory*/ ctx[67].category;\n\n\tfor (let i = 0; i < each_value_1.length; i += 1) {\n\t\tlet child_ctx = get_each_context_1(ctx, each_value_1, i);\n\t\tlet key = get_key_2(child_ctx);\n\t\teach2_lookup.set(key, each_blocks_1[i] = create_each_block_1(key, child_ctx));\n\t}\n\n\tlet each_value = /*currentFavorites*/ ctx[10];\n\tconst get_key_3 = ctx => /*emoji*/ ctx[64].id;\n\n\tfor (let i = 0; i < each_value.length; i += 1) {\n\t\tlet child_ctx = get_each_context(ctx, each_value, i);\n\t\tlet key = get_key_3(child_ctx);\n\t\teach3_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));\n\t}\n\n\treturn {\n\t\tc() {\n\t\t\tsection = element(\"section\");\n\t\t\tdiv0 = element(\"div\");\n\t\t\tdiv4 = element(\"div\");\n\t\t\tdiv1 = element(\"div\");\n\t\t\tinput = element(\"input\");\n\t\t\tlabel = element(\"label\");\n\t\t\tt0 = text(t0_value);\n\t\t\tspan0 = element(\"span\");\n\t\t\tt1 = text(t1_value);\n\t\t\tdiv2 = element(\"div\");\n\t\t\tbutton0 = element(\"button\");\n\t\t\tt2 = text(/*skinToneButtonText*/ ctx[21]);\n\t\t\tspan1 = element(\"span\");\n\t\t\tt3 = text(t3_value);\n\t\t\tdiv3 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].c();\n\t\t\t}\n\n\t\t\tdiv5 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].c();\n\t\t\t}\n\n\t\t\tdiv7 = element(\"div\");\n\t\t\tdiv6 = element(\"div\");\n\t\t\tdiv8 = element(\"div\");\n\t\t\tt4 = text(/*message*/ ctx[18]);\n\t\t\tdiv10 = element(\"div\");\n\t\t\tdiv9 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].c();\n\t\t\t}\n\n\t\t\tdiv11 = element(\"div\");\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].c();\n\t\t\t}\n\n\t\t\tbutton1 = element(\"button\");\n\t\t\tbutton1.textContent = \"😀\";\n\t\t\tattr(div0, \"class\", \"pad-top\");\n\t\t\tattr(input, \"id\", \"search\");\n\t\t\tattr(input, \"class\", \"search\");\n\t\t\tattr(input, \"type\", \"search\");\n\t\t\tattr(input, \"role\", \"combobox\");\n\t\t\tattr(input, \"enterkeyhint\", \"search\");\n\t\t\tattr(input, \"placeholder\", input_placeholder_value = /*i18n*/ ctx[0].searchLabel);\n\t\t\tattr(input, \"autocapitalize\", \"none\");\n\t\t\tattr(input, \"autocomplete\", \"off\");\n\t\t\tattr(input, \"spellcheck\", \"true\");\n\t\t\tattr(input, \"aria-expanded\", input_aria_expanded_value = !!(/*searchMode*/ ctx[4] && /*currentEmojis*/ ctx[1].length));\n\t\t\tattr(input, \"aria-controls\", \"search-results\");\n\t\t\tattr(input, \"aria-describedby\", \"search-description\");\n\t\t\tattr(input, \"aria-autocomplete\", \"list\");\n\n\t\t\tattr(input, \"aria-activedescendant\", input_aria_activedescendant_value = /*activeSearchItemId*/ ctx[26]\n\t\t\t? `emo-${/*activeSearchItemId*/ ctx[26]}`\n\t\t\t: '');\n\n\t\t\tattr(label, \"class\", \"sr-only\");\n\t\t\tattr(label, \"for\", \"search\");\n\t\t\tattr(span0, \"id\", \"search-description\");\n\t\t\tattr(span0, \"class\", \"sr-only\");\n\t\t\tattr(div1, \"class\", \"search-wrapper\");\n\t\t\tattr(button0, \"id\", \"skintone-button\");\n\t\t\tattr(button0, \"class\", button0_class_value = \"emoji \" + (/*skinTonePickerExpanded*/ ctx[6] ? 'hide-focus' : ''));\n\t\t\tattr(button0, \"aria-label\", /*skinToneButtonLabel*/ ctx[23]);\n\t\t\tattr(button0, \"title\", /*skinToneButtonLabel*/ ctx[23]);\n\t\t\tattr(button0, \"aria-describedby\", \"skintone-description\");\n\t\t\tattr(button0, \"aria-haspopup\", \"listbox\");\n\t\t\tattr(button0, \"aria-expanded\", /*skinTonePickerExpanded*/ ctx[6]);\n\t\t\tattr(button0, \"aria-controls\", \"skintone-list\");\n\n\t\t\tattr(div2, \"class\", div2_class_value = \"skintone-button-wrapper \" + (/*skinTonePickerExpandedAfterAnimation*/ ctx[19]\n\t\t\t? 'expanded'\n\t\t\t: ''));\n\n\t\t\tattr(span1, \"id\", \"skintone-description\");\n\t\t\tattr(span1, \"class\", \"sr-only\");\n\t\t\tattr(div3, \"id\", \"skintone-list\");\n\n\t\t\tattr(div3, \"class\", div3_class_value = \"skintone-list hide-focus \" + (/*skinTonePickerExpanded*/ ctx[6]\n\t\t\t? ''\n\t\t\t: 'hidden no-animate'));\n\n\t\t\tset_style(div3, \"transform\", \"translateY(\" + (/*skinTonePickerExpanded*/ ctx[6]\n\t\t\t? 0\n\t\t\t: 'calc(-1 * var(--num-skintones) * var(--total-emoji-size))') + \")\");\n\n\t\t\tattr(div3, \"role\", \"listbox\");\n\t\t\tattr(div3, \"aria-label\", div3_aria_label_value = /*i18n*/ ctx[0].skinTonesLabel);\n\t\t\tattr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value = \"skintone-\" + /*activeSkinTone*/ ctx[20]);\n\t\t\tattr(div3, \"aria-hidden\", div3_aria_hidden_value = !/*skinTonePickerExpanded*/ ctx[6]);\n\t\t\tattr(div3, \"tabindex\", \"-1\");\n\t\t\tattr(div4, \"class\", \"search-row\");\n\t\t\tattr(div5, \"class\", \"nav\");\n\t\t\tattr(div5, \"role\", \"tablist\");\n\t\t\tset_style(div5, \"grid-template-columns\", \"repeat(\" + /*groups*/ ctx[12].length + \", 1fr)\");\n\t\t\tattr(div5, \"aria-label\", div5_aria_label_value = /*i18n*/ ctx[0].categoriesLabel);\n\t\t\tattr(div6, \"class\", \"indicator\");\n\t\t\tset_style(div6, \"transform\", \"translateX(\" + (/*isRtl*/ ctx[24] ? -1 : 1) * /*currentGroupIndex*/ ctx[11] * 100 + \"%)\");\n\t\t\tattr(div7, \"class\", \"indicator-wrapper\");\n\t\t\tattr(div8, \"class\", div8_class_value = \"message \" + (/*message*/ ctx[18] ? '' : 'gone'));\n\t\t\tattr(div8, \"role\", \"alert\");\n\t\t\tattr(div8, \"aria-live\", \"polite\");\n\n\t\t\tattr(div10, \"class\", div10_class_value = \"tabpanel \" + (!/*databaseLoaded*/ ctx[14] || /*message*/ ctx[18]\n\t\t\t? 'gone'\n\t\t\t: ''));\n\n\t\t\tattr(div10, \"role\", div10_role_value = /*searchMode*/ ctx[4] ? 'region' : 'tabpanel');\n\n\t\t\tattr(div10, \"aria-label\", div10_aria_label_value = /*searchMode*/ ctx[4]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name]);\n\n\t\t\tattr(div10, \"id\", div10_id_value = /*searchMode*/ ctx[4]\n\t\t\t? ''\n\t\t\t: `tab-${/*currentGroup*/ ctx[13].id}`);\n\n\t\t\tattr(div10, \"tabindex\", \"0\");\n\t\t\tattr(div11, \"class\", div11_class_value = \"favorites emoji-menu \" + (/*message*/ ctx[18] ? 'gone' : ''));\n\t\t\tattr(div11, \"role\", \"menu\");\n\t\t\tattr(div11, \"aria-label\", div11_aria_label_value = /*i18n*/ ctx[0].favoritesLabel);\n\t\t\tset_style(div11, \"padding-inline-end\", /*scrollbarWidth*/ ctx[25] + \"px\");\n\t\t\tattr(button1, \"aria-hidden\", \"true\");\n\t\t\tattr(button1, \"tabindex\", \"-1\");\n\t\t\tattr(button1, \"class\", \"abs-pos hidden emoji\");\n\t\t\tattr(section, \"class\", \"picker\");\n\t\t\tattr(section, \"aria-label\", section_aria_label_value = /*i18n*/ ctx[0].regionLabel);\n\t\t\tattr(section, \"style\", /*pickerStyle*/ ctx[22]);\n\t\t},\n\t\tm(target, anchor) {\n\t\t\tinsert(target, section, anchor);\n\t\t\tappend(section, div0);\n\t\t\tappend(section, div4);\n\t\t\tappend(div4, div1);\n\t\t\tappend(div1, input);\n\t\t\tset_input_value(input, /*rawSearchText*/ ctx[2]);\n\t\t\tappend(div1, label);\n\t\t\tappend(label, t0);\n\t\t\tappend(div1, span0);\n\t\t\tappend(span0, t1);\n\t\t\tappend(div4, div2);\n\t\t\tappend(div2, button0);\n\t\t\tappend(button0, t2);\n\t\t\tappend(div4, span1);\n\t\t\tappend(span1, t3);\n\t\t\tappend(div4, div3);\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\tif (each_blocks_3[i]) {\n\t\t\t\t\teach_blocks_3[i].m(div3, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*div3_binding*/ ctx[49](div3);\n\t\t\tappend(section, div5);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\tif (each_blocks_2[i]) {\n\t\t\t\t\teach_blocks_2[i].m(div5, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tappend(section, div7);\n\t\t\tappend(div7, div6);\n\t\t\tappend(section, div8);\n\t\t\tappend(div8, t4);\n\t\t\tappend(section, div10);\n\t\t\tappend(div10, div9);\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\tif (each_blocks_1[i]) {\n\t\t\t\t\teach_blocks_1[i].m(div9, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*div10_binding*/ ctx[51](div10);\n\t\t\tappend(section, div11);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\tif (each_blocks[i]) {\n\t\t\t\t\teach_blocks[i].m(div11, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tappend(section, button1);\n\t\t\t/*button1_binding*/ ctx[52](button1);\n\t\t\t/*section_binding*/ ctx[53](section);\n\n\t\t\tif (!mounted) {\n\t\t\t\tdispose = [\n\t\t\t\t\tlisten(input, \"input\", /*input_input_handler*/ ctx[48]),\n\t\t\t\t\tlisten(input, \"keydown\", /*onSearchKeydown*/ ctx[30]),\n\t\t\t\t\tlisten(button0, \"click\", /*onClickSkinToneButton*/ ctx[35]),\n\t\t\t\t\tlisten(div3, \"focusout\", /*onSkinToneOptionsFocusOut*/ ctx[38]),\n\t\t\t\t\tlisten(div3, \"click\", /*onSkinToneOptionsClick*/ ctx[34]),\n\t\t\t\t\tlisten(div3, \"keydown\", /*onSkinToneOptionsKeydown*/ ctx[36]),\n\t\t\t\t\tlisten(div3, \"keyup\", /*onSkinToneOptionsKeyup*/ ctx[37]),\n\t\t\t\t\tlisten(div5, \"keydown\", /*onNavKeydown*/ ctx[32]),\n\t\t\t\t\taction_destroyer(/*calculateEmojiGridStyle*/ ctx[29].call(null, div9)),\n\t\t\t\t\tlisten(div10, \"click\", /*onEmojiClick*/ ctx[33]),\n\t\t\t\t\tlisten(div11, \"click\", /*onEmojiClick*/ ctx[33])\n\t\t\t\t];\n\n\t\t\t\tmounted = true;\n\t\t\t}\n\t\t},\n\t\tp(ctx, dirty) {\n\t\t\tif (dirty[0] & /*i18n*/ 1 && input_placeholder_value !== (input_placeholder_value = /*i18n*/ ctx[0].searchLabel)) {\n\t\t\t\tattr(input, \"placeholder\", input_placeholder_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojis*/ 18 && input_aria_expanded_value !== (input_aria_expanded_value = !!(/*searchMode*/ ctx[4] && /*currentEmojis*/ ctx[1].length))) {\n\t\t\t\tattr(input, \"aria-expanded\", input_aria_expanded_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*activeSearchItemId*/ 67108864 && input_aria_activedescendant_value !== (input_aria_activedescendant_value = /*activeSearchItemId*/ ctx[26]\n\t\t\t? `emo-${/*activeSearchItemId*/ ctx[26]}`\n\t\t\t: '')) {\n\t\t\t\tattr(input, \"aria-activedescendant\", input_aria_activedescendant_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*rawSearchText*/ 4 && input.value !== /*rawSearchText*/ ctx[2]) {\n\t\t\t\tset_input_value(input, /*rawSearchText*/ ctx[2]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t0_value !== (t0_value = /*i18n*/ ctx[0].searchLabel + \"\")) set_data(t0, t0_value);\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t1_value !== (t1_value = /*i18n*/ ctx[0].searchDescription + \"\")) set_data(t1, t1_value);\n\t\t\tif (dirty[0] & /*skinToneButtonText*/ 2097152) set_data(t2, /*skinToneButtonText*/ ctx[21]);\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64 && button0_class_value !== (button0_class_value = \"emoji \" + (/*skinTonePickerExpanded*/ ctx[6] ? 'hide-focus' : ''))) {\n\t\t\t\tattr(button0, \"class\", button0_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinToneButtonLabel*/ 8388608) {\n\t\t\t\tattr(button0, \"aria-label\", /*skinToneButtonLabel*/ ctx[23]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinToneButtonLabel*/ 8388608) {\n\t\t\t\tattr(button0, \"title\", /*skinToneButtonLabel*/ ctx[23]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64) {\n\t\t\t\tattr(button0, \"aria-expanded\", /*skinTonePickerExpanded*/ ctx[6]);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpandedAfterAnimation*/ 524288 && div2_class_value !== (div2_class_value = \"skintone-button-wrapper \" + (/*skinTonePickerExpandedAfterAnimation*/ ctx[19]\n\t\t\t? 'expanded'\n\t\t\t: ''))) {\n\t\t\t\tattr(div2, \"class\", div2_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && t3_value !== (t3_value = /*i18n*/ ctx[0].skinToneDescription + \"\")) set_data(t3, t3_value);\n\n\t\t\tif (dirty[0] & /*skinTones, activeSkinTone, i18n*/ 1049089) {\n\t\t\t\teach_value_4 = /*skinTones*/ ctx[9];\n\t\t\t\teach_blocks_3 = update_keyed_each(each_blocks_3, dirty, get_key, 1, ctx, each_value_4, each0_lookup, div3, destroy_block, create_each_block_4, null, get_each_context_4);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64 && div3_class_value !== (div3_class_value = \"skintone-list hide-focus \" + (/*skinTonePickerExpanded*/ ctx[6]\n\t\t\t? ''\n\t\t\t: 'hidden no-animate'))) {\n\t\t\t\tattr(div3, \"class\", div3_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64) {\n\t\t\t\tset_style(div3, \"transform\", \"translateY(\" + (/*skinTonePickerExpanded*/ ctx[6]\n\t\t\t\t? 0\n\t\t\t\t: 'calc(-1 * var(--num-skintones) * var(--total-emoji-size))') + \")\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div3_aria_label_value !== (div3_aria_label_value = /*i18n*/ ctx[0].skinTonesLabel)) {\n\t\t\t\tattr(div3, \"aria-label\", div3_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*activeSkinTone*/ 1048576 && div3_aria_activedescendant_value !== (div3_aria_activedescendant_value = \"skintone-\" + /*activeSkinTone*/ ctx[20])) {\n\t\t\t\tattr(div3, \"aria-activedescendant\", div3_aria_activedescendant_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*skinTonePickerExpanded*/ 64 && div3_aria_hidden_value !== (div3_aria_hidden_value = !/*skinTonePickerExpanded*/ ctx[6])) {\n\t\t\t\tattr(div3, \"aria-hidden\", div3_aria_hidden_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*groups, i18n, searchMode, currentGroup*/ 12305 | dirty[1] & /*onNavClick*/ 1) {\n\t\t\t\teach_value_3 = /*groups*/ ctx[12];\n\t\t\t\teach_blocks_2 = update_keyed_each(each_blocks_2, dirty, get_key_1, 1, ctx, each_value_3, each1_lookup, div5, destroy_block, create_each_block_3, null, get_each_context_3);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*groups*/ 4096) {\n\t\t\t\tset_style(div5, \"grid-template-columns\", \"repeat(\" + /*groups*/ ctx[12].length + \", 1fr)\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div5_aria_label_value !== (div5_aria_label_value = /*i18n*/ ctx[0].categoriesLabel)) {\n\t\t\t\tattr(div5, \"aria-label\", div5_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*isRtl, currentGroupIndex*/ 16779264) {\n\t\t\t\tset_style(div6, \"transform\", \"translateX(\" + (/*isRtl*/ ctx[24] ? -1 : 1) * /*currentGroupIndex*/ ctx[11] * 100 + \"%)\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*message*/ 262144) set_data(t4, /*message*/ ctx[18]);\n\n\t\t\tif (dirty[0] & /*message*/ 262144 && div8_class_value !== (div8_class_value = \"message \" + (/*message*/ ctx[18] ? '' : 'gone'))) {\n\t\t\t\tattr(div8, \"class\", div8_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentEmojisWithCategories, activeSearchItem, labelWithSkin, currentSkinTone, unicodeWithSkin, i18n, currentGroup*/ 402694449) {\n\t\t\t\teach_value_1 = /*currentEmojisWithCategories*/ ctx[15];\n\t\t\t\teach_blocks_1 = update_keyed_each(each_blocks_1, dirty, get_key_2, 1, ctx, each_value_1, each2_lookup, div9, destroy_block, create_each_block_1, null, get_each_context_1);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*databaseLoaded, message*/ 278528 && div10_class_value !== (div10_class_value = \"tabpanel \" + (!/*databaseLoaded*/ ctx[14] || /*message*/ ctx[18]\n\t\t\t? 'gone'\n\t\t\t: ''))) {\n\t\t\t\tattr(div10, \"class\", div10_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode*/ 16 && div10_role_value !== (div10_role_value = /*searchMode*/ ctx[4] ? 'region' : 'tabpanel')) {\n\t\t\t\tattr(div10, \"role\", div10_role_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, i18n, currentGroup*/ 8209 && div10_aria_label_value !== (div10_aria_label_value = /*searchMode*/ ctx[4]\n\t\t\t? /*i18n*/ ctx[0].searchResultsLabel\n\t\t\t: /*i18n*/ ctx[0].categories[/*currentGroup*/ ctx[13].name])) {\n\t\t\t\tattr(div10, \"aria-label\", div10_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*searchMode, currentGroup*/ 8208 && div10_id_value !== (div10_id_value = /*searchMode*/ ctx[4]\n\t\t\t? ''\n\t\t\t: `tab-${/*currentGroup*/ ctx[13].id}`)) {\n\t\t\t\tattr(div10, \"id\", div10_id_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*labelWithSkin, currentFavorites, currentSkinTone, unicodeWithSkin*/ 402654464) {\n\t\t\t\teach_value = /*currentFavorites*/ ctx[10];\n\t\t\t\teach_blocks = update_keyed_each(each_blocks, dirty, get_key_3, 1, ctx, each_value, each3_lookup, div11, destroy_block, create_each_block, null, get_each_context);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*message*/ 262144 && div11_class_value !== (div11_class_value = \"favorites emoji-menu \" + (/*message*/ ctx[18] ? 'gone' : ''))) {\n\t\t\t\tattr(div11, \"class\", div11_class_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && div11_aria_label_value !== (div11_aria_label_value = /*i18n*/ ctx[0].favoritesLabel)) {\n\t\t\t\tattr(div11, \"aria-label\", div11_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*scrollbarWidth*/ 33554432) {\n\t\t\t\tset_style(div11, \"padding-inline-end\", /*scrollbarWidth*/ ctx[25] + \"px\");\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*i18n*/ 1 && section_aria_label_value !== (section_aria_label_value = /*i18n*/ ctx[0].regionLabel)) {\n\t\t\t\tattr(section, \"aria-label\", section_aria_label_value);\n\t\t\t}\n\n\t\t\tif (dirty[0] & /*pickerStyle*/ 4194304) {\n\t\t\t\tattr(section, \"style\", /*pickerStyle*/ ctx[22]);\n\t\t\t}\n\t\t},\n\t\ti: noop,\n\t\to: noop,\n\t\td(detaching) {\n\t\t\tif (detaching) detach(section);\n\n\t\t\tfor (let i = 0; i < each_blocks_3.length; i += 1) {\n\t\t\t\teach_blocks_3[i].d();\n\t\t\t}\n\n\t\t\t/*div3_binding*/ ctx[49](null);\n\n\t\t\tfor (let i = 0; i < each_blocks_2.length; i += 1) {\n\t\t\t\teach_blocks_2[i].d();\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < each_blocks_1.length; i += 1) {\n\t\t\t\teach_blocks_1[i].d();\n\t\t\t}\n\n\t\t\t/*div10_binding*/ ctx[51](null);\n\n\t\t\tfor (let i = 0; i < each_blocks.length; i += 1) {\n\t\t\t\teach_blocks[i].d();\n\t\t\t}\n\n\t\t\t/*button1_binding*/ ctx[52](null);\n\t\t\t/*section_binding*/ ctx[53](null);\n\t\t\tmounted = false;\n\t\t\trun_all(dispose);\n\t\t}\n\t};\n}\n\nfunction instance($$self, $$props, $$invalidate) {\n\tlet { skinToneEmoji } = $$props;\n\tlet { i18n } = $$props;\n\tlet { database } = $$props;\n\tlet { customEmoji } = $$props;\n\tlet { customCategorySorting } = $$props;\n\tlet { emojiVersion } = $$props;\n\n\t// private\n\tlet initialLoad = true;\n\n\tlet currentEmojis = [];\n\tlet currentEmojisWithCategories = []; // eslint-disable-line no-unused-vars\n\tlet rawSearchText = '';\n\tlet searchText = '';\n\tlet rootElement;\n\tlet baselineEmoji;\n\tlet tabpanelElement;\n\tlet searchMode = false; // eslint-disable-line no-unused-vars\n\tlet activeSearchItem = -1;\n\tlet message; // eslint-disable-line no-unused-vars\n\tlet skinTonePickerExpanded = false;\n\tlet skinTonePickerExpandedAfterAnimation = false; // eslint-disable-line no-unused-vars\n\tlet skinToneDropdown;\n\tlet currentSkinTone = 0;\n\tlet activeSkinTone = 0;\n\tlet skinToneButtonText; // eslint-disable-line no-unused-vars\n\tlet pickerStyle; // eslint-disable-line no-unused-vars\n\tlet skinToneButtonLabel = ''; // eslint-disable-line no-unused-vars\n\tlet skinTones = [];\n\tlet currentFavorites = []; // eslint-disable-line no-unused-vars\n\tlet defaultFavoriteEmojis;\n\tlet numColumns = DEFAULT_NUM_COLUMNS;\n\tlet isRtl = false; // eslint-disable-line no-unused-vars\n\tlet scrollbarWidth = 0; // eslint-disable-line no-unused-vars\n\tlet currentGroupIndex = 0;\n\tlet groups$1 = groups;\n\tlet currentGroup;\n\tlet databaseLoaded = false; // eslint-disable-line no-unused-vars\n\tlet activeSearchItemId; // eslint-disable-line no-unused-vars\n\n\t//\n\t// Utils/helpers\n\t//\n\tconst focus = id => {\n\t\trootElement.getRootNode().getElementById(id).focus();\n\t};\n\n\t// fire a custom event that crosses the shadow boundary\n\tconst fireEvent = (name, detail) => {\n\t\trootElement.dispatchEvent(new CustomEvent(name, { detail, bubbles: true, composed: true }));\n\t};\n\n\t// eslint-disable-next-line no-unused-vars\n\tconst unicodeWithSkin = (emoji, currentSkinTone) => currentSkinTone && emoji.skins && emoji.skins[currentSkinTone] || emoji.unicode;\n\n\t// eslint-disable-next-line no-unused-vars\n\tconst labelWithSkin = (emoji, currentSkinTone) => uniq([\n\t\temoji.name || unicodeWithSkin(emoji, currentSkinTone),\n\t\t...emoji.shortcodes || []\n\t]).join(', ');\n\n\t//\n\t// Determine the emoji support level (in requestIdleCallback)\n\t//\n\tonMount(() => {\n\t\tif (!emojiVersion) {\n\t\t\tdetectEmojiSupportLevel().then(level => {\n\t\t\t\t// Can't actually test emoji support in Jest/JSDom, emoji never render in color in Cairo\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif (!level) {\n\t\t\t\t\t$$invalidate(18, message = i18n.emojiUnsupportedMessage);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\t//\n\t// Calculate the width of the emoji grid. This serves two purposes:\n\t// 1) Re-calculate the --num-columns var because it may have changed\n\t// 2) Re-calculate the scrollbar width because it may have changed\n\t//   (i.e. because the number of items changed)\n\t// 3) Re-calculate whether we're in RTL mode or not.\n\t//\n\t// The benefit of doing this in one place is to align with rAF/ResizeObserver\n\t// and do all the calculations in one go. RTL vs LTR is not strictly width-related,\n\t// but since we're already reading the style here, and since it's already aligned with\n\t// the rAF loop, this is the most appropriate place to do it perf-wise.\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction calculateEmojiGridStyle(node) {\n\t\treturn calculateWidth(node, width => {\n\t\t\t/* istanbul ignore next */\n\t\t\tif (\"production\" !== 'test') {\n\t\t\t\t// jsdom throws errors for this kind of fancy stuff\n\t\t\t\t// read all the style/layout calculations we need to make\n\t\t\t\tconst style = getComputedStyle(rootElement);\n\n\t\t\t\tconst newNumColumns = parseInt(style.getPropertyValue('--num-columns'), 10);\n\t\t\t\tconst newIsRtl = style.getPropertyValue('direction') === 'rtl';\n\t\t\t\tconst parentWidth = node.parentElement.getBoundingClientRect().width;\n\t\t\t\tconst newScrollbarWidth = parentWidth - width;\n\n\t\t\t\t// write to Svelte variables\n\t\t\t\t$$invalidate(47, numColumns = newNumColumns);\n\n\t\t\t\t$$invalidate(25, scrollbarWidth = newScrollbarWidth); // eslint-disable-line no-unused-vars\n\t\t\t\t$$invalidate(24, isRtl = newIsRtl); // eslint-disable-line no-unused-vars\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction checkZwjSupportAndUpdate(zwjEmojisToCheck) {\n\t\tconst rootNode = rootElement.getRootNode();\n\t\tconst emojiToDomNode = emoji => rootNode.getElementById(`emo-${emoji.id}`);\n\t\tcheckZwjSupport(zwjEmojisToCheck, baselineEmoji, emojiToDomNode);\n\n\t\t// force update\n\t\t$$invalidate(1, currentEmojis = currentEmojis); // eslint-disable-line no-self-assign\n\t}\n\n\tfunction isZwjSupported(emoji) {\n\t\treturn !emoji.unicode || !hasZwj(emoji) || supportedZwjEmojis.get(emoji.unicode);\n\t}\n\n\tasync function filterEmojisByVersion(emojis) {\n\t\tconst emojiSupportLevel = emojiVersion || await detectEmojiSupportLevel();\n\n\t\t// !version corresponds to custom emoji\n\t\treturn emojis.filter(({ version }) => !version || version <= emojiSupportLevel);\n\t}\n\n\tasync function summarizeEmojis(emojis) {\n\t\treturn summarizeEmojisForUI(emojis, emojiVersion || await detectEmojiSupportLevel());\n\t}\n\n\tasync function getEmojisByGroup(group) {\n\n\t\t// -1 is custom emoji\n\t\tconst emoji = group === -1\n\t\t? customEmoji\n\t\t: await database.getEmojiByGroup(group);\n\n\t\treturn summarizeEmojis(await filterEmojisByVersion(emoji));\n\t}\n\n\tasync function getEmojisBySearchQuery(query) {\n\t\treturn summarizeEmojis(await filterEmojisByVersion(await database.getEmojiBySearchQuery(query)));\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSearchKeydown(event) {\n\t\tif (!searchMode || !currentEmojis.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst goToNextOrPrevious = previous => {\n\t\t\thalt(event);\n\t\t\t$$invalidate(5, activeSearchItem = incrementOrDecrement(previous, activeSearchItem, currentEmojis));\n\t\t};\n\n\t\tswitch (event.key) {\n\t\t\tcase 'ArrowDown':\n\t\t\t\treturn goToNextOrPrevious(false);\n\t\t\tcase 'ArrowUp':\n\t\t\t\treturn goToNextOrPrevious(true);\n\t\t\tcase 'Enter':\n\t\t\t\tif (activeSearchItem !== -1) {\n\t\t\t\t\thalt(event);\n\t\t\t\t\treturn clickEmoji(currentEmojis[activeSearchItem].id);\n\t\t\t\t} else if (currentEmojis.length) {\n\t\t\t\t\t$$invalidate(5, activeSearchItem = 0);\n\t\t\t\t}\n\t\t}\n\t}\n\n\t//\n\t// Handle user input on nav\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onNavClick(group) {\n\t\t$$invalidate(2, rawSearchText = '');\n\t\t$$invalidate(45, searchText = '');\n\t\t$$invalidate(5, activeSearchItem = -1);\n\t\t$$invalidate(11, currentGroupIndex = groups$1.findIndex(_ => _.id === group.id));\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onNavKeydown(event) {\n\t\tconst { target, key } = event;\n\n\t\tconst doFocus = el => {\n\t\t\tif (el) {\n\t\t\t\thalt(event);\n\t\t\t\tel.focus();\n\t\t\t}\n\t\t};\n\n\t\tswitch (key) {\n\t\t\tcase 'ArrowLeft':\n\t\t\t\treturn doFocus(target.previousSibling);\n\t\t\tcase 'ArrowRight':\n\t\t\t\treturn doFocus(target.nextSibling);\n\t\t\tcase 'Home':\n\t\t\t\treturn doFocus(target.parentElement.firstChild);\n\t\t\tcase 'End':\n\t\t\t\treturn doFocus(target.parentElement.lastChild);\n\t\t}\n\t}\n\n\t//\n\t// Handle user input on an emoji\n\t//\n\tasync function clickEmoji(unicodeOrName) {\n\t\tconst emoji = await database.getEmojiByUnicodeOrName(unicodeOrName);\n\t\tconst emojiSummary = [...currentEmojis, ...currentFavorites].find(_ => _.id === unicodeOrName);\n\t\tconst skinTonedUnicode = emojiSummary.unicode && unicodeWithSkin(emojiSummary, currentSkinTone);\n\t\tawait database.incrementFavoriteEmojiCount(unicodeOrName);\n\n\t\tfireEvent('emoji-click', {\n\t\t\temoji,\n\t\t\tskinTone: currentSkinTone,\n\t\t\t...skinTonedUnicode && { unicode: skinTonedUnicode },\n\t\t\t...emojiSummary.name && { name: emojiSummary.name }\n\t\t});\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onEmojiClick(event) {\n\t\tconst { target } = event;\n\n\t\tif (!target.classList.contains('emoji')) {\n\t\t\treturn;\n\t\t}\n\n\t\thalt(event);\n\t\tconst id = target.id.substring(4); // replace 'emo-' or 'fav-' prefix\n\n\t\t/* no await */\n\t\tclickEmoji(id);\n\t}\n\n\t//\n\t// Handle user input on the skintone picker\n\t//\n\t// eslint-disable-next-line no-unused-vars\n\tfunction changeSkinTone(skinTone) {\n\t\t$$invalidate(8, currentSkinTone = skinTone);\n\t\t$$invalidate(6, skinTonePickerExpanded = false);\n\t\tfocus('skintone-button');\n\t\tfireEvent('skin-tone-change', { skinTone });\n\n\t\t/* no await */\n\t\tdatabase.setPreferredSkinTone(skinTone);\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSkinToneOptionsClick(event) {\n\t\tconst { target: { id } } = event;\n\t\tconst match = id && id.match(/^skintone-(\\d)/); // skintone option format\n\n\t\tif (!match) {\n\t\t\t// not a skintone option\n\t\t\treturn;\n\t\t}\n\n\t\thalt(event);\n\t\tconst skinTone = parseInt(match[1], 10); // remove 'skintone-' prefix\n\t\tchangeSkinTone(skinTone);\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onClickSkinToneButton(event) {\n\t\t$$invalidate(6, skinTonePickerExpanded = !skinTonePickerExpanded);\n\t\t$$invalidate(20, activeSkinTone = currentSkinTone);\n\n\t\tif (skinTonePickerExpanded) {\n\t\t\thalt(event);\n\t\t\trAF(() => focus('skintone-list'));\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSkinToneOptionsKeydown(event) {\n\t\tif (!skinTonePickerExpanded) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst changeActiveSkinTone = async nextSkinTone => {\n\t\t\thalt(event);\n\t\t\t$$invalidate(20, activeSkinTone = nextSkinTone);\n\t\t};\n\n\t\tswitch (event.key) {\n\t\t\tcase 'ArrowUp':\n\t\t\t\treturn changeActiveSkinTone(incrementOrDecrement(true, activeSkinTone, skinTones));\n\t\t\tcase 'ArrowDown':\n\t\t\t\treturn changeActiveSkinTone(incrementOrDecrement(false, activeSkinTone, skinTones));\n\t\t\tcase 'Home':\n\t\t\t\treturn changeActiveSkinTone(0);\n\t\t\tcase 'End':\n\t\t\t\treturn changeActiveSkinTone(skinTones.length - 1);\n\t\t\tcase 'Enter':\n\t\t\t\t// enter on keydown, space on keyup. this is just how browsers work for buttons\n\t\t\t\t// https://lists.w3.org/Archives/Public/w3c-wai-ig/2019JanMar/0086.html\n\t\t\t\thalt(event);\n\t\t\t\treturn changeSkinTone(activeSkinTone);\n\t\t\tcase 'Escape':\n\t\t\t\thalt(event);\n\t\t\t\t$$invalidate(6, skinTonePickerExpanded = false);\n\t\t\t\treturn focus('skintone-button');\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tfunction onSkinToneOptionsKeyup(event) {\n\t\tif (!skinTonePickerExpanded) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (event.key) {\n\t\t\tcase ' ':\n\t\t\t\t// enter on keydown, space on keyup. this is just how browsers work for buttons\n\t\t\t\t// https://lists.w3.org/Archives/Public/w3c-wai-ig/2019JanMar/0086.html\n\t\t\t\thalt(event);\n\t\t\t\treturn changeSkinTone(activeSkinTone);\n\t\t}\n\t}\n\n\t// eslint-disable-next-line no-unused-vars\n\tasync function onSkinToneOptionsFocusOut(event) {\n\t\t// On blur outside of the skintone listbox, collapse the skintone picker.\n\t\tconst { relatedTarget } = event;\n\n\t\tif (!relatedTarget || relatedTarget.id !== 'skintone-list') {\n\t\t\t$$invalidate(6, skinTonePickerExpanded = false);\n\t\t}\n\t}\n\n\tfunction input_input_handler() {\n\t\trawSearchText = this.value;\n\t\t$$invalidate(2, rawSearchText);\n\t}\n\n\tfunction div3_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\tskinToneDropdown = $$value;\n\t\t\t$$invalidate(7, skinToneDropdown);\n\t\t});\n\t}\n\n\tconst click_handler = group => onNavClick(group);\n\n\tfunction div10_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\ttabpanelElement = $$value;\n\t\t\t$$invalidate(3, tabpanelElement);\n\t\t});\n\t}\n\n\tfunction button1_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\tbaselineEmoji = $$value;\n\t\t\t$$invalidate(17, baselineEmoji);\n\t\t});\n\t}\n\n\tfunction section_binding($$value) {\n\t\tbinding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\trootElement = $$value;\n\t\t\t$$invalidate(16, rootElement);\n\t\t});\n\t}\n\n\t$$self.$$set = $$props => {\n\t\tif ('skinToneEmoji' in $$props) $$invalidate(40, skinToneEmoji = $$props.skinToneEmoji);\n\t\tif ('i18n' in $$props) $$invalidate(0, i18n = $$props.i18n);\n\t\tif ('database' in $$props) $$invalidate(39, database = $$props.database);\n\t\tif ('customEmoji' in $$props) $$invalidate(41, customEmoji = $$props.customEmoji);\n\t\tif ('customCategorySorting' in $$props) $$invalidate(42, customCategorySorting = $$props.customCategorySorting);\n\t\tif ('emojiVersion' in $$props) $$invalidate(43, emojiVersion = $$props.emojiVersion);\n\t};\n\n\t$$self.$$.update = () => {\n\t\tif ($$self.$$.dirty[1] & /*customEmoji, database*/ 1280) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Set or update the customEmoji\n\t\t\t//\n\t\t\t{\n\t\t\t\tif (customEmoji && database) {\n\t\t\t\t\t$$invalidate(39, database.customEmoji = customEmoji, database);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*i18n*/ 1 | $$self.$$.dirty[1] & /*database*/ 256) {\n\t\t\t//\n\t\t\t// Set or update the database object\n\t\t\t//\n\t\t\t{\n\t\t\t\t// show a Loading message if it takes a long time, or show an error if there's a network/IDB error\n\t\t\t\tasync function handleDatabaseLoading() {\n\t\t\t\t\tlet showingLoadingMessage = false;\n\n\t\t\t\t\tconst timeoutHandle = setTimeout(\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tshowingLoadingMessage = true;\n\t\t\t\t\t\t\t$$invalidate(18, message = i18n.loadingMessage);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tTIMEOUT_BEFORE_LOADING_MESSAGE\n\t\t\t\t\t);\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait database.ready();\n\t\t\t\t\t\t$$invalidate(14, databaseLoaded = true); // eslint-disable-line no-unused-vars\n\t\t\t\t\t} catch(err) {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t$$invalidate(18, message = i18n.networkErrorMessage);\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tclearTimeout(timeoutHandle);\n\n\t\t\t\t\t\tif (showingLoadingMessage) {\n\t\t\t\t\t\t\t// Seems safer than checking the i18n string, which may change\n\t\t\t\t\t\t\tshowingLoadingMessage = false;\n\n\t\t\t\t\t\t\t$$invalidate(18, message = ''); // eslint-disable-line no-unused-vars\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (database) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\thandleDatabaseLoading();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups, currentGroupIndex*/ 6144 | $$self.$$.dirty[1] & /*customEmoji*/ 1024) {\n\t\t\t{\n\t\t\t\tif (customEmoji && customEmoji.length) {\n\t\t\t\t\t$$invalidate(12, groups$1 = [customGroup, ...groups]);\n\t\t\t\t} else if (groups$1 !== groups) {\n\t\t\t\t\tif (currentGroupIndex) {\n\t\t\t\t\t\t// If the current group is anything other than \"custom\" (which is first), decrement.\n\t\t\t\t\t\t// This fixes the odd case where you set customEmoji, then pick a category, then unset customEmoji\n\t\t\t\t\t\t$$invalidate(11, currentGroupIndex--, currentGroupIndex);\n\t\t\t\t\t}\n\n\t\t\t\t\t$$invalidate(12, groups$1 = groups);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*rawSearchText*/ 4) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Handle user input on the search input\n\t\t\t//\n\t\t\t{\n\t\t\t\trIC(() => {\n\t\t\t\t\t$$invalidate(45, searchText = (rawSearchText || '').trim()); // defer to avoid input delays, plus we can trim here\n\t\t\t\t\t$$invalidate(5, activeSearchItem = -1);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups, currentGroupIndex*/ 6144) {\n\t\t\t//\n\t\t\t// Update the current group based on the currentGroupIndex\n\t\t\t//\n\t\t\t$$invalidate(13, currentGroup = groups$1[currentGroupIndex]);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded, currentGroup*/ 24576 | $$self.$$.dirty[1] & /*searchText*/ 16384) {\n\t\t\t//\n\t\t\t// Set or update the currentEmojis. Check for invalid ZWJ renderings\n\t\t\t// (i.e. double emoji).\n\t\t\t//\n\t\t\t{\n\t\t\t\tasync function updateEmojis() {\n\n\t\t\t\t\tif (!databaseLoaded) {\n\t\t\t\t\t\t$$invalidate(1, currentEmojis = []);\n\t\t\t\t\t\t$$invalidate(4, searchMode = false);\n\t\t\t\t\t} else if (searchText.length >= MIN_SEARCH_TEXT_LENGTH) {\n\t\t\t\t\t\tconst currentSearchText = searchText;\n\t\t\t\t\t\tconst newEmojis = await getEmojisBySearchQuery(currentSearchText);\n\n\t\t\t\t\t\tif (currentSearchText === searchText) {\n\t\t\t\t\t\t\t// if the situation changes asynchronously, do not update\n\t\t\t\t\t\t\t$$invalidate(1, currentEmojis = newEmojis);\n\n\t\t\t\t\t\t\t$$invalidate(4, searchMode = true);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (currentGroup) {\n\t\t\t\t\t\tconst currentGroupId = currentGroup.id;\n\t\t\t\t\t\tconst newEmojis = await getEmojisByGroup(currentGroupId);\n\n\t\t\t\t\t\tif (currentGroupId === currentGroup.id) {\n\t\t\t\t\t\t\t// if the situation changes asynchronously, do not update\n\t\t\t\t\t\t\t$$invalidate(1, currentEmojis = newEmojis);\n\n\t\t\t\t\t\t\t$$invalidate(4, searchMode = false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* no await */\n\t\t\t\tupdateEmojis();\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*groups, searchMode*/ 4112) {\n\t\t\t//\n\t\t\t// Global styles for the entire picker\n\t\t\t//\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t$$invalidate(22, pickerStyle = `\n  --num-groups: ${groups$1.length}; \n  --indicator-opacity: ${searchMode ? 0 : 1}; \n  --num-skintones: ${NUM_SKIN_TONES};`);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16384 | $$self.$$.dirty[1] & /*database*/ 256) {\n\t\t\t//\n\t\t\t// Set or update the preferred skin tone\n\t\t\t//\n\t\t\t{\n\t\t\t\tasync function updatePreferredSkinTone() {\n\t\t\t\t\tif (databaseLoaded) {\n\t\t\t\t\t\t$$invalidate(8, currentSkinTone = await database.getPreferredSkinTone());\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* no await */\n\t\t\t\tupdatePreferredSkinTone();\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[1] & /*skinToneEmoji*/ 512) {\n\t\t\t$$invalidate(9, skinTones = Array(NUM_SKIN_TONES).fill().map((_, i) => applySkinTone(skinToneEmoji, i)));\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*skinTones, currentSkinTone*/ 768) {\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t$$invalidate(21, skinToneButtonText = skinTones[currentSkinTone]);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*i18n, currentSkinTone*/ 257) {\n\t\t\t$$invalidate(23, skinToneButtonLabel = i18n.skinToneLabel.replace('{skinTone}', i18n.skinTones[currentSkinTone]));\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16384 | $$self.$$.dirty[1] & /*database*/ 256) {\n\t\t\t/* eslint-enable no-unused-vars */\n\t\t\t//\n\t\t\t// Set or update the favorites emojis\n\t\t\t//\n\t\t\t{\n\t\t\t\tasync function updateDefaultFavoriteEmojis() {\n\t\t\t\t\t$$invalidate(46, defaultFavoriteEmojis = (await Promise.all(MOST_COMMONLY_USED_EMOJI.map(unicode => database.getEmojiByUnicodeOrName(unicode)))).filter(Boolean)); // filter because in Jest tests we don't have all the emoji in the DB\n\t\t\t\t}\n\n\t\t\t\tif (databaseLoaded) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\tupdateDefaultFavoriteEmojis();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*databaseLoaded*/ 16384 | $$self.$$.dirty[1] & /*database, numColumns, defaultFavoriteEmojis*/ 98560) {\n\t\t\t{\n\t\t\t\tasync function updateFavorites() {\n\t\t\t\t\tconst dbFavorites = await database.getTopFavoriteEmoji(numColumns);\n\t\t\t\t\tconst favorites = await summarizeEmojis(uniqBy([...dbFavorites, ...defaultFavoriteEmojis], _ => _.unicode || _.name).slice(0, numColumns));\n\t\t\t\t\t$$invalidate(10, currentFavorites = favorites);\n\t\t\t\t}\n\n\t\t\t\tif (databaseLoaded && defaultFavoriteEmojis) {\n\t\t\t\t\t/* no await */\n\t\t\t\t\tupdateFavorites();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*currentEmojis, tabpanelElement*/ 10 | $$self.$$.dirty[1] & /*emojiVersion*/ 4096) {\n\t\t\t// Some emojis have their ligatures rendered as two or more consecutive emojis\n\t\t\t// We want to treat these the same as unsupported emojis, so we compare their\n\t\t\t// widths against the baseline widths and remove them as necessary\n\t\t\t{\n\t\t\t\tconst zwjEmojisToCheck = currentEmojis.filter(emoji => emoji.unicode).filter(emoji => hasZwj(emoji) && !supportedZwjEmojis.has(emoji.unicode)); // filter custom emoji\n\n\t\t\t\tif (!emojiVersion && zwjEmojisToCheck.length) {\n\t\t\t\t\t// render now, check their length later\n\t\t\t\t\trAF(() => checkZwjSupportAndUpdate(zwjEmojisToCheck));\n\t\t\t\t} else {\n\t\t\t\t\t$$invalidate(1, currentEmojis = emojiVersion\n\t\t\t\t\t? currentEmojis\n\t\t\t\t\t: currentEmojis.filter(isZwjSupported));\n\n\t\t\t\t\t// Reset scroll top to 0 when emojis change\n\t\t\t\t\trAF(() => resetScrollTopIfPossible(tabpanelElement));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*currentEmojis, currentFavorites*/ 1026 | $$self.$$.dirty[1] & /*initialLoad*/ 8192) {\n\t\t\t{\n\t\t\t\t// consider initialLoad to be complete when the first tabpanel and favorites are rendered\n\t\t\t\t/* istanbul ignore next */\n\t\t\t\tif (\"production\" !== 'production' || false) {\n\t\t\t\t\tif (currentEmojis.length && currentFavorites.length && initialLoad) {\n\t\t\t\t\t\t$$invalidate(44, initialLoad = false);\n\t\t\t\t\t\trequestPostAnimationFrame(() => (void 0));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*searchMode, currentEmojis*/ 18 | $$self.$$.dirty[1] & /*customCategorySorting*/ 2048) {\n\t\t\t//\n\t\t\t// Derive currentEmojisWithCategories from currentEmojis. This is always done even if there\n\t\t\t// are no categories, because it's just easier to code the HTML this way.\n\t\t\t//\n\t\t\t{\n\t\t\t\tfunction calculateCurrentEmojisWithCategories() {\n\t\t\t\t\tif (searchMode) {\n\t\t\t\t\t\treturn [{ category: '', emojis: currentEmojis }];\n\t\t\t\t\t}\n\n\t\t\t\t\tconst categoriesToEmoji = new Map();\n\n\t\t\t\t\tfor (const emoji of currentEmojis) {\n\t\t\t\t\t\tconst category = emoji.category || '';\n\t\t\t\t\t\tlet emojis = categoriesToEmoji.get(category);\n\n\t\t\t\t\t\tif (!emojis) {\n\t\t\t\t\t\t\temojis = [];\n\t\t\t\t\t\t\tcategoriesToEmoji.set(category, emojis);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\temojis.push(emoji);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [...categoriesToEmoji.entries()].map(([category, emojis]) => ({ category, emojis })).sort((a, b) => customCategorySorting(a.category, b.category));\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t$$invalidate(15, currentEmojisWithCategories = calculateCurrentEmojisWithCategories());\n\t\t\t}\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*activeSearchItem, currentEmojis*/ 34) {\n\t\t\t//\n\t\t\t// Handle active search item (i.e. pressing up or down while searching)\n\t\t\t//\n\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t$$invalidate(26, activeSearchItemId = activeSearchItem !== -1 && currentEmojis[activeSearchItem].id);\n\t\t}\n\n\t\tif ($$self.$$.dirty[0] & /*skinTonePickerExpanded, skinToneDropdown*/ 192) {\n\t\t\t// To make the animation nicer, change the z-index of the skintone picker button\n\t\t\t// *after* the animation has played. This makes it appear that the picker box\n\t\t\t// is expanding \"below\" the button\n\t\t\t{\n\t\t\t\tif (skinTonePickerExpanded) {\n\t\t\t\t\tskinToneDropdown.addEventListener(\n\t\t\t\t\t\t'transitionend',\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t$$invalidate(19, skinTonePickerExpandedAfterAnimation = true); // eslint-disable-line no-unused-vars\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ once: true }\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$$invalidate(19, skinTonePickerExpandedAfterAnimation = false); // eslint-disable-line no-unused-vars\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\treturn [\n\t\ti18n,\n\t\tcurrentEmojis,\n\t\trawSearchText,\n\t\ttabpanelElement,\n\t\tsearchMode,\n\t\tactiveSearchItem,\n\t\tskinTonePickerExpanded,\n\t\tskinToneDropdown,\n\t\tcurrentSkinTone,\n\t\tskinTones,\n\t\tcurrentFavorites,\n\t\tcurrentGroupIndex,\n\t\tgroups$1,\n\t\tcurrentGroup,\n\t\tdatabaseLoaded,\n\t\tcurrentEmojisWithCategories,\n\t\trootElement,\n\t\tbaselineEmoji,\n\t\tmessage,\n\t\tskinTonePickerExpandedAfterAnimation,\n\t\tactiveSkinTone,\n\t\tskinToneButtonText,\n\t\tpickerStyle,\n\t\tskinToneButtonLabel,\n\t\tisRtl,\n\t\tscrollbarWidth,\n\t\tactiveSearchItemId,\n\t\tunicodeWithSkin,\n\t\tlabelWithSkin,\n\t\tcalculateEmojiGridStyle,\n\t\tonSearchKeydown,\n\t\tonNavClick,\n\t\tonNavKeydown,\n\t\tonEmojiClick,\n\t\tonSkinToneOptionsClick,\n\t\tonClickSkinToneButton,\n\t\tonSkinToneOptionsKeydown,\n\t\tonSkinToneOptionsKeyup,\n\t\tonSkinToneOptionsFocusOut,\n\t\tdatabase,\n\t\tskinToneEmoji,\n\t\tcustomEmoji,\n\t\tcustomCategorySorting,\n\t\temojiVersion,\n\t\tinitialLoad,\n\t\tsearchText,\n\t\tdefaultFavoriteEmojis,\n\t\tnumColumns,\n\t\tinput_input_handler,\n\t\tdiv3_binding,\n\t\tclick_handler,\n\t\tdiv10_binding,\n\t\tbutton1_binding,\n\t\tsection_binding\n\t];\n}\n\nclass Picker extends SvelteComponent {\n\tconstructor(options) {\n\t\tsuper();\n\n\t\tinit(\n\t\t\tthis,\n\t\t\toptions,\n\t\t\tinstance,\n\t\t\tcreate_fragment,\n\t\t\tsafe_not_equal,\n\t\t\t{\n\t\t\t\tskinToneEmoji: 40,\n\t\t\t\ti18n: 0,\n\t\t\t\tdatabase: 39,\n\t\t\t\tcustomEmoji: 41,\n\t\t\t\tcustomCategorySorting: 42,\n\t\t\t\temojiVersion: 43\n\t\t\t},\n\t\t\tnull,\n\t\t\t[-1, -1, -1]\n\t\t);\n\t}\n}\n\nconst DEFAULT_DATA_SOURCE = 'https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json';\nconst DEFAULT_LOCALE = 'en';\n\nvar enI18n = {\n  categoriesLabel: 'Categories',\n  emojiUnsupportedMessage: 'Your browser does not support color emoji.',\n  favoritesLabel: 'Favorites',\n  loadingMessage: 'Loading…',\n  networkErrorMessage: 'Could not load emoji.',\n  regionLabel: 'Emoji picker',\n  searchDescription: 'When search results are available, press up or down to select and enter to choose.',\n  searchLabel: 'Search',\n  searchResultsLabel: 'Search results',\n  skinToneDescription: 'When expanded, press up or down to select and enter to choose.',\n  skinToneLabel: 'Choose a skin tone (currently {skinTone})',\n  skinTonesLabel: 'Skin tones',\n  skinTones: [\n    'Default',\n    'Light',\n    'Medium-Light',\n    'Medium',\n    'Medium-Dark',\n    'Dark'\n  ],\n  categories: {\n    custom: 'Custom',\n    'smileys-emotion': 'Smileys and emoticons',\n    'people-body': 'People and body',\n    'animals-nature': 'Animals and nature',\n    'food-drink': 'Food and drink',\n    'travel-places': 'Travel and places',\n    activities: 'Activities',\n    objects: 'Objects',\n    symbols: 'Symbols',\n    flags: 'Flags'\n  }\n};\n\nconst PROPS = [\n  'customEmoji',\n  'customCategorySorting',\n  'database',\n  'dataSource',\n  'i18n',\n  'locale',\n  'skinToneEmoji',\n  'emojiVersion'\n];\n\n// Styles injected ourselves, so we can declare the FONT_FAMILY variable in one place\nconst EXTRA_STYLES = `:host{--emoji-font-family:${FONT_FAMILY}}`;\n\nclass PickerElement extends HTMLElement {\n  constructor (props) {\n    super();\n    this.attachShadow({ mode: 'open' });\n    const style = document.createElement('style');\n    style.textContent = \":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}\" + EXTRA_STYLES;\n    this.shadowRoot.appendChild(style);\n    this._ctx = {\n      // Set defaults\n      locale: DEFAULT_LOCALE,\n      dataSource: DEFAULT_DATA_SOURCE,\n      skinToneEmoji: DEFAULT_SKIN_TONE_EMOJI,\n      customCategorySorting: DEFAULT_CATEGORY_SORTING,\n      customEmoji: null,\n      i18n: enI18n,\n      emojiVersion: null,\n      ...props\n    };\n    // Handle properties set before the element was upgraded\n    for (const prop of PROPS) {\n      if (prop !== 'database' && Object.prototype.hasOwnProperty.call(this, prop)) {\n        this._ctx[prop] = this[prop];\n        delete this[prop];\n      }\n    }\n    this._dbFlush(); // wait for a flush before creating the db, in case the user calls e.g. a setter or setAttribute\n  }\n\n  connectedCallback () {\n    // The _cmp may be defined if the component was immediately disconnected and then reconnected. In that case,\n    // do nothing (preserve the state)\n    if (!this._cmp) {\n      this._cmp = new Picker({\n        target: this.shadowRoot,\n        props: this._ctx\n      });\n    }\n  }\n\n  disconnectedCallback () {\n    // Check in a microtask if the element is still connected. If so, treat this as a \"move\" rather than a disconnect\n    // Inspired by Vue: https://vuejs.org/guide/extras/web-components.html#building-custom-elements-with-vue\n    Promise.resolve().then(() => {\n      // this._cmp may be defined if connect-disconnect-connect-disconnect occurs synchronously\n      if (!this.isConnected && this._cmp) {\n        this._cmp.$destroy();\n        this._cmp = undefined;\n\n        const { database } = this._ctx;\n        database.close()\n          // only happens if the database failed to load in the first place, so we don't care\n          .catch(err => console.error(err));\n      }\n    });\n  }\n\n  static get observedAttributes () {\n    return ['locale', 'data-source', 'skin-tone-emoji', 'emoji-version'] // complex objects aren't supported, also use kebab-case\n  }\n\n  attributeChangedCallback (attrName, oldValue, newValue) {\n    this._set(\n      // convert from kebab-case to camelcase\n      // see https://github.com/sveltejs/svelte/issues/3852#issuecomment-665037015\n      attrName.replace(/-([a-z])/g, (_, up) => up.toUpperCase()),\n      // convert string attribute to float if necessary\n      attrName === 'emoji-version' ? parseFloat(newValue) : newValue\n    );\n  }\n\n  _set (prop, newValue) {\n    this._ctx[prop] = newValue;\n    if (this._cmp) {\n      this._cmp.$set({ [prop]: newValue });\n    }\n    if (['locale', 'dataSource'].includes(prop)) {\n      this._dbFlush();\n    }\n  }\n\n  _dbCreate () {\n    const { locale, dataSource, database } = this._ctx;\n    // only create a new database if we really need to\n    if (!database || database.locale !== locale || database.dataSource !== dataSource) {\n      this._set('database', new Database({ locale, dataSource }));\n    }\n  }\n\n  // Update the Database in one microtask if the locale/dataSource change. We do one microtask\n  // so we don't create two Databases if e.g. both the locale and the dataSource change\n  _dbFlush () {\n    Promise.resolve().then(() => (\n      this._dbCreate()\n    ));\n  }\n}\n\nconst definitions = {};\n\nfor (const prop of PROPS) {\n  definitions[prop] = {\n    get () {\n      if (prop === 'database') {\n        // in rare cases, the microtask may not be flushed yet, so we need to instantiate the DB\n        // now if the user is asking for it\n        this._dbCreate();\n      }\n      return this._ctx[prop]\n    },\n    set (val) {\n      if (prop === 'database') {\n        throw new Error('database is read-only')\n      }\n      this._set(prop, val);\n    }\n  };\n}\n\nObject.defineProperties(PickerElement.prototype, definitions);\n\n/* istanbul ignore else */\nif (!customElements.get('emoji-picker')) { // if already defined, do nothing (e.g. same script imported twice)\n  customElements.define('emoji-picker', PickerElement);\n}\n\nexport { PickerElement as default };\n","function assertNonEmptyString (str) {\n  if (typeof str !== 'string' || !str) {\n    throw new Error('expected a non-empty string, got: ' + str)\n  }\n}\n\nfunction assertNumber (number) {\n  if (typeof number !== 'number') {\n    throw new Error('expected a number, got: ' + number)\n  }\n}\n\nconst DB_VERSION_CURRENT = 1;\nconst DB_VERSION_INITIAL = 1;\nconst STORE_EMOJI = 'emoji';\nconst STORE_KEYVALUE = 'keyvalue';\nconst STORE_FAVORITES = 'favorites';\nconst FIELD_TOKENS = 'tokens';\nconst INDEX_TOKENS = 'tokens';\nconst FIELD_UNICODE = 'unicode';\nconst INDEX_COUNT = 'count';\nconst FIELD_GROUP = 'group';\nconst FIELD_ORDER = 'order';\nconst INDEX_GROUP_AND_ORDER = 'group-order';\nconst KEY_ETAG = 'eTag';\nconst KEY_URL = 'url';\nconst KEY_PREFERRED_SKINTONE = 'skinTone';\nconst MODE_READONLY = 'readonly';\nconst MODE_READWRITE = 'readwrite';\nconst INDEX_SKIN_UNICODE = 'skinUnicodes';\nconst FIELD_SKIN_UNICODE = 'skinUnicodes';\n\nconst DEFAULT_DATA_SOURCE = 'https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json';\nconst DEFAULT_LOCALE = 'en';\n\n// like lodash's uniqBy but much smaller\nfunction uniqBy (arr, func) {\n  const set = new Set();\n  const res = [];\n  for (const item of arr) {\n    const key = func(item);\n    if (!set.has(key)) {\n      set.add(key);\n      res.push(item);\n    }\n  }\n  return res\n}\n\nfunction uniqEmoji (emojis) {\n  return uniqBy(emojis, _ => _.unicode)\n}\n\nfunction initialMigration (db) {\n  function createObjectStore (name, keyPath, indexes) {\n    const store = keyPath\n      ? db.createObjectStore(name, { keyPath })\n      : db.createObjectStore(name);\n    if (indexes) {\n      for (const [indexName, [keyPath, multiEntry]] of Object.entries(indexes)) {\n        store.createIndex(indexName, keyPath, { multiEntry });\n      }\n    }\n    return store\n  }\n\n  createObjectStore(STORE_KEYVALUE);\n  createObjectStore(STORE_EMOJI, /* keyPath */ FIELD_UNICODE, {\n    [INDEX_TOKENS]: [FIELD_TOKENS, /* multiEntry */ true],\n    [INDEX_GROUP_AND_ORDER]: [[FIELD_GROUP, FIELD_ORDER]],\n    [INDEX_SKIN_UNICODE]: [FIELD_SKIN_UNICODE, /* multiEntry */ true]\n  });\n  createObjectStore(STORE_FAVORITES, undefined, {\n    [INDEX_COUNT]: ['']\n  });\n}\n\nconst openIndexedDBRequests = {};\nconst databaseCache = {};\nconst onCloseListeners = {};\n\nfunction handleOpenOrDeleteReq (resolve, reject, req) {\n  // These things are almost impossible to test with fakeIndexedDB sadly\n  /* istanbul ignore next */\n  req.onerror = () => reject(req.error);\n  /* istanbul ignore next */\n  req.onblocked = () => reject(new Error('IDB blocked'));\n  req.onsuccess = () => resolve(req.result);\n}\n\nasync function createDatabase (dbName) {\n  const db = await new Promise((resolve, reject) => {\n    const req = indexedDB.open(dbName, DB_VERSION_CURRENT);\n    openIndexedDBRequests[dbName] = req;\n    req.onupgradeneeded = e => {\n      // Technically there is only one version, so we don't need this `if` check\n      // But if an old version of the JS is in another browser tab\n      // and it gets upgraded in the future and we have a new DB version, well...\n      // better safe than sorry.\n      /* istanbul ignore else */\n      if (e.oldVersion < DB_VERSION_INITIAL) {\n        initialMigration(req.result);\n      }\n    };\n    handleOpenOrDeleteReq(resolve, reject, req);\n  });\n  // Handle abnormal closes, e.g. \"delete database\" in chrome dev tools.\n  // No need for removeEventListener, because once the DB can no longer\n  // fire \"close\" events, it will auto-GC.\n  // Unfortunately cannot test in fakeIndexedDB: https://github.com/dumbmatter/fakeIndexedDB/issues/50\n  /* istanbul ignore next */\n  db.onclose = () => closeDatabase(dbName);\n  return db\n}\n\nfunction openDatabase (dbName) {\n  if (!databaseCache[dbName]) {\n    databaseCache[dbName] = createDatabase(dbName);\n  }\n  return databaseCache[dbName]\n}\n\nfunction dbPromise (db, storeName, readOnlyOrReadWrite, cb) {\n  return new Promise((resolve, reject) => {\n    // Use relaxed durability because neither the emoji data nor the favorites/preferred skin tone\n    // are really irreplaceable data. IndexedDB is just a cache in this case.\n    const txn = db.transaction(storeName, readOnlyOrReadWrite, { durability: 'relaxed' });\n    const store = typeof storeName === 'string'\n      ? txn.objectStore(storeName)\n      : storeName.map(name => txn.objectStore(name));\n    let res;\n    cb(store, txn, (result) => {\n      res = result;\n    });\n\n    txn.oncomplete = () => resolve(res);\n    /* istanbul ignore next */\n    txn.onerror = () => reject(txn.error);\n  })\n}\n\nfunction closeDatabase (dbName) {\n  // close any open requests\n  const req = openIndexedDBRequests[dbName];\n  const db = req && req.result;\n  if (db) {\n    db.close();\n    const listeners = onCloseListeners[dbName];\n    /* istanbul ignore else */\n    if (listeners) {\n      for (const listener of listeners) {\n        listener();\n      }\n    }\n  }\n  delete openIndexedDBRequests[dbName];\n  delete databaseCache[dbName];\n  delete onCloseListeners[dbName];\n}\n\nfunction deleteDatabase (dbName) {\n  return new Promise((resolve, reject) => {\n    // close any open requests\n    closeDatabase(dbName);\n    const req = indexedDB.deleteDatabase(dbName);\n    handleOpenOrDeleteReq(resolve, reject, req);\n  })\n}\n\n// The \"close\" event occurs during an abnormal shutdown, e.g. a user clearing their browser data.\n// However, it doesn't occur with the normal \"close\" event, so we handle that separately.\n// https://www.w3.org/TR/IndexedDB/#close-a-database-connection\nfunction addOnCloseListener (dbName, listener) {\n  let listeners = onCloseListeners[dbName];\n  if (!listeners) {\n    listeners = onCloseListeners[dbName] = [];\n  }\n  listeners.push(listener);\n}\n\n// list of emoticons that don't match a simple \\W+ regex\n// extracted using:\n// require('emoji-picker-element-data/en/emojibase/data.json').map(_ => _.emoticon).filter(Boolean).filter(_ => !/^\\W+$/.test(_))\nconst irregularEmoticons = new Set([\n  ':D', 'XD', \":'D\", 'O:)',\n  ':X', ':P', ';P', 'XP',\n  ':L', ':Z', ':j', '8D',\n  'XO', '8)', ':B', ':O',\n  ':S', \":'o\", 'Dx', 'X(',\n  'D:', ':C', '>0)', ':3',\n  '</3', '<3', '\\\\M/', ':E',\n  '8#'\n]);\n\nfunction extractTokens (str) {\n  return str\n    .split(/[\\s_]+/)\n    .map(word => {\n      if (!word.match(/\\w/) || irregularEmoticons.has(word)) {\n        // for pure emoticons like :) or :-), just leave them as-is\n        return word.toLowerCase()\n      }\n\n      return word\n        .replace(/[)(:,]/g, '')\n        .replace(/’/g, \"'\")\n        .toLowerCase()\n    }).filter(Boolean)\n}\n\nconst MIN_SEARCH_TEXT_LENGTH = 2;\n\n// This is an extra step in addition to extractTokens(). The difference here is that we expect\n// the input to have already been run through extractTokens(). This is useful for cases like\n// emoticons, where we don't want to do any tokenization (because it makes no sense to split up\n// \">:)\" by the colon) but we do want to lowercase it to have consistent search results, so that\n// the user can type ':P' or ':p' and still get the same result.\nfunction normalizeTokens (str) {\n  return str\n    .filter(Boolean)\n    .map(_ => _.toLowerCase())\n    .filter(_ => _.length >= MIN_SEARCH_TEXT_LENGTH)\n}\n\n// Transform emoji data for storage in IDB\nfunction transformEmojiData (emojiData) {\n  const res = emojiData.map(({ annotation, emoticon, group, order, shortcodes, skins, tags, emoji, version }) => {\n    const tokens = [...new Set(\n      normalizeTokens([\n        ...(shortcodes || []).map(extractTokens).flat(),\n        ...tags.map(extractTokens).flat(),\n        ...extractTokens(annotation),\n        emoticon\n      ])\n    )].sort();\n    const res = {\n      annotation,\n      group,\n      order,\n      tags,\n      tokens,\n      unicode: emoji,\n      version\n    };\n    if (emoticon) {\n      res.emoticon = emoticon;\n    }\n    if (shortcodes) {\n      res.shortcodes = shortcodes;\n    }\n    if (skins) {\n      res.skinTones = [];\n      res.skinUnicodes = [];\n      res.skinVersions = [];\n      for (const { tone, emoji, version } of skins) {\n        res.skinTones.push(tone);\n        res.skinUnicodes.push(emoji);\n        res.skinVersions.push(version);\n      }\n    }\n    return res\n  });\n  return res\n}\n\n// helper functions that help compress the code better\n\nfunction callStore (store, method, key, cb) {\n  store[method](key).onsuccess = e => (cb && cb(e.target.result));\n}\n\nfunction getIDB (store, key, cb) {\n  callStore(store, 'get', key, cb);\n}\n\nfunction getAllIDB (store, key, cb) {\n  callStore(store, 'getAll', key, cb);\n}\n\nfunction commit (txn) {\n  /* istanbul ignore else */\n  if (txn.commit) {\n    txn.commit();\n  }\n}\n\n// like lodash's minBy\nfunction minBy (array, func) {\n  let minItem = array[0];\n  for (let i = 1; i < array.length; i++) {\n    const item = array[i];\n    if (func(minItem) > func(item)) {\n      minItem = item;\n    }\n  }\n  return minItem\n}\n\n// return an array of results representing all items that are found in each one of the arrays\n//\n\nfunction findCommonMembers (arrays, uniqByFunc) {\n  const shortestArray = minBy(arrays, _ => _.length);\n  const results = [];\n  for (const item of shortestArray) {\n    // if this item is included in every array in the intermediate results, add it to the final results\n    if (!arrays.some(array => array.findIndex(_ => uniqByFunc(_) === uniqByFunc(item)) === -1)) {\n      results.push(item);\n    }\n  }\n  return results\n}\n\nasync function isEmpty (db) {\n  return !(await get(db, STORE_KEYVALUE, KEY_URL))\n}\n\nasync function hasData (db, url, eTag) {\n  const [oldETag, oldUrl] = await Promise.all([KEY_ETAG, KEY_URL]\n    .map(key => get(db, STORE_KEYVALUE, key)));\n  return (oldETag === eTag && oldUrl === url)\n}\n\nasync function doFullDatabaseScanForSingleResult (db, predicate) {\n  // This batching algorithm is just a perf improvement over a basic\n  // cursor. The BATCH_SIZE is an estimate of what would give the best\n  // perf for doing a full DB scan (worst case).\n  //\n  // Mini-benchmark for determining the best batch size:\n  //\n  // PERF=1 yarn build:rollup && yarn test:adhoc\n  //\n  // (async () => {\n  //   performance.mark('start')\n  //   await $('emoji-picker').database.getEmojiByShortcode('doesnotexist')\n  //   performance.measure('total', 'start')\n  //   console.log(performance.getEntriesByName('total').slice(-1)[0].duration)\n  // })()\n  const BATCH_SIZE = 50; // Typically around 150ms for 6x slowdown in Chrome for above benchmark\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, txn, cb) => {\n    let lastKey;\n\n    const processNextBatch = () => {\n      emojiStore.getAll(lastKey && IDBKeyRange.lowerBound(lastKey, true), BATCH_SIZE).onsuccess = e => {\n        const results = e.target.result;\n        for (const result of results) {\n          lastKey = result.unicode;\n          if (predicate(result)) {\n            return cb(result)\n          }\n        }\n        if (results.length < BATCH_SIZE) {\n          return cb()\n        }\n        processNextBatch();\n      };\n    };\n    processNextBatch();\n  })\n}\n\nasync function loadData (db, emojiData, url, eTag) {\n  try {\n    const transformedData = transformEmojiData(emojiData);\n    await dbPromise(db, [STORE_EMOJI, STORE_KEYVALUE], MODE_READWRITE, ([emojiStore, metaStore], txn) => {\n      let oldETag;\n      let oldUrl;\n      let todo = 0;\n\n      function checkFetched () {\n        if (++todo === 2) { // 2 requests made\n          onFetched();\n        }\n      }\n\n      function onFetched () {\n        if (oldETag === eTag && oldUrl === url) {\n          // check again within the transaction to guard against concurrency, e.g. multiple browser tabs\n          return\n        }\n        // delete old data\n        emojiStore.clear();\n        // insert new data\n        for (const data of transformedData) {\n          emojiStore.put(data);\n        }\n        metaStore.put(eTag, KEY_ETAG);\n        metaStore.put(url, KEY_URL);\n        commit(txn);\n      }\n\n      getIDB(metaStore, KEY_ETAG, result => {\n        oldETag = result;\n        checkFetched();\n      });\n\n      getIDB(metaStore, KEY_URL, result => {\n        oldUrl = result;\n        checkFetched();\n      });\n    });\n  } finally {\n  }\n}\n\nasync function getEmojiByGroup (db, group) {\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, txn, cb) => {\n    const range = IDBKeyRange.bound([group, 0], [group + 1, 0], false, true);\n    getAllIDB(emojiStore.index(INDEX_GROUP_AND_ORDER), range, cb);\n  })\n}\n\nasync function getEmojiBySearchQuery (db, query) {\n  const tokens = normalizeTokens(extractTokens(query));\n\n  if (!tokens.length) {\n    return []\n  }\n\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, txn, cb) => {\n    // get all results that contain all tokens (i.e. an AND query)\n    const intermediateResults = [];\n\n    const checkDone = () => {\n      if (intermediateResults.length === tokens.length) {\n        onDone();\n      }\n    };\n\n    const onDone = () => {\n      const results = findCommonMembers(intermediateResults, _ => _.unicode);\n      cb(results.sort((a, b) => a.order < b.order ? -1 : 1));\n    };\n\n    for (let i = 0; i < tokens.length; i++) {\n      const token = tokens[i];\n      const range = i === tokens.length - 1\n        ? IDBKeyRange.bound(token, token + '\\uffff', false, true) // treat last token as a prefix search\n        : IDBKeyRange.only(token); // treat all other tokens as an exact match\n      getAllIDB(emojiStore.index(INDEX_TOKENS), range, result => {\n        intermediateResults.push(result);\n        checkDone();\n      });\n    }\n  })\n}\n\n// This could have been implemented as an IDB index on shortcodes, but it seemed wasteful to do that\n// when we can already query by tokens and this will give us what we're looking for 99.9% of the time\nasync function getEmojiByShortcode (db, shortcode) {\n  const emojis = await getEmojiBySearchQuery(db, shortcode);\n\n  // In very rare cases (e.g. the shortcode \"v\" as in \"v for victory\"), we cannot search because\n  // there are no usable tokens (too short in this case). In that case, we have to do an inefficient\n  // full-database scan, which I believe is an acceptable tradeoff for not having to have an extra\n  // index on shortcodes.\n\n  if (!emojis.length) {\n    const predicate = _ => ((_.shortcodes || []).includes(shortcode.toLowerCase()));\n    return (await doFullDatabaseScanForSingleResult(db, predicate)) || null\n  }\n\n  return emojis.filter(_ => {\n    const lowerShortcodes = (_.shortcodes || []).map(_ => _.toLowerCase());\n    return lowerShortcodes.includes(shortcode.toLowerCase())\n  })[0] || null\n}\n\nasync function getEmojiByUnicode (db, unicode) {\n  return dbPromise(db, STORE_EMOJI, MODE_READONLY, (emojiStore, txn, cb) => (\n    getIDB(emojiStore, unicode, result => {\n      if (result) {\n        return cb(result)\n      }\n      getIDB(emojiStore.index(INDEX_SKIN_UNICODE), unicode, result => cb(result || null));\n    })\n  ))\n}\n\nfunction get (db, storeName, key) {\n  return dbPromise(db, storeName, MODE_READONLY, (store, txn, cb) => (\n    getIDB(store, key, cb)\n  ))\n}\n\nfunction set (db, storeName, key, value) {\n  return dbPromise(db, storeName, MODE_READWRITE, (store, txn) => {\n    store.put(value, key);\n    commit(txn);\n  })\n}\n\nfunction incrementFavoriteEmojiCount (db, unicode) {\n  return dbPromise(db, STORE_FAVORITES, MODE_READWRITE, (store, txn) => (\n    getIDB(store, unicode, result => {\n      store.put((result || 0) + 1, unicode);\n      commit(txn);\n    })\n  ))\n}\n\nfunction getTopFavoriteEmoji (db, customEmojiIndex, limit) {\n  if (limit === 0) {\n    return []\n  }\n  return dbPromise(db, [STORE_FAVORITES, STORE_EMOJI], MODE_READONLY, ([favoritesStore, emojiStore], txn, cb) => {\n    const results = [];\n    favoritesStore.index(INDEX_COUNT).openCursor(undefined, 'prev').onsuccess = e => {\n      const cursor = e.target.result;\n      if (!cursor) { // no more results\n        return cb(results)\n      }\n\n      function addResult (result) {\n        results.push(result);\n        if (results.length === limit) {\n          return cb(results) // done, reached the limit\n        }\n        cursor.continue();\n      }\n\n      const unicodeOrName = cursor.primaryKey;\n      const custom = customEmojiIndex.byName(unicodeOrName);\n      if (custom) {\n        return addResult(custom)\n      }\n      // This could be done in parallel (i.e. make the cursor and the get()s parallelized),\n      // but my testing suggests it's not actually faster.\n      getIDB(emojiStore, unicodeOrName, emoji => {\n        if (emoji) {\n          return addResult(emoji)\n        }\n        // emoji not found somehow, ignore (may happen if custom emoji change)\n        cursor.continue();\n      });\n    };\n  })\n}\n\n// trie data structure for prefix searches\n// loosely based on https://github.com/nolanlawson/substring-trie\n\nconst CODA_MARKER = ''; // marks the end of the string\n\nfunction trie (arr, itemToTokens) {\n  const map = new Map();\n  for (const item of arr) {\n    const tokens = itemToTokens(item);\n    for (const token of tokens) {\n      let currentMap = map;\n      for (let i = 0; i < token.length; i++) {\n        const char = token.charAt(i);\n        let nextMap = currentMap.get(char);\n        if (!nextMap) {\n          nextMap = new Map();\n          currentMap.set(char, nextMap);\n        }\n        currentMap = nextMap;\n      }\n      let valuesAtCoda = currentMap.get(CODA_MARKER);\n      if (!valuesAtCoda) {\n        valuesAtCoda = [];\n        currentMap.set(CODA_MARKER, valuesAtCoda);\n      }\n      valuesAtCoda.push(item);\n    }\n  }\n\n  const search = (query, exact) => {\n    let currentMap = map;\n    for (let i = 0; i < query.length; i++) {\n      const char = query.charAt(i);\n      const nextMap = currentMap.get(char);\n      if (nextMap) {\n        currentMap = nextMap;\n      } else {\n        return []\n      }\n    }\n\n    if (exact) {\n      const results = currentMap.get(CODA_MARKER);\n      return results || []\n    }\n\n    const results = [];\n    // traverse\n    const queue = [currentMap];\n    while (queue.length) {\n      const currentMap = queue.shift();\n      const entriesSortedByKey = [...currentMap.entries()].sort((a, b) => a[0] < b[0] ? -1 : 1);\n      for (const [key, value] of entriesSortedByKey) {\n        if (key === CODA_MARKER) { // CODA_MARKER always comes first; it's the empty string\n          results.push(...value);\n        } else {\n          queue.push(value);\n        }\n      }\n    }\n    return results\n  };\n\n  return search\n}\n\nconst requiredKeys$1 = [\n  'name',\n  'url'\n];\n\nfunction assertCustomEmojis (customEmojis) {\n  const isArray = customEmojis && Array.isArray(customEmojis);\n  const firstItemIsFaulty = isArray &&\n    customEmojis.length &&\n    (!customEmojis[0] || requiredKeys$1.some(key => !(key in customEmojis[0])));\n  if (!isArray || firstItemIsFaulty) {\n    throw new Error('Custom emojis are in the wrong format')\n  }\n}\n\nfunction customEmojiIndex (customEmojis) {\n  assertCustomEmojis(customEmojis);\n\n  const sortByName = (a, b) => a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1;\n\n  //\n  // all()\n  //\n  const all = customEmojis.sort(sortByName);\n\n  //\n  // search()\n  //\n  const emojiToTokens = emoji => (\n    [...new Set((emoji.shortcodes || []).map(shortcode => extractTokens(shortcode)).flat())]\n  );\n  const searchTrie = trie(customEmojis, emojiToTokens);\n  const searchByExactMatch = _ => searchTrie(_, true);\n  const searchByPrefix = _ => searchTrie(_, false);\n\n  // Search by query for custom emoji. Similar to how we do this in IDB, the last token\n  // is treated as a prefix search, but every other one is treated as an exact match.\n  // Then we AND the results together\n  const search = query => {\n    const tokens = extractTokens(query);\n    const intermediateResults = tokens.map((token, i) => (\n      (i < tokens.length - 1 ? searchByExactMatch : searchByPrefix)(token)\n    ));\n    return findCommonMembers(intermediateResults, _ => _.name).sort(sortByName)\n  };\n\n  //\n  // byShortcode, byName\n  //\n  const shortcodeToEmoji = new Map();\n  const nameToEmoji = new Map();\n  for (const customEmoji of customEmojis) {\n    nameToEmoji.set(customEmoji.name.toLowerCase(), customEmoji);\n    for (const shortcode of (customEmoji.shortcodes || [])) {\n      shortcodeToEmoji.set(shortcode.toLowerCase(), customEmoji);\n    }\n  }\n\n  const byShortcode = shortcode => shortcodeToEmoji.get(shortcode.toLowerCase());\n  const byName = name => nameToEmoji.get(name.toLowerCase());\n\n  return {\n    all,\n    search,\n    byShortcode,\n    byName\n  }\n}\n\nconst isFirefoxContentScript = typeof wrappedJSObject !== 'undefined';\n\n// remove some internal implementation details, i.e. the \"tokens\" array on the emoji object\n// essentially, convert the emoji from the version stored in IDB to the version used in-memory\nfunction cleanEmoji (emoji) {\n  if (!emoji) {\n    return emoji\n  }\n  // if inside a Firefox content script, need to clone the emoji object to prevent Firefox from complaining about\n  // cross-origin object. See: https://github.com/nolanlawson/emoji-picker-element/issues/356\n  /* istanbul ignore if */\n  if (isFirefoxContentScript) {\n    emoji = structuredClone(emoji);\n  }\n  delete emoji.tokens;\n  if (emoji.skinTones) {\n    const len = emoji.skinTones.length;\n    emoji.skins = Array(len);\n    for (let i = 0; i < len; i++) {\n      emoji.skins[i] = {\n        tone: emoji.skinTones[i],\n        unicode: emoji.skinUnicodes[i],\n        version: emoji.skinVersions[i]\n      };\n    }\n    delete emoji.skinTones;\n    delete emoji.skinUnicodes;\n    delete emoji.skinVersions;\n  }\n  return emoji\n}\n\nfunction warnETag (eTag) {\n  if (!eTag) {\n    console.warn('emoji-picker-element is more efficient if the dataSource server exposes an ETag header.');\n  }\n}\n\nconst requiredKeys = [\n  'annotation',\n  'emoji',\n  'group',\n  'order',\n  'tags',\n  'version'\n];\n\nfunction assertEmojiData (emojiData) {\n  if (!emojiData ||\n    !Array.isArray(emojiData) ||\n    !emojiData[0] ||\n    (typeof emojiData[0] !== 'object') ||\n    requiredKeys.some(key => (!(key in emojiData[0])))) {\n    throw new Error('Emoji data is in the wrong format')\n  }\n}\n\nfunction assertStatus (response, dataSource) {\n  if (Math.floor(response.status / 100) !== 2) {\n    throw new Error('Failed to fetch: ' + dataSource + ':  ' + response.status)\n  }\n}\n\nasync function getETag (dataSource) {\n  const response = await fetch(dataSource, { method: 'HEAD' });\n  assertStatus(response, dataSource);\n  const eTag = response.headers.get('etag');\n  warnETag(eTag);\n  return eTag\n}\n\nasync function getETagAndData (dataSource) {\n  const response = await fetch(dataSource);\n  assertStatus(response, dataSource);\n  const eTag = response.headers.get('etag');\n  warnETag(eTag);\n  const emojiData = await response.json();\n  assertEmojiData(emojiData);\n  return [eTag, emojiData]\n}\n\n// TODO: including these in blob-util.ts causes typedoc to generate docs for them,\n// even with --excludePrivate ¯\\_(ツ)_/¯\n/** @private */\n/**\n * Convert an `ArrayBuffer` to a binary string.\n *\n * Example:\n *\n * ```js\n * var myString = blobUtil.arrayBufferToBinaryString(arrayBuff)\n * ```\n *\n * @param buffer - array buffer\n * @returns binary string\n */\nfunction arrayBufferToBinaryString(buffer) {\n    var binary = '';\n    var bytes = new Uint8Array(buffer);\n    var length = bytes.byteLength;\n    var i = -1;\n    while (++i < length) {\n        binary += String.fromCharCode(bytes[i]);\n    }\n    return binary;\n}\n/**\n * Convert a binary string to an `ArrayBuffer`.\n *\n * ```js\n * var myBuffer = blobUtil.binaryStringToArrayBuffer(binaryString)\n * ```\n *\n * @param binary - binary string\n * @returns array buffer\n */\nfunction binaryStringToArrayBuffer(binary) {\n    var length = binary.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    var i = -1;\n    while (++i < length) {\n        arr[i] = binary.charCodeAt(i);\n    }\n    return buf;\n}\n\n// generate a checksum based on the stringified JSON\nasync function jsonChecksum (object) {\n  const inString = JSON.stringify(object);\n  const inBuffer = binaryStringToArrayBuffer(inString);\n  // this does not need to be cryptographically secure, SHA-1 is fine\n  const outBuffer = await crypto.subtle.digest('SHA-1', inBuffer);\n  const outBinString = arrayBufferToBinaryString(outBuffer);\n  const res = btoa(outBinString);\n  return res\n}\n\nasync function checkForUpdates (db, dataSource) {\n  // just do a simple HEAD request first to see if the eTags match\n  let emojiData;\n  let eTag = await getETag(dataSource);\n  if (!eTag) { // work around lack of ETag/Access-Control-Expose-Headers\n    const eTagAndData = await getETagAndData(dataSource);\n    eTag = eTagAndData[0];\n    emojiData = eTagAndData[1];\n    if (!eTag) {\n      eTag = await jsonChecksum(emojiData);\n    }\n  }\n  if (await hasData(db, dataSource, eTag)) ; else {\n    if (!emojiData) {\n      const eTagAndData = await getETagAndData(dataSource);\n      emojiData = eTagAndData[1];\n    }\n    await loadData(db, emojiData, dataSource, eTag);\n  }\n}\n\nasync function loadDataForFirstTime (db, dataSource) {\n  let [eTag, emojiData] = await getETagAndData(dataSource);\n  if (!eTag) {\n    // Handle lack of support for ETag or Access-Control-Expose-Headers\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Expose-Headers#Browser_compatibility\n    eTag = await jsonChecksum(emojiData);\n  }\n\n  await loadData(db, emojiData, dataSource, eTag);\n}\n\nclass Database {\n  constructor ({ dataSource = DEFAULT_DATA_SOURCE, locale = DEFAULT_LOCALE, customEmoji = [] } = {}) {\n    this.dataSource = dataSource;\n    this.locale = locale;\n    this._dbName = `emoji-picker-element-${this.locale}`;\n    this._db = undefined;\n    this._lazyUpdate = undefined;\n    this._custom = customEmojiIndex(customEmoji);\n\n    this._clear = this._clear.bind(this);\n    this._ready = this._init();\n  }\n\n  async _init () {\n    const db = this._db = await openDatabase(this._dbName);\n\n    addOnCloseListener(this._dbName, this._clear);\n    const dataSource = this.dataSource;\n    const empty = await isEmpty(db);\n\n    if (empty) {\n      await loadDataForFirstTime(db, dataSource);\n    } else { // offline-first - do an update asynchronously\n      this._lazyUpdate = checkForUpdates(db, dataSource);\n    }\n  }\n\n  async ready () {\n    const checkReady = async () => {\n      if (!this._ready) {\n        this._ready = this._init();\n      }\n      return this._ready\n    };\n    await checkReady();\n    // There's a possibility of a race condition where the element gets added, removed, and then added again\n    // with a particular timing, which would set the _db to undefined.\n    // We *could* do a while loop here, but that seems excessive and could lead to an infinite loop.\n    if (!this._db) {\n      await checkReady();\n    }\n  }\n\n  async getEmojiByGroup (group) {\n    assertNumber(group);\n    await this.ready();\n    return uniqEmoji(await getEmojiByGroup(this._db, group)).map(cleanEmoji)\n  }\n\n  async getEmojiBySearchQuery (query) {\n    assertNonEmptyString(query);\n    await this.ready();\n    const customs = this._custom.search(query);\n    const natives = uniqEmoji(await getEmojiBySearchQuery(this._db, query)).map(cleanEmoji);\n    return [\n      ...customs,\n      ...natives\n    ]\n  }\n\n  async getEmojiByShortcode (shortcode) {\n    assertNonEmptyString(shortcode);\n    await this.ready();\n    const custom = this._custom.byShortcode(shortcode);\n    if (custom) {\n      return custom\n    }\n    return cleanEmoji(await getEmojiByShortcode(this._db, shortcode))\n  }\n\n  async getEmojiByUnicodeOrName (unicodeOrName) {\n    assertNonEmptyString(unicodeOrName);\n    await this.ready();\n    const custom = this._custom.byName(unicodeOrName);\n    if (custom) {\n      return custom\n    }\n    return cleanEmoji(await getEmojiByUnicode(this._db, unicodeOrName))\n  }\n\n  async getPreferredSkinTone () {\n    await this.ready();\n    return (await get(this._db, STORE_KEYVALUE, KEY_PREFERRED_SKINTONE)) || 0\n  }\n\n  async setPreferredSkinTone (skinTone) {\n    assertNumber(skinTone);\n    await this.ready();\n    return set(this._db, STORE_KEYVALUE, KEY_PREFERRED_SKINTONE, skinTone)\n  }\n\n  async incrementFavoriteEmojiCount (unicodeOrName) {\n    assertNonEmptyString(unicodeOrName);\n    await this.ready();\n    return incrementFavoriteEmojiCount(this._db, unicodeOrName)\n  }\n\n  async getTopFavoriteEmoji (limit) {\n    assertNumber(limit);\n    await this.ready();\n    return (await getTopFavoriteEmoji(this._db, this._custom, limit)).map(cleanEmoji)\n  }\n\n  set customEmoji (customEmojis) {\n    this._custom = customEmojiIndex(customEmojis);\n  }\n\n  get customEmoji () {\n    return this._custom.all\n  }\n\n  async _shutdown () {\n    await this.ready(); // reopen if we've already been closed/deleted\n    try {\n      await this._lazyUpdate; // allow any lazy updates to process before closing/deleting\n    } catch (err) { /* ignore network errors (offline-first) */ }\n  }\n\n  // clear references to IDB, e.g. during a close event\n  _clear () {\n    // We don't need to call removeEventListener or remove the manual \"close\" listeners.\n    // The memory leak tests prove this is unnecessary. It's because:\n    // 1) IDBDatabases that can no longer fire \"close\" automatically have listeners GCed\n    // 2) we clear the manual close listeners in databaseLifecycle.js.\n    this._db = this._ready = this._lazyUpdate = undefined;\n  }\n\n  async close () {\n    await this._shutdown();\n    await closeDatabase(this._dbName);\n  }\n\n  async delete () {\n    await this._shutdown();\n    await deleteDatabase(this._dbName);\n  }\n}\n\nexport { Database as default };\n","const storage = localStorage;\r\n\r\nfunction setStorage(name, data) {\r\n    storage.setItem(name, JSON.stringify(data));\r\n}\r\n\r\nfunction getStorage(name) {\r\n    const data = JSON.parse(storage[name]);\r\n\r\n    return data;\r\n}\r\n\r\nfunction removeStorage(name) {\r\n    storage.removeItem(name);\r\n}\r\n\r\nexport { setStorage, getStorage, removeStorage };\r\n","import { UI } from './variables.mjs';\r\nimport { addMessage } from './help-functions.mjs';\r\nimport { getStorage } from './storage.mjs';\r\n\r\nlet indexMessage = 0;\r\n\r\nfunction limitMessages(arrayHistoryMessages, limitCount) {\r\n    for (let i = 0; i < limitCount; i++) {\r\n        if (indexMessage >= arrayHistoryMessages.length) {\r\n            UI.dialogWindow.removeEventListener(\r\n                'scroll',\r\n                virtualScrollMessages\r\n            );\r\n            indexMessage = 0;\r\n            return;\r\n        }\r\n\r\n        addMessage(arrayHistoryMessages[indexMessage], 'prepend');\r\n\r\n        indexMessage++;\r\n    }\r\n}\r\n\r\nfunction virtualScrollMessages() {\r\n    // начальная высота\r\n    let prevScrollHeight = UI.dialogWindow.scrollHeight;\r\n\r\n    if (UI.dialogWindow.scrollTop === 0) {\r\n        limitMessages(getStorage('messages'), 20);\r\n\r\n        // Рассчитываем разницу в высоте контейнера после подгрузки сообщений\r\n        let newScrollHeight = UI.dialogWindow.scrollHeight;\r\n        let scrollDiff = newScrollHeight - prevScrollHeight;\r\n\r\n        // Устанавливаем новую прокрутку для сохранения позиции отображаемого контента\r\n        UI.dialogWindow.scrollTop = scrollDiff;\r\n    }\r\n}\r\n\r\nfunction clearIndexMessage() {\r\n    indexMessage = 0;\r\n}\r\n\r\nexport { limitMessages, virtualScrollMessages, clearIndexMessage };\r\n"],"names":["$be550d328187eb94$var$src_url_equal_anchor","$be550d328187eb94$var$current_component","$be550d328187eb94$var$promise","$be550d328187eb94$var$baselineEmojiWidth","$3fba0bda95caa784$var$socket","$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$1a6786126688624c$exports","URL","resolve","url","toString","$64cdc957780bedd4$exports","$d99691f014277461$exports","$fa56304bd2143c42$exports","$32e0d53858d16f8d$exports","$2976aa61788b069c$exports","$710d9f988580cc01$export$4b08aed5f1ec6952","chat","document","querySelector","dialogWindow","enterFieldChat","btnSend","form","btnSettings","btnSignOut","preload","nickname","btnEmoji","emojiContainer","emoji","$710d9f988580cc01$export$c3905cc64f203472","modal","btnModalClose","btnGiveCode","btnEnterCode","btnSingIn","enterFieldModal","titleModal","titleInputModal","btnRename","btnBack","notification","notificationText","notificationName","$710d9f988580cc01$export$a0b86ff86acae638","authorization","title","inputTitle","placeholder","notificationOk","notificationError","confirmation","notificationIncorrectCode","settings","$710d9f988580cc01$export$fde44257752a9f60","srcBtnDisabled","srcBtnActive","srcBtnRenameActive","srcBtnRenameDisabled","srcBtnEmojiActive","srcBtnEmojiDisabled","$710d9f988580cc01$export$6120d77db9a8f6cb","sendingMessage","inboxMessage","hideBtn","activeBtn","showEmoji","$710d9f988580cc01$export$e8ce68e05eb6eb69","$710d9f988580cc01$export$a3574df893ffa88d","$710d9f988580cc01$export$b3167c59aca35da5","messageTimeTemplate","content","messageTextTemlate","messageNicknameTemlate","$666bc8f27f76152a$exports","$de88f8a217b692c9$export$110700823644f4a6","name","value","set","$de88f8a217b692c9$export$4be65e66cfa2648a","get","$de88f8a217b692c9$export$6a874b7a74007875","remove","$b8f57191916382d3$export$2e2bcd8739ae039","obj","Symbol","iterator","constructor","prototype","$377d1ce359384586$export$2e2bcd8739ae039","required","args","length","TypeError","$bce2d00733a79246$export$2e2bcd8739ae039","argument","arguments","argStr","Object","Date","getTime","console","warn","stack","NaN","$a874c42e2166676d$export$2e2bcd8739ae039","dirtyNumber","number","Number","isNaN","Math","ceil","floor","$8b6bcc549b1c1b29$export$2e2bcd8739ae039","dirtyDate","date","day","getUTCDay","setUTCDate","getUTCDate","setUTCHours","$56d5b29bd1df6af4$export$2e2bcd8739ae039","year","getUTCFullYear","fourthOfJanuaryOfNextYear","setUTCFullYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","factory","assign","target","i","source","key","converter","defaultAttributes","attributes","expires","now","toUTCString","encodeURIComponent","replace","decodeURIComponent","escape","stringifiedAttributes","attributeName","split","cookie","write","create","cookies","jar","parts","slice","join","found","read","e","withAttributes","withConverter","freeze","path","$1f47e002602f8387$var$defaultOptions","$0dfbcd4e04a34858$export$2e2bcd8739ae039","options","_ref","_ref2","_ref3","_options$weekStartsOn","_options$locale","_options$locale$optio","_defaultOptions$local","_defaultOptions$local2","weekStartsOn","locale","defaultOptions","RangeError","$efe8c2ce4ac4bd36$export$2e2bcd8739ae039","_options$firstWeekCon","firstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","$88335940ad51fc8f$export$2e2bcd8739ae039","targetLength","output","abs","sign","$8dea7dd01f0b97c2$export$2e2bcd8739ae039","y","token","signedYear","M","month","getUTCMonth","String","d","dayPeriodEnumValue","getUTCHours","toUpperCase","h","H","m","getUTCMinutes","s","getUTCSeconds","S","numberOfDigits","milliseconds","getUTCMilliseconds","pow","$d91e238bf521c720$var$dayPeriodEnum","am","pm","midnight","noon","morning","afternoon","evening","night","$d91e238bf521c720$var$formatTimezoneShort","offset","dirtyDelimiter","absOffset","hours","minutes","$d91e238bf521c720$var$formatTimezoneWithOptionalMinutes","$d91e238bf521c720$var$formatTimezone","$d91e238bf521c720$export$2e2bcd8739ae039","G","localize","era","width","ordinalNumber","unit","Y","signedWeekYear","weekYear","R","u","Q","quarter","context","q","L","w","week","round","diff","firstWeek","I","isoWeek","fourthOfJanuary","D","dayOfYear","timestamp","setUTCMonth","difference","E","dayOfWeek","localDayOfWeek","c","isoDayOfWeek","dayPeriod","toLowerCase","b","B","K","k","X","_localize","timezoneOffset","originalDate","_originalDate","getTimezoneOffset","x","O","z","t","T","$4f085685fa15e740$var$dateLongFormatter","pattern","formatLong","$4f085685fa15e740$var$timeLongFormatter","time","$4f085685fa15e740$export$2e2bcd8739ae039","p","P","dateTimeFormat","matchResult","match","datePattern","timePattern","dateTime","$a5375092e28b891e$var$protectedDayOfYearTokens","$a5375092e28b891e$var$protectedWeekYearTokens","$a5375092e28b891e$export$8073c1ae88f0e727","format","input","concat","$1c4e78b8ee7f66d8$var$formatDistanceLocale","lessThanXSeconds","one","other","xSeconds","halfAMinute","lessThanXMinutes","xMinutes","aboutXHours","xHours","xDays","aboutXWeeks","xWeeks","aboutXMonths","xMonths","aboutXYears","xYears","overXYears","almostXYears","$05b7040d79e43f9d$export$2e2bcd8739ae039","undefined","defaultWidth","formats","$b99de2b03d4f39be$var$formatLong","full","long","medium","short","$117705cf2af2348d$var$formatRelativeLocale","lastWeek","yesterday","today","tomorrow","nextWeek","$eda89c8f88184c82$export$2e2bcd8739ae039","dirtyIndex","valuesArray","formattingValues","defaultFormattingWidth","_defaultWidth","_width","values","argumentCallback","$c309fdccb9ef673a$export$2e2bcd8739ae039","string","matchPattern","matchPatterns","defaultMatchWidth","matchedString","parsePatterns","defaultParseWidth","Array","isArray","$c309fdccb9ef673a$var$findIndex","array","predicate","test","$c309fdccb9ef673a$var$findKey","object","hasOwnProperty","valueCallback","rest","$98e3d5324cb7d94c$export$2e2bcd8739ae039","formatDistance","count","result","tokenValue","addSuffix","comparison","formatRelative","_date","_baseDate","_options","rem100","narrow","abbreviated","wide","parseResult","parsePattern","parseInt","any","index","$4e349bc0dbb08c36$var$formattingTokensRegExp","$4e349bc0dbb08c36$var$longFormattingTokensRegExp","$4e349bc0dbb08c36$var$escapedStringRegExp","$4e349bc0dbb08c36$var$doubleQuoteRegExp","$4e349bc0dbb08c36$var$unescapedLatinCharacterRegExp","$b5c6963edcfcb4e9$export$16fdb433d434f08","message","methodPast","leftRight","user","email","textContent","text","createdAt","dirtyFormatStr","utcDate","_ref4","_options$locale2","_options$locale2$opti","_ref5","_ref6","_ref7","_options$locale3","_options$locale3$opti","_defaultOptions$local3","_defaultOptions$local4","formatStr","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","dirtyAmount","amount","formatterOptions","map","substring","firstCharacter","longFormatter","matched","formatter","useAdditionalWeekYearTokens","indexOf","useAdditionalDayOfYearTokens","messageUi","cloneNode","massageContainerTemp","classList","add","append","prepend","$b5c6963edcfcb4e9$export$842a2c6e548c1a51","display","style","$b5c6963edcfcb4e9$export$bbbb45d5eb700a7f","$b5c6963edcfcb4e9$export$1f118464b19479f","scrollTop","scrollHeight","$b5c6963edcfcb4e9$export$cb41e6503c45b8bc","btn","action","$b5c6963edcfcb4e9$export$ab66e971ce242cbb","disabled","$b5c6963edcfcb4e9$export$46ddbcfb297b2ac1","field","tagName","$b5c6963edcfcb4e9$export$9290f16dbdfc1540","trim","$b5c6963edcfcb4e9$export$e8526dd1ace08941","valueField","$b5c6963edcfcb4e9$export$e567f31d54438c5d","srcIconActive","scrIconDisabled","backgroundImage","$b5c6963edcfcb4e9$export$4ee5d0f98c2d1c9e","modalTitle","status","$b5c6963edcfcb4e9$export$a1c0bdd34d25acfd","cyrillicRegex","$5cff75d90e5947a4$var$URL_BASE","$5cff75d90e5947a4$export$61abde59b50deb8e","urlToken","urlDataProfile","urlHistoryMessages","$5cff75d90e5947a4$export$6e7a69411e551f0e","post","patch","$5cff75d90e5947a4$export$631adbe1e95fef13","method","moreHeader","response","fetch","headers","Authorization","body","JSON","stringify","answer","json","log","error","$65a319e28abc9d7a$export$180aadb5b333118e","event","$65a319e28abc9d7a$export$af4939467128bcd0","$65a319e28abc9d7a$export$d7e8d4d4450c819c","$65a319e28abc9d7a$export$69bf191433722f78","titleInput","$f19b912d87716459$var$assertNonEmptyString","str","$f19b912d87716459$var$assertNumber","$f19b912d87716459$var$STORE_EMOJI","$f19b912d87716459$var$STORE_KEYVALUE","$f19b912d87716459$var$STORE_FAVORITES","$f19b912d87716459$var$INDEX_TOKENS","$f19b912d87716459$var$INDEX_COUNT","$f19b912d87716459$var$INDEX_GROUP_AND_ORDER","$f19b912d87716459$var$KEY_ETAG","$f19b912d87716459$var$KEY_PREFERRED_SKINTONE","$f19b912d87716459$var$MODE_READONLY","$f19b912d87716459$var$MODE_READWRITE","$f19b912d87716459$var$INDEX_SKIN_UNICODE","$f19b912d87716459$var$uniqEmoji","emojis","$f19b912d87716459$var$uniqBy","arr","func","Set","res","item","has","push","_","unicode","$f19b912d87716459$var$openIndexedDBRequests","$f19b912d87716459$var$databaseCache","$f19b912d87716459$var$onCloseListeners","$f19b912d87716459$var$handleOpenOrDeleteReq","reject","req","onerror","onblocked","onsuccess","$f19b912d87716459$var$createDatabase","dbName","db","Promise","indexedDB","open","onupgradeneeded","oldVersion","$f19b912d87716459$var$initialMigration","createObjectStore","keyPath","indexes","store","indexName","multiEntry","entries","createIndex","onclose","$f19b912d87716459$var$closeDatabase","$f19b912d87716459$var$dbPromise","storeName","readOnlyOrReadWrite","cb","txn","transaction","durability","objectStore","oncomplete","close","listeners","listener","$f19b912d87716459$var$irregularEmoticons","$f19b912d87716459$var$extractTokens","word","filter","Boolean","$f19b912d87716459$var$normalizeTokens","$f19b912d87716459$var$callStore","$f19b912d87716459$var$getIDB","$f19b912d87716459$var$getAllIDB","$f19b912d87716459$var$commit","commit","$f19b912d87716459$var$findCommonMembers","arrays","uniqByFunc","shortestArray","$f19b912d87716459$var$minBy","minItem","results","some","findIndex","$f19b912d87716459$var$isEmpty","$f19b912d87716459$var$get","$f19b912d87716459$var$hasData","eTag","oldETag","oldUrl","all","$f19b912d87716459$var$doFullDatabaseScanForSingleResult","emojiStore","lastKey","processNextBatch","getAll","IDBKeyRange","lowerBound","$f19b912d87716459$var$loadData","emojiData","transformedData","$f19b912d87716459$var$transformEmojiData","annotation","emoticon","group","order","shortcodes","skins","tags","version","tokens","flat","sort","tone","skinTones","skinUnicodes","skinVersions","metaStore","todo","checkFetched","onFetched","data","clear","put","$f19b912d87716459$var$getEmojiByGroup","range","bound","$f19b912d87716459$var$getEmojiBySearchQuery","query","intermediateResults","checkDone","onDone","only","$f19b912d87716459$var$getEmojiByShortcode","shortcode","lowerShortcodes","includes","$f19b912d87716459$var$getEmojiByUnicode","$f19b912d87716459$var$requiredKeys$1","$f19b912d87716459$var$customEmojiIndex","customEmojis","$f19b912d87716459$var$assertCustomEmojis","firstItemIsFaulty","sortByName","searchTrie","$f19b912d87716459$var$trie","itemToTokens","Map","currentMap","char","charAt","nextMap","valuesAtCoda","exact","queue","shift","entriesSortedByKey","searchByExactMatch","searchByPrefix","shortcodeToEmoji","nameToEmoji","customEmoji","search","byShortcode","byName","$f19b912d87716459$var$isFirefoxContentScript","wrappedJSObject","$f19b912d87716459$var$cleanEmoji","structuredClone","len","$f19b912d87716459$var$warnETag","$f19b912d87716459$var$requiredKeys","$f19b912d87716459$var$assertStatus","dataSource","$f19b912d87716459$var$getETag","$f19b912d87716459$var$getETagAndData","$f19b912d87716459$var$assertEmojiData","$f19b912d87716459$var$jsonChecksum","inString","inBuffer","$f19b912d87716459$var$binaryStringToArrayBuffer","binary","buf","ArrayBuffer","Uint8Array","charCodeAt","outBuffer","crypto","subtle","digest","outBinString","$f19b912d87716459$var$arrayBufferToBinaryString","buffer","bytes","byteLength","fromCharCode","btoa","$f19b912d87716459$var$checkForUpdates","eTagAndData","$f19b912d87716459$var$loadDataForFirstTime","$f19b912d87716459$export$2e2bcd8739ae039","_dbName","_db","_lazyUpdate","_custom","_clear","bind","_ready","_init","empty","ready","checkReady","getEmojiByGroup","getEmojiBySearchQuery","customs","natives","getEmojiByShortcode","custom","getEmojiByUnicodeOrName","unicodeOrName","getPreferredSkinTone","setPreferredSkinTone","skinTone","incrementFavoriteEmojiCount","getTopFavoriteEmoji","limit","customEmojiIndex","favoritesStore","openCursor","cursor","addResult","continue","primaryKey","_shutdown","delete","deleteDatabase","$be550d328187eb94$var$noop","$be550d328187eb94$var$run","fn","$be550d328187eb94$var$blank_object","$be550d328187eb94$var$run_all","fns","forEach","$be550d328187eb94$var$is_function","thing","$be550d328187eb94$var$safe_not_equal","$be550d328187eb94$var$src_url_equal","element_src","createElement","href","$be550d328187eb94$var$globals","$be550d328187eb94$var$append","node","appendChild","$be550d328187eb94$var$insert","anchor","insertBefore","$be550d328187eb94$var$detach","parentNode","removeChild","$be550d328187eb94$var$element","$be550d328187eb94$var$text","createTextNode","$be550d328187eb94$var$listen","handler","addEventListener","removeEventListener","$be550d328187eb94$var$attr","attribute","removeAttribute","getAttribute","setAttribute","$be550d328187eb94$var$set_data","$be550d328187eb94$var$set_input_value","$be550d328187eb94$var$set_style","important","removeProperty","setProperty","$be550d328187eb94$var$dirty_components","$be550d328187eb94$var$binding_callbacks","$be550d328187eb94$var$render_callbacks","$be550d328187eb94$var$flush_callbacks","$be550d328187eb94$var$resolved_promise","$be550d328187eb94$var$update_scheduled","$be550d328187eb94$var$add_render_callback","$be550d328187eb94$var$seen_callbacks","$be550d328187eb94$var$flushidx","$be550d328187eb94$var$flush","saved_component","component","$be550d328187eb94$var$update","$$","fragment","update","before_update","dirty","ctx","after_update","pop","callback","$be550d328187eb94$var$outroing","$be550d328187eb94$var$destroy_block","block","lookup","$be550d328187eb94$var$update_keyed_each","old_blocks","get_key","dynamic","list","destroy","create_each_block","next","get_context","o","n","old_indexes","new_blocks","new_lookup","deltas","updates","child_ctx","will_move","did_move","insert","first","new_block","old_block","new_key","old_key","$be550d328187eb94$var$SvelteComponent","$destroy","$be550d328187eb94$var$destroy_component","detaching","$be550d328187eb94$var$flush_render_callbacks","filtered","targets","on_destroy","$on","type","callbacks","splice","$set","$$props","$$set","keys","skip_bound","$be550d328187eb94$var$allGroups","$be550d328187eb94$var$groups","$be550d328187eb94$var$customGroup","$be550d328187eb94$var$rIC","requestIdleCallback","setTimeout","$be550d328187eb94$var$hasZwj","$be550d328187eb94$var$versionsAndTestEmoji","$be550d328187eb94$var$MOST_COMMONLY_USED_EMOJI","$be550d328187eb94$var$FONT_FAMILY","$be550d328187eb94$var$DEFAULT_CATEGORY_SORTING","$be550d328187eb94$var$getTextFeature","color","canvas","height","getContext","textBaseline","font","fillStyle","scale","fillText","getImageData","$be550d328187eb94$var$compareFeatures","feature1","feature2","feature1Str","feature2Str","startsWith","$be550d328187eb94$var$detectEmojiSupportLevel","$be550d328187eb94$var$determineEmojiSupportLevel","$be550d328187eb94$var$testColorEmojiSupported","$be550d328187eb94$var$supportedZwjEmojis","$be550d328187eb94$var$halt","preventDefault","stopPropagation","$be550d328187eb94$var$incrementOrDecrement","decrement","val","$be550d328187eb94$var$uniqBy","$be550d328187eb94$var$rAF","requestAnimationFrame","$be550d328187eb94$var$resizeObserverSupported","ResizeObserver","$be550d328187eb94$var$calculateTextWidth","createRange","selectNode","firstChild","getBoundingClientRect","$be550d328187eb94$var$Map_1","$be550d328187eb94$var$get_each_context","$be550d328187eb94$var$get_each_context_1","$be550d328187eb94$var$get_each_context_2","$be550d328187eb94$var$get_each_context_3","$be550d328187eb94$var$get_each_context_4","$be550d328187eb94$var$create_each_block_4","key_1","div","div_id_value","div_class_value","div_aria_selected_value","div_title_value","div_aria_label_value","t_value","new_ctx","$be550d328187eb94$var$create_each_block_3","button","button_aria_controls_value","button_aria_label_value","button_aria_selected_value","button_title_value","mounted","dispose","click_handler","categories","$be550d328187eb94$var$create_else_block_1","img","img_src_value","src","$be550d328187eb94$var$create_if_block_1","$be550d328187eb94$var$create_each_block_2","button_role_value","button_class_value","button_id_value","select_block_type","current_block_type","if_block","$be550d328187eb94$var$create_each_block_1","div0","div0_id_value","div0_class_value","div1","div1_role_value","div1_aria_labelledby_value","div1_id_value","searchResultsLabel","category","each_blocks","each_1_lookup","each_value_2","$be550d328187eb94$var$create_else_block","$be550d328187eb94$var$create_if_block","$be550d328187eb94$var$create_each_block","select_block_type_1","$be550d328187eb94$var$create_fragment","section","div4","input_placeholder_value","input_aria_expanded_value","input_aria_activedescendant_value","label","t0","span0","t1","div2","button0","t2","button0_class_value","div2_class_value","span1","t3","div3","div3_class_value","div3_aria_label_value","div3_aria_activedescendant_value","div3_aria_hidden_value","div5","div5_aria_label_value","div7","div6","div8","t4","div8_class_value","div10","div9","div10_class_value","div10_role_value","div10_aria_label_value","div10_id_value","div11","div11_class_value","div11_aria_label_value","button1","section_aria_label_value","t0_value","searchLabel","t1_value","searchDescription","t3_value","skinToneDescription","each_blocks_3","each0_lookup","each_blocks_2","each1_lookup","each_blocks_1","each2_lookup","each3_lookup","each_value_4","each_value_3","get_key_1","each_value_1","get_key_2","each_value","get_key_3","skinTonesLabel","categoriesLabel","favoritesLabel","regionLabel","action_result","$be550d328187eb94$var$instance","$$self","$$invalidate","rootElement","baselineEmoji","tabpanelElement","skinToneDropdown","skinToneButtonText","pickerStyle","defaultFavoriteEmojis","currentGroup","activeSearchItemId","skinToneEmoji","i18n","database","customCategorySorting","emojiVersion","currentEmojis","currentEmojisWithCategories","rawSearchText","searchText","searchMode","activeSearchItem","skinTonePickerExpanded","skinTonePickerExpandedAfterAnimation","currentSkinTone","activeSkinTone","skinToneButtonLabel","currentFavorites","numColumns","isRtl","scrollbarWidth","currentGroupIndex","groups$1","databaseLoaded","focus","getRootNode","getElementById","fireEvent","detail","dispatchEvent","CustomEvent","bubbles","composed","unicodeWithSkin","isZwjSupported","filterEmojisByVersion","emojiSupportLevel","summarizeEmojis","$be550d328187eb94$var$summarizeEmojisForUI","toSimpleSkinsMap","skin","getEmojisByGroup","getEmojisBySearchQuery","onNavClick","clickEmoji","emojiSummary","find","skinTonedUnicode","onEmojiClick","contains","changeSkinTone","onSkinToneOptionsFocusOut","relatedTarget","$be550d328187eb94$var$get_current_component","on_mount","then","level","emojiUnsupportedMessage","handleDatabaseLoading","showingLoadingMessage","timeoutHandle","loadingMessage","networkErrorMessage","clearTimeout","updateEmojis","currentSearchText","newEmojis","currentGroupId","updatePreferredSkinTone","fill","$be550d328187eb94$var$applySkinTone","zwjIndex","fromCodePoint","$be550d328187eb94$var$LIGHT_SKIN_TONE","endsWith","$be550d328187eb94$var$LIGHT_SKIN_TONE_MODIFIER","skinToneLabel","updateDefaultFavoriteEmojis","updateFavorites","dbFavorites","favorites","zwjEmojisToCheck","checkZwjSupportAndUpdate","rootNode","$be550d328187eb94$var$checkZwjSupport","emojiToDomNode","domNode","emojiWidth","supported","element","calculateCurrentEmojisWithCategories","categoriesToEmoji","once","$be550d328187eb94$var$uniq","onUpdate","resizeObserver","getComputedStyle","newNumColumns","getPropertyValue","newIsRtl","parentWidth","parentElement","contentRect","observe","disconnect","goToNextOrPrevious","previous","doFocus","el","previousSibling","nextSibling","lastChild","changeActiveSkinTone","nextSkinTone","$$value","$be550d328187eb94$var$Picker","$be550d328187eb94$var$init","instance","create_fragment","not_equal","props","append_styles","parent_component","on_disconnect","root","ret","$be550d328187eb94$var$mount_component","customElement","new_on_destroy","$be550d328187eb94$var$enI18n","activities","objects","symbols","flags","$be550d328187eb94$var$PROPS","$be550d328187eb94$var$EXTRA_STYLES","$be550d328187eb94$export$2e2bcd8739ae039","HTMLElement","attachShadow","mode","prop","shadowRoot","_ctx","_dbFlush","connectedCallback","_cmp","disconnectedCallback","isConnected","catch","observedAttributes","attributeChangedCallback","attrName","oldValue","newValue","_set","up","parseFloat","_dbCreate","$be550d328187eb94$var$definitions","defineProperties","customElements","define","$dc44ecbcc97d7d88$var$storage","localStorage","$dc44ecbcc97d7d88$export$fbd9b57a66480737","parse","$dc44ecbcc97d7d88$export$35643b50c8531956","removeItem","$b786ff3f49963c47$var$indexMessage","$b786ff3f49963c47$export$e5dbd33415777465","arrayHistoryMessages","limitCount","$b786ff3f49963c47$export$d03dd790bc7330e0","prevScrollHeight","newScrollHeight","$3fba0bda95caa784$var$chekAuthorization","$3fba0bda95caa784$var$connectionWebSocket","$3fba0bda95caa784$var$actionInputRename","$3fba0bda95caa784$var$renameNickname","$3fba0bda95caa784$var$actionBtnEnterCode","$3fba0bda95caa784$var$actionInputGetCode","$3fba0bda95caa784$var$actionInputSignIn","$3fba0bda95caa784$var$clickBtnBack","$3fba0bda95caa784$var$getCode","$3fba0bda95caa784$var$getConfirmAuthorization","$3fba0bda95caa784$var$sendingMessage","send","$3fba0bda95caa784$var$getValueMessageForm","formData","FormData","WebSocket","onopen","readyState","alert","messages","setItem","onmessage","serverAnswer","wasClean","reason","$3fba0bda95caa784$var$clickBtnEmoji","elemTarget","toggle","querySelectorAll","ctrlKey","shiftKey","selection","getSelection","selectNodeContents","collapse","removeAllRanges","addRange","widthWindow","innerWidth"],"version":3,"file":"index.da8e334a.js.map"}